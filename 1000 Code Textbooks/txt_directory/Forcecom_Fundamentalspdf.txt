

Force.com Platform Fundamentals
An Introduction to Custom Application Development in the Cloud
Version 6
August 2011
By Phil Choi
Chris McGuire
Caroline Roth
With contributions by
Dave Carroll
Nick Tran
Andrea Leszek
Ari Langer
Force.com Platform Fundamentals
© Copyright 2000-2011 salesforce.com, inc. All rights reserved. Salesforce.com is a registered trademark
of salesforce.com, inc., as are other names and marks. Other marks appearing herein may be
trademarks of their respective owners.
No part of this publication may be reproduced, stored in a retrieval system, or transmitted, in any
form, or by any means, electronic, mechanical, photocopying, recording, or otherwise, without the
prior consent of the publisher.
ISBN: 978-0-9789639-3-4
With special thanks to Grant Anderson, Steve Anderson, Dean Atchison, Sheri Bernard, Mysti Berry,
Eric Bezar, James Bisso, Gina Blednyh, Michelle Chapman-Thurber, Leah Cutter, Steve Fisher, Carol
Franger, Katia Hage, Ron Hess, Vincent Hurtel, Paul Kopacki, Sarah Marovich, Jon Mountjoy, Lauren
Pederson, Vahn Phan, Kimberley Rathbun, Elizabeth Rice, Mary Scotton, Andrew Smith, Tom Tobin,
Garen Torikian, Adam Torman, Andrew Waite, Joanne Ward, Sarah Whitlock, Clive Wong, and the
Training & Certification team.
Table of Contents
Preface ............................................................................................. 1
Welcome to the Cloud! ......................................................................................... 1
Platfor ms for Cloud Co mputing ............................................................... 2
About This Boo k.................................................................................................. 2
Intended A udience .................................................................................... 3
Chapter Co ntents ...................................................................................... 3
Choosing Your De velopment En vironment .............................................. 5
Sending F eedbac k..................................................................................... 5
About De veloper F orce......................................................................................... 5
Salesfor ce.co m Training & Cer tification............................................................... 6
Chapter 2: Introducing the F orce.com P latform................................. 7
The Basics of an A pp's U ser Inter face.................................................................. 8
Tabs........................................................................................................... 8
Forms........................................................................................................ 8
Links ......................................................................................................... 8
The Benefits of a F orce.co m Platfor m App.......................................................... 9
Data-Centr ic A pps................................................................................... 9
Collabor ative Apps.................................................................................. 10
The Technologies Behind a F orce.co m Platfor m App........................................ 10
A Multitenant Ar chitectur e.................................................................... 11
A Metadata-D riven De velopment Model .............................................. 12
The Web Services AP I............................................................................ 13
Apex........................................................................................................ 14
Visualfor ce.............................................................................................. 14
Salesfor ce Mobile .................................................................................... 14
Sites......................................................................................................... 15
The A ppEx change Dir ector y.................................................................. 16
Chapter 3: About the S ample Recr uiting App .................................. 17
About Univ ersal Co ntainers ................................................................................ 18
Consider ations for the Recr uiting A pp............................................................... 18
iTable of Co ntents 
Building the A pp: Our Design ........................................................................... 19
Custo m O bjects ...................................................................................... 19
Security and S haring R ules..................................................................... 20
Workflow and A pproval P rocesses .......................................................... 20
Custo m Repor ts and Dashboar ds........................................................... 22
Visualfor ce.............................................................................................. 22
Chapter 4: Reviewing Database Concepts ........................................ 23
What's a Database? ............................................................................................. 24
What's in a Database? ......................................................................................... 25
What's a Relatio nal Database? ............................................................................ 26
Summar y of Database Co ncepts ......................................................................... 28
Chapter 5: Building a S imple App ................................................... 29
Beco ming F amiliar with the S etup Ar ea............................................................. 30
Introducing A pps................................................................................................ 31
Try It O ut: Defining an A pp.................................................................. 32
Look at What We've Do ne..................................................................... 34
Introducing O bjects ............................................................................................ 35
The P ositio n Custo m O bject .................................................................. 35
Try It O ut: Defining the P ositio n Custo m O bject .................................. 35
Introducing Tabs................................................................................................. 39
Try It O ut: Defining the P ositio ns Tab................................................... 39
Look at What We've Do ne..................................................................... 41
Beco ming F amiliar with S etup Detail P ages and Related Lists .......................... 43
Introducing F ields............................................................................................... 45
Try It O ut: Adding Text F ields............................................................... 46
Try It O ut: Adding Curr ency Fields....................................................... 49
Try It O ut: Adding Chec kbox Fields...................................................... 49
Try It O ut: Adding Date F ields.............................................................. 50
Look at What We've Do ne................................................................................. 50
Chapter 6: Enhancing the S imple App with Advanced F ields,  Data
Validat ion,  and P age La youts ...................................................... 53
Adding A dvanced F ields..................................................................................... 54
Introducing P icklists ............................................................................... 54
Try It O ut: Adding P icklists ................................................................... 54
iiTable of Co ntents
Introducing F ield Dependencies ............................................................. 57
Try It O ut: Creating a Dependent P icklist............................................. 58
Look at What We've Do ne..................................................................... 61
Introducing Custo m Formula F ields....................................................... 62
Calculating Ho w Long a P ositio n Has Been Open ................................ 63
Try It O ut: Defining a “Days Open ” Custo m Formula F ield.................. 64
Try It O ut: Giving F ields D ynamic Default Values ................................ 68
Look at What We've Do ne..................................................................... 69
Introducing Validatio n Rules.............................................................................. 69
Try It O ut: Defining a Validatio n Rule for Min and Max P ay................ 70
Try It O ut: Defining a Validatio n Rule for Close Date ........................... 72
Look at What We've Do ne..................................................................... 74
Introducing P age L ayouts................................................................................... 76
Beco ming F amiliar with the P age L ayout Editor .................................... 76
Try It O ut: Grouping F ields into a N ew Sectio n.................................... 78
Try It O ut: Adding S paces Bet ween F ields............................................. 80
Try It O ut: Editing F ield P roperties....................................................... 81
Look at What We've Do ne..................................................................... 82
Chapter 7: Expanding the S imple App U sing Relat ionships .............. 85
Introducing Relatio nships ................................................................................... 86
Introducing Relatio nship Custo m Fields............................................................ 87
Try It O ut: Relating Hir ing Managers to P ositio ns................................ 88
Look at What We've Do ne..................................................................... 88
Adding Candidates to the Mix ........................................................................... 90
Try It O ut: Creating the Candidate O bject ............................................ 90
Try It O ut: Adding F ields to the Candidate O bject ............................... 91
Try It O ut: Modify ing the Candidate P age L ayout P roperties............... 93
Look at What We've Do ne..................................................................... 94
Bringing Candidates and P ositio ns Together with Job A pplic ations.................. 95
Try It O ut: Creating the Job A pplic ation Object .................................... 96
Try It O ut: Adding F ields to the Job A pplic ation Object ....................... 97
Look at What We've Do ne..................................................................... 98
Introducing S earch Layouts.............................................................................. 100
Try It O ut: Adding F ields to the Candidate L ookup Dialog ................ 102
Try It O ut: Updating A dditio nal S earch Layouts................................. 103
Managing Re view Assessments ........................................................................ 104
iiiTable of Co ntents 
Try It O ut: Creating the Re view Object ............................................... 105
Try It O ut: Adding F ields to the Re view Object .................................. 106
Introducing Rol l-Up S ummar y Fields.................................................. 112
Try It O ut: Creating Rol l-Up S ummar y Fields.................................... 112
Try It O ut: Custo mizing the Re view Object's P age and S earch
Layouts............................................................................................ 114
Look at What We've Do ne................................................................... 116
Creating a Man y-to-Man y Relatio nship .......................................................... 117
Try It O ut: Creating the Emplo yment Website O bject ........................ 118
Try It O ut: Adding the URL F ield to the Emplo yment Website
Object .............................................................................................. 119
Try It O ut: Creating the Job P osting O bject ......................................... 120
Try It O ut: Adding F ields to the Job P osting O bject ............................ 121
Custo mizing Related Lists in a Man y-to-Man y Relatio nship .............. 123
Try It O ut: Custo mizing the P ositio ns and Emplo yment Websites
Related Lists .................................................................................... 123
Look at What We've Do ne................................................................... 124
Putting it Al l Together ...................................................................................... 125
Try It O ut: Downloading S ample Data ................................................ 127
Try It O ut: Using the Impor t Wizard................................................... 128
Chapter 8: Secur ing and S haring Data ........................................... 131
Controlling A ccess to Data in O ur App........................................................... 132
Requir ed Permissio ns for the Recr uiter................................................. 132
Requir ed Permissio ns for the Hir ing Manager ..................................... 133
Requir ed Permissio ns for the Inter viewer............................................. 135
Requir ed Permissio ns for the S tandar d Emplo yee................................ 136
So Where Are We Now?....................................................................... 137
Data A ccess Co ncepts ....................................................................................... 138
Controlling A ccess to O bjects .......................................................................... 140
Introducing P rofiles ............................................................................... 140
Standar d Profiles ................................................................................... 140
Custo m Profiles in O ur Recr uiting A pp............................................... 141
Try It O ut: Creating the Recr uiter P rofile............................................ 142
Try It O ut: Creating Mor e Profiles ....................................................... 146
Controlling A ccess to F ields............................................................................. 149
Introducing F ield-L evel Security.......................................................... 149
ivTable of Co ntents
Field-L evel Security in O ur Recr uiting A pp........................................ 150
Accessing F ield-L evel Security Settings ............................................... 151
Try It O ut: Restr icting A ccess to a P ositio n's Minim um and Maxim um
Salary Fields.................................................................................... 151
Try It O ut: Restr icting A ccess to a Candidate's S ocial S ecurity
Number ........................................................................................... 154
Try It O ut: Setting L ookup F ields to Read-Onl y on a Job A pplic ation
for Hir ing Managers ........................................................................ 157
Controlling A ccess to Recor ds.......................................................................... 157
Introducing Organiz ation-Wide Defaults ............................................. 157
Org- Wide Defaults in O ur Recr uiting A pp......................................... 158
Try It O ut: Setting Org- Wide Defaults ................................................ 161
Introducing Role Hier archies................................................................ 163
Compar ing Roles and P rofiles ............................................................... 164
Role Hier archies in O ur Recr uiting A pp.............................................. 164
Try It O ut: Defining a Role Hier archy................................................. 165
What's L eft to be S hared?.................................................................... 168
Introducing S haring R ules.................................................................... 168
Sharing R ules in O ur Recr uiting A pp.................................................. 169
Try It O ut: Defining a P ublic Gr oup for Re viewers............................. 170
Try It O ut: Defining a S haring R ule for Job A pplic ation and Re view
Recor ds............................................................................................ 171
Introducing Manual S haring................................................................. 174
Try It O ut: Defining a Manual S haring R ule....................................... 174
Displa ying F ield Values and P age L ayouts A ccording to P rofiles ..................... 175
Try It O ut: Creating Recor d Types....................................................... 176
Putting It Al l Together ..................................................................................... 180
Try It O ut: Creating U sers for O ur Recr uiting A pp............................. 180
Try It O ut:Verifying that Ev erything Works........................................ 183
Delegating Data A dministr ation...................................................................... 184
Overriding S haring with O bject-L evel Permissio ns............................. 185
Delegated A dministr ation Gr oups........................................................ 186
Try It O ut: Defining the Recr uiting Manager A dministr ation
Group.............................................................................................. 187
Try It O ut:Verifying that Delegated A dministr ation Works................ 188
Summing Up ..................................................................................................... 190
vTable of Co ntents 
Chapter 9: Col labor ating with C hatter ........................................... 191
Introducing Chatter .......................................................................................... 192
Try It O ut: Enabling F eed Tracking o n Positio ns and Job
Applic ations..................................................................................... 192
Look at What We've Do ne................................................................... 194
Tracking F ields o n Your Custo m O bjects ......................................................... 195
Following Recor ds............................................................................................. 195
Try It O ut: Following a Job A pplic ation Recor d................................... 195
Summing Up ..................................................................................................... 197
Chapter 10: Using Custom Workflo w and Appr oval P rocesses ......... 199
Introducing Workflow...................................................................................... 200
Introducing Workflow Rules................................................................. 201
Introducing Workflow Actions:Tasks, Field Updates,  and Aler ts........ 201
Workflow in O ur Recr uiting A pp..................................................................... 202
Creating Workflow Rules That Assign Tasks................................................... 203
Try It O ut: Creating the “Send Rejectio n Letter ”Workflow Rule........ 203
Try It O ut: Creating the “Send Rejectio n Letter ”Workflow
Task................................................................................................. 205
Try It O ut: Creating the “Extend an Off er”Workflow Rule and
Task................................................................................................. 208
Look at What We've Do ne................................................................... 209
Creating a Workflow Rule That Updates F ields............................................... 210
Introducing Q ueues .............................................................................. 211
Try It O ut: Creating a Q ueue for P ositio ns.......................................... 211
Try It O ut: Creating a Workflow Rule That Updates F ields................ 214
Introducing Time-Dependent Workflow Actions................................. 215
Try It O ut: Creating the “Notify Recr uiting Manager ”
Time-Dependent Workflow Task................................................... 215
Look At What We've Do ne.................................................................. 217
Creating a Workflow Rule That S ends Email Aler ts........................................ 218
Introducing Email Templates ................................................................ 219
Try It O ut: Building an Email Template ............................................... 219
Try It O ut: Creating the N ew Positio n Workflow Rule and Aler t........ 222
Introducing A pprovals...................................................................................... 224
Planning for A pproval P rocesses ........................................................... 226
viTable of Co ntents
Try It O ut: Creating an Email Template for A pprovals........................ 226
Try It O ut: Creating an A pproval P rocess ............................................. 227
Try It O ut: Creating A pproval S teps.................................................... 231
Try It O ut: Creating A pproval A ctions................................................. 235
Try It O ut: Activating O ur Approval P rocess ....................................... 238
Look At What We've Do ne.................................................................. 238
Summing Up ..................................................................................................... 242
Chapter 11: Anal yzing Data with Repor ts and Dashboar ds............. 243
Introducing Repor ts.......................................................................................... 244
Repor t Formats ..................................................................................... 246
Setting Up the Recr uiting A pp for Repor ts.......................................... 248
Try It O ut: Adding the Repor ts Tab..................................................... 249
Try It O ut: Creating a Recr uiting Repor ts Folder ................................. 249
Creating a S ummar y Repor t................................................................. 251
Try It O ut: Creating a S ummar y Repor t.............................................. 251
Try It O ut: Adding Columns and F ilters .............................................. 254
Try It O ut: Adding a P ie Char t............................................................ 256
Creating a Matr ix Repor t with S ummar y Fields, Time-Based F ilters,
and Co nditio nal Highlighting ......................................................... 257
Try It O ut: Creating a Matr ix Repor t................................................... 258
Try It O ut: Adding S ummar y Fields.................................................... 259
Try It O ut: Adding Columns and F ilters .............................................. 261
Try It O ut: Adding a Char t and Co nditio nal Highlighting .................. 262
Introducing Dashboar ds................................................................................... 264
Try It O ut: Creating A dditio nal Repor ts.............................................. 264
Try It O ut: Creating a Dashboar d......................................................... 267
Adding Dashboar d Co mponents .......................................................... 269
Try It O ut: Adding a Char t Component.............................................. 270
Try It O ut: Adding a Gauge Co mponent............................................. 270
Try It O ut: Adding a Table Co mponent............................................... 271
Try It O ut: Adding a Metr ic Co mponent............................................. 272
Refreshing Dashboar ds......................................................................... 273
Introducing Custo m Repor t Types................................................................... 274
Creating Repor t Types.......................................................................... 274
Look At What We've Do ne.............................................................................. 279
viiTable of Co ntents 
Chapter 12: Mo ving Be yond P oint-and-C lick App
Development ........................................................................... 281
Introducing Mash-Ups and Web Services........................................................ 283
Introducing Visualfor ce..................................................................................... 284
Introducing Visualfor ce De velopment Mode ........................................ 286
Try It O ut: Enabling Visualfor ce De velopment Mode ......................... 286
Implementing the Candidate Map .................................................................. 287
Try It O ut: Creating a Visualfor ce Page................................................ 287
Try It O ut:Writing Visualfor ce Mar kup.............................................. 288
Try It O ut: Adding the Map to O ur Visualfor ce Page.......................... 291
Try It O ut: Adding the Candidate Map to P ositio n Page
Layouts............................................................................................ 292
Try It O ut:Testing the Candidate Map ................................................ 294
Implementing the Mass Update S tatus Butto n................................................. 295
Planning the Mass Update S tatus F eatur e............................................ 295
Try It O ut: Creating the Mass Update S tatus P age.............................. 297
Understanding the MassUpdateS tatus Visualfor ce Mar kup................. 298
Try It O ut: Creating a Custo m List Butto n.......................................... 302
Try It O ut: Adding a Custo m List Butto n to a P age L ayout................ 304
Try It O ut:Testing the Mass Update S tatus F eatur e............................ 305
Taking Your A pp P ublic with S ites................................................................... 305
Introducing S ites................................................................................... 306
Introducing F orce.co m Do main N ames ................................................ 307
Try It O ut: Register ing Your F orce.co m Do main N ame....................... 307
Try It O ut: Creating a F orce.co m Site.................................................. 309
Try It O ut: Creating the P ublic Jobs P age............................................ 313
Setting Your A ctive Ho me P age........................................................... 316
Granting P ublic A ccess S ettings ........................................................... 316
Testing Your S ite................................................................................... 317
Chapter 13: Learning Mor e........................................................... 319
Developer F orce................................................................................................ 320
Help and Training Optio ns............................................................................... 321
Multimedia ....................................................................................................... 322
AppEx change P artner P rogram........................................................................ 322
What Do You Think? ....................................................................................... 323
viiiTable of Co ntents
Glossar y................................................................................................ 325
Inde x..................................................................................................... 349
ixTable of Co ntents 

Preface
As users of the Inter net, we're all familiar with the fascinating , inno vative, creative, and so metimes
silly ways in whic h it has c hanged ho w we wor k and pla y. From social net working sites to wikis
to blogs,  and mor e, it’s exciting to watc h the inno vatio ns taking place that ar e changing the wa ys
we co mmunicate and col labor ate.
While these c hanges hav e certainly impacted ho w we wor k with co ntent,  a similar set of
Inter net-dr iven ideas and tec hnologies is c hanging ho w we build and wor k with business
applic ations.While y esterday's business applic ations requir ed thousands,  if not mil lions, of
dollars and so metimes y ears of pr ofessional ser vices help to set up and custo mize, the tec hnologies
offered by the Inter net toda y make it m uch easier to cr eate, configur e, and use business
applic ations of al l kinds.  Indeed,  the po wer of the Inter net has giv en us the abilit y to sol ve new
kinds of business pr oblems that,  because of co mplexit y or cost,  had pr eviousl y remained out of
reach.
Just as the c hanges that mo ved publishing tec hnolog y from paper to bits made it possible for us
to hav e infor matio n about an ything in the whole wor ld right at our finger tips, the c hanges in
applic ation technolog y make it similar ly possible to imagine a r obust,  enter prise-class applic ation
for almost an y business need.  Sound pr etty good? Then y ou're probabl y wondering:“What's
the magic that makes this possible?”
Welcome to the Cloud!
These ne w wa ys of building and r unning applic ations are enabled by the wor ld of cloud
computing , wher e you access applic ations, or apps, over the Inter net as utilities,  rather than as
pieces of sof tware running o n your desktop or in the ser ver room.This model is alr eady quite
commo n for co nsumer apps like email and p hoto shar ing, and for cer tain business applic ations,
like custo mer r elatio nship management (CRM).
Because almost al l apps these da ys are deliv ered via a Web br owser, it's incr easingl y har d to
tell whic h applic ations are “traditio nal sof tware,” and whic h are run in the c loud.  As with the
1
Inter net, applic ations that r un in the c loud hav e grown so ubiquitous that almost e very business
user inter acts with at least o ne, whether it's an email ser vice, a Web co nferencing applic ation,
or a sales sy stem.
Platforms for Cloud Computing
A ne w twist, the platform in the cloud , is making the deliv ery of applic ation functio nality even
more inter esting . Increasingl y, applic ations that r un in the c loud ar e star ting to loo k less like
websites and mor e like platfor ms, meaning the y are star ting to spr out A pplic ation Programming
Inter faces (AP Is), code libr aries, and e ven pr ogramming models.  Collectiv ely, these ne w kinds
of de velopment tec hnologies c an be thought of as platfor ms to r un apps in the c loud.
Similar to tr aditio nal platfor ms, cloud co mputing platfor ms pr ovide tools that al low developers
to leverage existing functio nality to cr eate so mething ne w; however, because these platfor m
tools ar e accessed fr eely over the Inter net rather than thr ough an oper ating sy stem or pac kage
that was instal led o n a loc al mac hine, developers do n't need to worr y about the logistics of
putting together an ex ecutable that wil l be instal led o n a user's mac hine.  Anyone with a Web
browser c an access it!
The possibilities pr esented by this ne w type of platfor m hav e emerged quic kly, spurr ed on by
the popular ity of mash-ups —a website or applic ation that co mbines tools fr om multiple c loud
computing platfor ms to cr eate ne w functio nality. Some of the c loud co mputing platfor m tools
used in toda y's mash-ups inc lude inno vations like Google's sear ch AP I, whic h allows de velopers
to use the po wer of that sear ch engine in their applic ations, eBay's AP Is for auctio ns and
listings,  or A mazon.com's sy stem for cr eating entir ely new stor efronts. For example , almost
any real estate website or applic ation these da ys uses Google or Yahoo! maps under the hood,
illustrating ho w these ne w AP Is are now commo nly running alo ngside the mor e traditio nal
database , app ser ver, or oper ating sy stem platfor ms.
About This Book
This boo k intr oduces y ou to the Force.co m platfor m,salesfor ce.co m's platfor m for building
and r unning business applic ations in the c loud.
To illustrate the tec hnologies available o n the Force.co m platfor m, and to sho w you just ho w
easy it is to cr eate y our o wn business applic ation with the platfor m, this boo k walks y ou thr ough
the pr ocess of cr eating a ne w recruiting applic ation that r uns in the c loud. To follow alo ng you
won't need to lear n any programming languages or hac k your wa y through cr yptic co nfigur ation
documents—instead,  you'll just need to point-and-c lick your wa y through a Web inter face,
following the easy step-by-step instr uctio ns in the boo k.
2Chapter :Preface
Note:Want an o nline v ersion of this boo k? Go to
www.developerforce.com/events/regular/registration.php .
Intended Audience
This boo k can be easil y understood by an yone from a business user to a pr ofessional de veloper .
However, to get the most out of the boo k, it helps to be familiar with basic Inter net and
database co ncepts,  such as tables and fields.
While the boo k focuses pr imarily on using the dec larative, point-and-c lick functio nality of the
Force.co m platfor m,Moving Be yond Point-and-Clic k App De velopment  on page 281 introduces
you to the platfor m's user inter face pr ogramming tools and ho w you can use them to build
custo mer-facing websites. To fully understand that c hapter , you should be familiar with H TML
and JavaScr ipt. However, all the code y ou need is pr ovided,  so even if y ou're not an exper ienced
developer , you can stil l follow alo ng to gain a deeper understanding of what c an be do ne with
the Force.co m platfor m.
Chapter Contents
If you're already familiar with the Force.co m platfor m, you can skip ar ound to the c hapters in
whic h you're most inter ested:
Descr iption Chapter
Learn about the tec hnologies behind the
Force.co m platfor m, including the
AppEx change  director y.Introducing the Force.co m Platfor m
Learn about the r ecruiting applic ation that
we'll be building in this boo k and the fictitious
compan y for who m we'l l be building it.About the S ample Recr uiting A pp
Review database co ncepts suc h as tables,
records, fields,  keys, and r elatio nships.Reviewing Database Co ncepts
Create the first custo m object in our r ecruiting
app, and add se veral basic fields.Building a S imple A pp
Add pic klists,  dependent pic klists,  validatio n
rules, and for mula fields to the custo m object,Enhancing the S imple A pp with A dvanced
Fields,  Data Validatio n, and P age L ayouts
3Preface
Descr iption Chapter
and then edit the la yout of the object's detail
page.
Add fiv e mor e custo m objects to our r ecruiting
app, and associate them with o ne another
using r elatio nships.Expanding the S imple A pp U sing
Relatio nships
Set up r ules for who c an read, create, edit,  and
delete r ecords in the app .Securing and S haring Data
Enable Chatter  for y our organiz ation so users
can keep up with the infor matio n the y care
about.Collabor ating with Chatter
Define wor kflow rules and appr oval pr ocesses
that assign tasks,  update fields,  and send
emails when cer tain cr iteria are met.Using Custo m Workflow and A pproval
Processes
Create custo m reports, charts, and dashboar ds
that giv e users a bir d's-e ye view of r ecruiting
data.Analyzing Data with Repor ts and Dashboar ds
Learn how to use Visualfor ce to extend the
functio nality of the platfor m by cr eating aMoving Be yond Point-and-Clic k App
Development
mash-up with Yahoo! maps,  adding a tool for
mass updating r ecords, and publishing a subset
of your data to an yone on the Web.
Find out wher e you can get mor e infor matio n
about de veloping o n the platfor m.Learning Mor e
Look up the definitio n of an y term you find
unfamiliar .Glossar y
Note:This boo k contains lots of scr eenshots.  Because the Force.co m platfor m is a
rapidly developing platfor m, the scr eenshots might var y slightl y from what y ou see o n
the scr een, but do n't worr y! These diff erences should be minor and wo n't aff ect your
understanding of the sy stem.
4Chapter :Preface
Choosing Your Development Environment
To follow alo ng with the ex ercises in this boo k, you'll need a Salesfor ce account.  If you're
already a Salesfor ce custo mer, you can use a Force.co msandbo x. A sandbo x is a copy of y our
organiz ation that y ou can use for testing co nfigur ations and tr aining users without co mpromising
the data in y our pr oductio n organiz ation.Salesfor ce Enter prise and Unlimited Editio ns co me
with o ne free sandbo x; users of other editio ns can use De veloper Editio n to do the ex ercises.
If you're new to Salesfor ce or if y ou do n't want to use a sandbo x, go to developer .force.co m
and sign up for a fr ee De veloper Editio n account.  Developer Editio n is a ful ly-functio nal
version of Salesfor ce that y ou can use to de velop Salesfor ce apps.  Since it's fr ee, there are limits
on the amount of users,  bandwidth,  and stor age y ou're allowed, but it inc ludes al l of the f eatur es
in Salesfor ce.When y ou sign up , you'll also auto matic ally beco me par t of the gr owing
community of Force.co m platfor m de velopers ar ound the wor ld.
Sending Feedback
Questio ns or co mments about an ything y ou see in this boo k? Suggestio ns for topics that y ou'd
like to see co vered in futur e versions? Go to the Developer F orce discussio n boar ds at
community.salesforce.com/sforce?category.id=developers  and let us kno w
what y ou think! Or email us dir ectly at developer force@salesfor ce.co m.
About Developer Force
Developer F orce is a co mmunity of de velopers who custo mize and build applic ations that r un
in the c loud and ar e built with the Force.co m platfor m.Developer F orce members hav e access
to a ful l range of r esour ces, including sample code , toolkits,  an o nline de veloper co mmunity,
and the test en vironments necessar y for building apps. The Developer F orce website inc ludes
an online v ersion of this boo k and has infor matio n about the Dreamfor ce event that we hold
every year for Force.co m platfor m de velopers.  If you need mor e info , have a questio n to ask,
are seeking a toolkit or sample , or just want to dig a little deeper into Force.co m platfor m
development, Developer F orce is wher e it al l comes together .
To find out mor e about the r esour ces available o n the Developer F orce website , see
developer .force.co m, and r eview the Learning Mor e on page 319 chapter .
5Preface
Salesforce.com  Training & Certification
A number of examples in this boo k hav e been pr ovided by salesfor ce.co mTraining &
Certification and ar e drawn fr om the exper t-led tr aining courses available ar ound the wor ld.
Salesfor ce.co mTraining & Cer tification courses pr ovide an oppor tunit y to get hands-o n
exper ience with the Force.co m platfor m and Salesfor ce applic ations, and pr epare you to beco me
Salesfor ce certified.  Register for courses at www .salesfor ce.co m/training .
6Chapter :Preface
Chapter 2
Introducing the Force.com  Platform
The Force.co m platfor m is the wor ld's first P latfor m as a
Service (P aaS),  enabling de velopers to cr eate and deliv er an yIn this c hapter ...
•The Basics of an A pp's
User Inter facekind of business applic ation in the c loud,  entir ely on-demand
and without sof tware. It's a br eakthr ough ne w concept that
is making co mpanies r adically mor e successful by letting •The Benefits of a
Force.co m Platfor m App them tr anslate their ideas into applic ations in r ecord time.
Building , shar ing, and r unning business applic ations has
never been so easy .•The Technologies Behind
a Force.co m Platfor m App
To best understand the kinds of business apps y ou can build
with the platfor m, we'll first br iefly examine the basic
components of the most popular applic ation for the platfor m,
salesfor ce.co m's sales auto matio n app ,Salesfor ce SFA.We'll
then highlight so me of the ke y technologies that diff erentiate
the Force.co m platfor m from other platfor ms you ma y hav e
already used.
7
The Basics of an App's User Interface
If you hav en't used Salesfor ce befor e, you'll find it wor thwhile to log in and spend a bit of time
clicking ar ound.  Most Salesfor ce editio ns (inc luding De veloper Editio n) hav e a basic Salesfor ce
SFA app , so we'l l star t by loo king at that. The inter face for these tasks has a lot in co mmo n
with the inter face of whate ver app y ou're planning to build.
Note: Hav en't signed up for a De veloper Editio n account y et? Go to
www.developerforce.com/events/regular/registration.php .
Tabs
As you can see when y ou star t clicking ar ound,  there are a few key elements that for m the
foundatio n of the S ales A utomatio n app and of most applic ations created with the platfor m.
First, across the top of the app is a set of tabs that segment the app into diff erent par ts. Each
tab corr esponds to a t ype of object,  such as an account or co ntact,  and within a tab y ou can
perform actio ns on par ticular r ecords of that tab's t ype. For example , when y ou click on the
Accounts tab , you can cr eate a ne w record for the “Acme” account. You can also edit existing
accounts,  or use a list vie w to filter lists of accounts by cer tain cr iteria. Most app de velopment
work revolves around cr eating tabs and defining the data and behaviors that suppor t them.
Forms
A seco nd ke y element is the form that is displa yed as par t of a tab . As in an y business app ,
forms ar e the pr imary means of enter ing and vie wing infor matio n in the sy stem.  Forms al low
you to vie w and edit the data associated with a par ticular r ecord on a tab , like the co ntact
“Jerome Gar cia” on the Co ntacts tab .When de veloping a ne w app y ou can define what
infor matio n appears in eac h for m, and ho w it is organiz ed. For example , the for m for a co ntact
record inc ludes fields suc h as LastName ,HomePhone ,Mailing City ,Title ,
Birthdate ,Reports To, and Account . In a Force.co m platfor m app , the for m used to
enter infor matio n is r eferred to as an edit pag e and the r ead-o nly view of that infor matio n is
referred to as a detail pag e.
Links
Finally, because Force.co m platfor m apps ar e deliv ered via a Web br owser, they use links to
provide navigatio n to r elated data.  For example , on an account detail page , there are links to
8Chapter 2:Introducing the Force.co m Platfor m
related r ecords, such as the co ntacts who belo ng to the account and the sales user who manages
the account.  Other links take y ou to r ecentl y visited r ecords and to ar eas of the app wher e users
can set perso nal pr eferences. These links pr ovide navigatio n both within an app and out into
the Web.
Figure 1: Force.com  Platform Apps Include Tabs, Detail Pages, and Links
The Benefits of a Force.com  Platform App
To better understand what the platfor m is best suited for , let's loo k beyond the cor e elements
of tabs,  forms, and links,  and into the t ypes of applic ations the y enable. Two huge benefits
start to co me into focus when y ou loo k across Force.co m platfor m apps in gener al: they're both
data-centr ic and col labor ative.
Data-Centric Apps
Because the platfor m is center ed ar ound a database , it allows you to w rite apps that ar e
data-cent ric. A data-centr ic app is an applic ation that is based o n structur ed, consistent
infor matio n suc h as y ou might find in a database or an XML file. We can find these data-centr ic
apps e verywher e, in smal l desktop databases like Micr osoft Access or F ileMaker , all the wa y
to the huge sy stems r unning o n database management sy stems like Or acle or MySQL.  Unlike
applic ations that ar e built ar ound unstr uctur ed data,  like plain text documents or H TML files,
data-centr ic apps make it easy to co ntrol, access,  and manage data.
9Introducing the Force.co m Platfor m
For example , consider an ex ercise suc h as tr ying to deter mine the total sales for a mo nth fr om
a set of Micr osoft Word-based co ntracts v ersus a set of co ntracts in a simple database. Whereas
it takes a lot of effor t to open eac h Word document,  find the co ntract total,  and then add them
all together , if this data is stor ed in the database of a data-centr ic app , we c an mor e efficientl y
get the same r esult by issuing a single quer y.
While most people do n't need a data-centr ic applic ation to keep tr ack of an ything other than
contacts,  photos,  or possibl y music, companies of al l sizes constantl y need to quer y and aggr egate
their large amounts of data to make fast business decisio ns. As a r esult,  the data-centr ic natur e
of the Force.co m platfor m makes it the per fect platfor m to build and host business applic ations.
Collaborative Apps
Because the platfor m can be accessed by m ultiple users at the same time , it also al lows you to
write apps that ar e collabor ative. A col labor ative app is an applic ation with data and ser vices
that ar e shar ed by m ultiple users in diff erent loc ations. Unlike mor e traditio nal for ms of sof tware
that ar e instal led o n a single mac hine and ar e har d to access fr om a distance , collabor ative apps
on the platfor m can be accessed fr om an ywher e in the wor ld with o nly a Web br owser.This
makes it easy for teams to wor k together o n activities like sel ling a pr oduct,  managing a pr oject,
or hir ing an emplo yee.
In additio n to easy access o ver a Web br owser, a number of built-in platfor m featur es also
facilitate pr oductiv e group col labor ation:
•The platfor m's secur ity and shar ing model al lows you to finel y control a user's access to
different data
•Workflow rules al low you to auto matic ally assign tasks,  update data,  or send email aler ts
when cer tain business e vents occur , such as the cr eatio n of a ne w record or a c hange in the
value of a r ecord field
•Approval pr ocesses al low you to set up a sequence of steps necessar y for a r ecord to be
approved, including who m ust appr ove it at eac h step
Collectiv ely, these f eatur es provide a fr amework for shar ing apps acr oss gr oups,  divisio ns, and
entire cor porations without r elinquishing administr ative control over sensitiv e data.
The Technologies Behind a Force.com  Platform App
Now that we'v e talked about the kinds of apps the platfor m can build,  let's r eview some of the
technologies behind the platfor m itself .These tec hnologies hav e a big impact o n what the
platfor m suppor ts, and what it's like to de velop o n it.
10Chapter 2:Introducing the Force.co m Platfor m
Table 1: Key Technolog ies Behind the P latform
Descr iption Technolog y
An applic ation model in whic h all users and apps shar e a single ,
commo n infr astructur e and code base.Multitenant
architectur e
An app de velopment model that al lows apps to be defined as
declarative “bluepr ints,”  with no code r equir ed. Data models,  objects,
forms, workflows, and mor e are defined by metadata.Metadata-dr iven
development model
Several applic ation programming inter faces (AP Is) pr ovide dir ect
access to al l data stor ed in Force.co m from vir tually any programming
language and platfor m:API Access
•The Web ser vices API
•The REST AP I, an ex cellent tec hnolog y for use with mobile
applic ations and Web 2.0 pr ojects
•The R ESTful Bulk AP I (also available using Data L oader) for
operations on large numbers of r ecords
The wor ld’s first o n-demand pr ogramming language , whic h runs in
the c loud o n the Force.co m platfor m ser vers.Apex
A framework for cr eating f eatur e-rich user inter faces for apps in the
cloud.Visualfor ce
An applic ation for mobile de vices that pr ovides access to y our
Force.co m data.Salesfor ce Mobile
Public websites and applic ations that ar e directly integr ated with y our
Salesfor ce organiz ation—without r equir ing users to log in with a
username and passwor d.Sites
A Web dir ector y wher e hundr eds of Force.co m apps ar e available to
Salesfor ce custo mers to r eview, demo , comment upo n, and/or instal l.AppEx change
director y
Developers c an submit their apps for listing o n the AppEx change
director y if the y want to shar e them with the co mmunity.
A Multitenant Architecture
The platfor m's multit enant ar chitecture means that al l users shar e the same p hysical instance
and v ersion of an y applic ation that r uns o n it. In co ntrast to their single-tenant counter parts,
such as c lient-ser ver enter prise applic ations or email ser vers, multitenant applic ations are
11Introducing the Force.co m Platfor m
designed so that an y upgr ades to the platfor m or the apps it suppor ts happen auto matic ally for
all users at o nce. Consequentl y, no o ne has to worr y about buy ing and maintaining their o wn
physical stac k of har dwar e and sof tware, or making sur e that their applic ations always hav e
the latest patc h instal led.
Besides the Force.co m platfor m, several popular , consumer-based applic ations also use a
multitenant ar chitectur e, including eBa y, My Yahoo!,  and Google Mail.  Multitenant ar chitectur e
allows these applic ations to be lo w cost,  quick to deplo y, and open to r apid inno vatio n—exactl y
the qualities for whic h salesfor ce.co m has also beco me kno wn.
Figure 2: On-Demand, Multitenant Applications that Run in the Cloud
The platfor m's m ultitenant ar chitectur e also impacts ho w developers use the platfor m to cr eate
new applic ations. Specific ally, it defines a c lear boundar y bet ween the platfor m and the
applic ations that r un on it. A boundar y is impor tant bec ause it al lows applic ations to define
their o wn co mponents without jeopar dizing the functio nality of the cor e platfor m or the data
stored by other users.
A Metadata-Driven Development Model
The Force.co m platfor m also uses a metadata-driven de velopment mode l to help app de velopers
become mor e productiv e in putting together apps.  It means that the basic functio nality of an
app—that is,  the tabs,  forms, and links—ar e defined as metadata in a database r ather than
being har d-coded in a pr ogramming language. When a user accesses an app thr ough the
Force.co m platfor m, it renders the app's metadata into the inter face the user exper iences.
12Chapter 2:Introducing the Force.co m Platfor m
As a r esult of metadata-dr iven de velopment,  the Force.co m platfor m app de velopers wor k at
a much higher le vel of abstr actio n than if the y developed applic ations using Java or C#,  and
are shielded fr om having to worr y about lo w-level system details that the platfor m hand les
automatic ally. At the same time ,Force.co m platfor m de velopers c an also le verage advanced
featur es that the platfor m pr ovides by default.
Custo mizing y our app's metadata might sound intimidating , but as y ou'll see in this boo k, the
platfor m's user inter face makes it easy . Anyone who is familiar with using a Web br owser c an
quickly get up to speed,  even if he or she doesn't kno w any programming languages.
Tip:Developers c an use the Force.com Met adata API  to pr ogrammatic ally manage
their app's setup .The Force.co mMetadata AP I provides an alter nativ e to the platfor m's
user inter face by al lowing de velopers to dir ectly modify the XML files that co ntrol
their organiz ation's metadata.  Developers c an also use the Metadata AP I to migr ate
configur ation changes bet ween organiz ations, and cr eate their o wn tools for managing
organiz ation and applic ation metadata.  For mor e infor matio n, see
www.salesforce.com/us/developer/docs/api_meta/index.htm .
Although at first glance metadata-dr iven de velopment ma y seem so mewhat esoter ic, it's exactl y
the same model for ho w Web br owsers wor k. Instead of har d coding the definitio n of a Web
page in a fr ee-for m programming language , a Web page author first defines the page as H TML,
whic h is itself a kind of metadata. When a user r equests a page , the Web br owser r enders the
page using the metadata pr ovided in the H TML tags.  Even though the H TML/br owser
combinatio n does not al low authors as m uch for matting po wer as the y might get in a r egular
publishing tool,  it simplifies the wor k of publishing co ntent to a wide audience and incr eases
the Web page author's o verall productivit y.
Likewise, the Force.co m platfor m vastl y simplifies the wor k of building an app and incr eases
a developer's o verall productivit y. And, like Web pages that use JavaScr ipt or F lash to add
functio nality to H TML pages,  the Force.co m platfor m also pr ovides wa ys for mor e advanced
developers to add custo m functio nality to the apps y ou build.
The Web Services API
The platfor m's metadata-dr iven de velopment model al lows app de velopers to quic kly build a
lot of functio nality with tools pr ovided by the platfor m; however, sometimes app de velopers
want to modify the actual data in an app , and use thir d–par ty services to cr eate mor e custo mized
app behaviors. To do this,  they can use the Web ser vices API.
The API provides a str aightfor ward, powerful, and open wa y to pr ogrammatic ally access the
data and c apabilities of an y app r unning o n the platfor m. It allows pr ogrammers to access and
13Introducing the Force.co m Platfor m
manipulate apps fr om an y server loc ation, using an y programming language that suppor ts Web
services,  like Java,  PHP, C#, or .NE T. Because Web ser vices ar e, not sur prisingl y, based o n
Web standar ds, they're wel l suited to tr averse fir ewalls and le verage the r est of the Inter net
infrastructur e already in place.  For mor e infor matio n, see
www.salesforce.com/us/developer/docs/api/index.htm .
Apex
As you might expect fr om the co mpan y that deliv ered the wor ld's first c loud co mputing
platfor m,salesfor ce.co m also intr oduced the wor ld’s first c loud co mputing pr ogramming
language ,Apex.Apex, whose sy ntax is similar to Java,  the most popular pr ogramming language
for Web apps,  runs o n the Force.co m platfor m ser vers.Apex is specific ally designed for building
business applic ations to manage data and pr ocesses within the larger co ntext of the Force.co m
platfor m.The language pr ovides a uniquel y powerful and pr oductiv e appr oach to cr eating
functio nality and logic,  allowing de velopers to focus just o n the elements specific to their
applic ation, while leaving the r est of the “plumbing ” to the Force.co m platfor m.
The major ity of this boo k is intended for r eaders who do n't necessar ily code , so Apex is be yond
the scope of what we'l l discuss her e; however, you can lear n everything ther e is to kno w at
wiki.developerforce.com/index.php/Apex .
Visualforce
At the fr ont of an y great business applic ation is a gr eat user inter face that's easy to use , powerful,
and suited exactl y for the tasks,  users,  and de vices the applic ation ser ves.Visualfor ce is a
complete fr amework for cr eating suc h user inter faces,  enabling an y kind of inter face design
and inter actio n to be built and deliv ered entir ely in the c loud. The user inter faces y ou build
with Visualfor ce can extend the standar d Force.co m platfor m loo k and f eel, or replace it with
a completel y unique st yle and set of sop histic ated inter actio ns. Because Visualfor ce markup is
ultimatel y render ed into H TML, designers c an use Visualfor ce tags alo ngside standar d HTML,
JavaScr ipt, Flash, or an y other code that c an ex ecute within an H TML page o n the platfor m.
And that's o nly the beginning:  you can also use Visualfor ce pages to co mbine data fr om multiple
Force.co m platfor m objects,  or blend data fr om Web ser vices into y our applic ations, as we
discuss in Moving Be yond Point-and-Clic k App De velopment  on page 281.
Salesforce Mobile
All around the globe , members of the business co mmunity are leaving their office c hairs and
going mobile.  Companies ar e issuing the latest smar tphones to their emplo yees to keep them
14Chapter 2:Introducing the Force.co m Platfor m
connected and pr oductiv e.Tablets ar e sprouting up in c afes and co nference r ooms, enabling
efficienc y everywher e. People ar e finding it less and less acceptable to be mor e than a c lick (or
tap) awa y from their data at al l times.
As the pr imary points of Inter net access shif t from desktops and laptops to iP hones and iP ads,
apps that do n't pr ovide mobile access to cr itical data wil l quic kly beco me obsolete.  Don't let
your app get tr ampled by the mobile stampede! Instead,  use Salesfor ce Mobile  to deliv er your
Force.co m app to mobile users.
Salesfor ce Mobile  is an app itself . It instal ls on mobile de vices and utiliz es the nativ e
functio nality of the de vice. When users log in to Salesfor ce Mobile , they can access and update
their Force.co m data via an intuitiv e inter face special ly designed for the smal ler for m factor of
mobile de vice scr eens. The app stor es a subset of data o n the de vice to pr ovide users with offline
access when a wir eless co nnectio n is unavailable , and sy nchronizes that data with Force.co m
when co nnectivit y is reestablished.
The Force.co m platfor m giv es administr ators ful l control over what users c an and c an't do with
Salesfor ce Mobile . For example , administr ators c an specify whic h data is available for mobile
access,  limit the amount of data that users c an transfer, and e ven remotel y disable Salesfor ce
Mobile  if a de vice is lost or stolen.
Salesfor ce Mobile  is suppor ted o n the A pple iP ad, iPhone, and iT ouch, as wel l as var ious
BlackBerr y devices. When y ou're ready to take y our app mobile , see the Salesfor ce Mobile
Implement ation G uide.
Sites
The apps y ou build o n the Force.co m platfor m might co ntain data and functio nality that y ou
want to make accessible to people who ar e not Salesfor ce users. While it is possible to use the
Web ser vices API to integr ate an exter nal Web page or applic ation with Salesfor ce, the
Force.co m platfor m pr ovides an easier , more efficient wa y of shar ing data and functio nality
with people outside of y our organiz ation:Sites.
Sites enables y ou to cr eate public websites and applic ations that ar e directly integr ated with
your Salesfor ce organiz ation—without r equir ing users to log in with a user name and passwor d.
You can public ly expose an y infor matio n stor ed in y our organiz ation thr ough pages that matc h
the loo k and f eel of y our co mpan y's br and. Because these sites ar e built and hosted o n the
Force.co m platfor m ser vers, there are no data integr ation issues.  And bec ause sites ar e built
with Visualfor ce pages o n the platfor m, data validatio n on col lected infor matio n is per formed
automatic ally. For mor e infor matio n, see developer.force.com/sites .
15Introducing the Force.co m Platfor m
The AppExchange  Directory
The final piece of tec hnolog y that diff erentiates the Force.co m platfor m from other platfor ms
is the AppEx chang e.The AppEx change  is a Web dir ector y wher e apps built o n the Force.co m
platfor m are available to salesfor ce.co m custo mers to br owse, demo , review, and instal l.
Developers c an submit their apps for listing o n the AppEx change  director y if the y want to
share them with the co mmunity.
To fully appr eciate the benefits of the AppEx change , take a quic k tour at
http://sites.force.com/appexchange .Ther e you'll see the hundr eds of inno vative
and ex citing apps that exist toda y, including e verything fr om pa yroll management to telep hony
integr ation, service and suppor t surveys, adoptio n dashboar ds, and be yond. Some of these apps
have been cr eated inhouse at salesfor ce.co m, but most ar e built by par tners and individual
developers who hav e chosen to take advantage of the Force.co m platfor m.
16Chapter 2:Introducing the Force.co m Platfor m
Chapter 3
About the Sample Recruiting App
The g oal of this boo k is to sho w you ho w easy it is to cr eate
powerful, multifaceted applic ations that sol ve commo nIn this c hapter ...
•About Univ ersal
Containersbusiness pr oblems. To do so , let's walk thr ough the steps of
creating a simple applic ation for a make-belie ve compan y
called Univ ersal Co ntainers. •Consider ations for the
Recruiting A pp
Like man y companies that hav e grown rapidly, Univ ersal
Containers has been exper iencing a f ew growing pains,•Building the A pp: Our
Designespecial ly in its Human Resour ces depar tment.  In this boo k,
we're going to build a Recr uiting app for the co mpan y that
allows it to mo ve awa y from the Micr osoft Word documents
and Micr osoft Excel spr eadsheets that it has tr aditio nally
used to an applic ation that's available o n demand.
By the time we finish building the Recr uiting app in this
book, you should f eel co nfident enough to build a custo m
applic ation in the c loud that suits y our o wn co mpan y's needs.
So let's get star ted!
17
About Universal Containers
First, let's lear n a little mor e about our fictio nal co mpan y, Univ ersal Co ntainers.
Univ ersal Co ntainers is a r apidly growing inter natio nal supplier of co ntainer pr oducts. The
compan y produces e very kind of co ntainer fr om simple o vernight letter mailers to custo m
equip ment pac kaging to large c argo shipping co ntainers.  In additio n, Univ ersal Co ntainers
develops and maintains its o wn pr oprietary software to facilitate the design of its var ious t ypes
of co ntainers.  As suc h, Univ ersal Co ntainers has a v ery div erse gr oup of emplo yees, including
facilities and oper ations pr ofessionals, software and design engineers,  financial accountants,
and legal and human r esour ces perso nnel.
Histor ically, the Human Resour ces depar tment has used Micr osoft Word documents and
Micr osoft Excel spr eadsheets to manage the r ecruiting and hir ing pr ocess for ne w emplo yees.
However, over the last t wo quar ters it's beco me e vident that unless this pr ocess is r eplaced by
one that is mor e collabor ative, reliable , and sc alable , the depar tment wo n't be able to meet its
hiring g oals for this fisc al year. Univ ersal Co ntainers needs a centr alized applic ation that c an
bring al l of its r ecruiting and hir ing pr ocesses together , and the co mpan y has hir ed us to sol ve
this pr oblem.  Our appr oach wil l be to le verage their Salesfor ce account and build a r ecruiting
applic ation on the Force.co m platfor m.We're going to intr oduce Univ ersal Co ntainers to the
world of c loud co mputing!
Considerations for the Recruiting App
After meeting with Megan S mith,  Univ ersal Co ntainers' vice pr esident of Human Resour ces,
we've drawn up a f ew requir ements for the ne w Recr uiting app .The app needs to:
•Track positio ns in al l stages of the pr ocess,  from those that ar e open to those that hav e
been fil led or c anceled
•Track all of the c andidates who appl y for a par ticular positio n, including the status of their
applic ation (whether the y've had a p hone scr een, are scheduled for inter views, have been
rejected or hir ed, or hav e passed o n an off er that was pr esented)
•Track the posting of jobs o n exter nal emplo yment websites,  such as Mo nster .com
•Allow emplo yees to post r eviews for c andidates who m the y've inter viewed
•Provide secur ity for the r ecruiting data so that it's not mistakenl y viewed, edited,  or deleted
by emplo yees who shouldn't hav e access
•Automatic ally infor m the r elevant r ecruiter about the next steps that should be taken when
a decisio n has been made about an applic ant
•Automatic ally infor m all emplo yees of ne w positio ns that hav e been posted
18Chapter 3:About the S ample Recr uiting A pp
•Make sur e that a ne w job opening has ex ecutiv e appr oval befor e it beco mes activ e
•Include r eports that giv e users an o verview of r ecruiting status
•Allow recruiters to map the loc ations of al l candidates who ar e appl ying for a positio n, to
better understand r elocation expenses
•Make it easy to per form several similar tasks at o nce, like r ejecting m ultiple job applic ations
•Automatic ally post open positio ns on Univ ersal Co ntainers' public website
An app that meets these r equir ements is g oing to gr eatly incr ease the efficienc y of Univ ersal
Containers' r ecruiting and hir ing pr ocesses.
Building the App: Our Design
Let's take a loo k at the diff erent par ts of the Force.co m platfor m that we'l l use to implement
Univ ersal Co ntainers' Recr uiting app .We're going to lear n about al l of these things in a lot
more detail in later c hapters,  but for no w, this quic k preview of wil l give you an idea about
what's in stor e.
Custom Objects
Custo m objects ar e the nativ e components that model the data we need to stor e in our
Recruiting app . Similar to a database table , a custo m object is co mposed of se veral fields that
store infor matio n suc h as a job applic ant's name , or the maxim um salar y for a par ticular positio n.
However, unlike tr aditio nal database tables,  we do n't need to w rite an y SQL in or der to cr eate
custo m objects. We can simpl y point and c lick in the platfor m to cr eate as man y objects as we
need.
For our Recr uiting app , we'll be cr eating six custo m objects to tr ack recruiting-r elated data:
•Positio n
•Candidate
•Job A pplic ation
•Review
•Job P osting
•Emplo yment Website
Most of these objects wil l be displa yed as tabs in our applic ation.When a user c licks one of
the tabs,  he or she wil l hav e access to individual instances of that par ticular object,  as sho wn
in the fol lowing scr eenshot.
19About the S ample Recr uiting A pp
Figure 3: Recruiting App Tabs
One of the po werful featur es of a custo m object is the fact that it c an hav e relatio nships with
other objects in the sy stem.  For example , for e very review written by an inter viewer and enter ed
into the sy stem,  we'll want to associate it with the job applic ation of the c andidate who was
being inter viewed. Again,  we wo n't need to w rite an y SQL to make this happen—thanks to
the platfor m, defining a r elatio nship wil l be as simple as a f ew clicks of the mouse.
Security and Sharing Rules
Another impor tant functio n that we'l l need to build into our app is the abilit y to r estrict access
to data that par ticular users shouldn't see , without pr eventing other users fr om per forming
their jobs eff ectively.We're going to implement this r equir ement with a gr oup of co mponents
that we'v e grouped under a single ter m:secur ity and shar ing r ules.
With secur ity and shar ing rules, we'll first specify whic h custo m objects a par ticular user should
be allowed to cr eate, view, or edit (for example , Candidate and P ositio n), and then whic h
instances of those objects should be accessible (for example , the r ecords for c andidate Jo hn
Smith or the S enior S ales Manager positio n). Controlling our data either with the wide br ush
of object-le vel secur ity or with the mor e detailed br ush of r ecord-level secur ity will give us a
lot of po wer and flexibilit y in co ntrolling what users c an and c an't see.
Workflow and Approval Processes
Three of our r equir ements in volve auto mating business pr ocesses,  such as tr igger ing an aler t
email to a r ecruiter whene ver a job applic ation's status has c hanged,  and submitting ne w job
20Chapter 3:About the S ample Recr uiting A pp
openings for ex ecutiv e appr oval. Once again,  the Force.co m platfor m makes these r equir ements
easy for us to implement nativ ely with the built-in workflow  and approval pr ocess components.
Workflow and appr oval pr ocesses al low us to cr eate business logic based o n rules:
•Workflow rules c an assign tasks to users,  update fields,  or send email aler ts
•Approval pr ocesses al low users to submit sensitiv e records like ne w contracts or pur chase
orders to other users for appr oval
For example , in our Recr uiting app , we c an cr eate a wor kflow rule that tr iggers an e vent
whene ver the status of a job applic ation has c hanged to Reject or Extend an Off er, as illustrated
below.
Figure 4: Workflow When a Job Application's Status Has Changed
When a hir ing manager makes a decisio n to either extend an off er to or r eject the c andidate ,
changing the status of the applic ation triggers the appr opriate task to be assigned to the r ecruiter
for that positio n. Based upo n the hir ing manager ’s decisio n, the r ecruiter per forms the
appropriate fol low-up task.
Similar ly, we c an define an auto matic appr oval pr ocess that sends al l new positio ns to the
appropriate management for appr oval. If the positio n is appr oved, its status auto matic ally
changes to Open - A pproved and r ecruiters c an star t the hir ing pr ocess.  If the positio n is
rejected,  its status auto matic ally changes to Closed - N ot Approved and the positio n wo n't be
filled.
21About the S ample Recr uiting A pp
Custom Reports and Dashboards
Finally, we need to giv e users a wa y to inspect the status of al l positio ns and job applic ants in
the Univ ersal Co ntainers r ecruiting pr ogram. Managers need to del ve into the intr icate details
of ho w eac h recruiter is per forming , while ex ecutiv es just want a high-le vel overview of ho w
depar tments ar e doing with staffing g oals.
We can meet these r equir ements using r eports and dashboar ds. Using r eport builder , we c an
create detailed r eports with filters,  conditio nal highlighting , subtotals,  and c harts.With
dashboar d builder , we c an quic kly create a dashboar d of up to 20 diff erent co mponents o n a
single page.
Visualforce
We'll be able to use point-and-c lick tools to satisfy near ly all of our Recr uiting app use c ases;
however, there are a few use c ases, such as the mapping of c andidate loc ations and the posting
of positio ns on Univ ersal Co ntainers' public jobs site , that wil l requir e us to use Visualfor ce,
the Force.co m platfor m's tag-based mar kup language that al lows you to build sop histic ated,
custo m user inter faces for apps. We won't addr ess these use c ases until the v ery last c hapter ,
and when we do , this boo k wil l provide al l the code y ou need.
Although we hav en't y et gone into detail about ho w any of this stuff is g oing to wor k, you can
probabl y see no w just ho w flexible and po werful the Force.co m platfor m can be when y ou're
creating a custo m app .
In the next c hapter , we'll star t out by building our first custo m object. We'll swif tly get a f eel
for ho w the platfor m inter face wor ks, and it wo n't be an y time at al l befor e you're building app
components easil y and quic kly.When it's this easy , you can't help but beco me an exper t!
22Chapter 3:About the S ample Recr uiting A pp
Chapter 4
Reviewing Database Concepts
Now that we'v e intr oduced the po wer of the Force.co m
platfor m and lear ned about the r equir ements of theIn this c hapter ...
•What's a Database? Recruiting app that we'r e going to be building , let's take a
•What's in a Database? moment to talk about databases and wh y a simple
understanding of database co ncepts c an help y ou realize the •What's a Relatio nal
Database? full potential of the platfor m and make y our app
development a whole lot easier .•Summar y of Database
ConceptsAs you kno w, the under lying ar chitectur e of the platfor m
includes a database wher e your data is stor ed.This means
that al l of the infor matio n you enter is stor ed in that database
and then r etrieved from the database whene ver you vie w it
within y our app .
Histor ically, companies wer e requir ed to buy , build,  and
maintain their o wn databases and I T infr astructur es in or der
to distr ibute and r un their applic ations. Cloud co mputing
on the Force.co m platfor m provides an alter nativ e and makes
it easy for y ou, as a co mpan y or as a sole de veloper , to build
and deliv er your app . Part of the simplicit y of the c loud
computing model is that the tec hnical responsibilities of
maintaining and r unning al l of the database har dwar e and
software is hand led by the hosting co mpan y (in this c ase,
salesfor ce.co m), so you can focus o n developing y our app .
It's wor th pointing out that although y our data is stor ed in
a database and a simple understanding of database co ncepts
is helpful,  you do n't need to be a database de veloper to build
an app o n the platfor m.We won't be doing an y traditio nal
database pr ogramming in the course of de veloping our app .
23
What's a Database?
In simple ter ms, a database is an organiz ed col lectio n of infor matio n. Commo n examples
include a p hone boo k, a libr ary catalog , an emplo yee dir ector y, a catalog of the MP3s y ou own,
or in the c ase of our Recr uiting app , infor matio n about the open positio ns at a co mpan y, the
people who ar e appl ying for those positio ns, and the managers at our co mpan y who ar e in
charge of hir ing eac h positio n.
Typically, you use a database to col lect infor matio n about people , things,  or co ncepts that ar e
impor tant to y ou and whate ver project y ou're wor king o n. In standar d database language , the
category of a perso n, thing , or co ncept y ou want to stor e infor matio n about is r eferred to as
an entit y, although in standar d Force.co m platfor m ter minolog y, we r efer to this as an object .
In a database , each entit y is represented by a table. A database table is simpl y a list of
infor matio n, presented with r ows and columns,  about the c ategory of perso n, thing , or co ncept
you want to tr ack. So in a p hone boo k, you might hav e a table to stor e infor matio n about
residences and another table to stor e infor matio n about businesses;  or in a libr ary catalog , you
might hav e one table to stor e infor matio n about boo ks and another to stor e infor matio n about
authors.
In our Recr uiting app , we'll have one table to stor e infor matio n about open positio ns, another
table to stor e infor matio n about the c andidates appl ying for the positio ns, and a table to stor e
infor matio n about hir ing managers.  (Our Recr uiting app wil l hav e mor e than just this,  but
we'll get to that later .)
In very simplistic ter ms, a Force.co m platfor m object is similar to a database table in that y ou'll
have a separ ate object for eac h perso n, thing , or co ncept about whic h you want to col lect
infor matio n. In reality, a Force.co m platfor m object is m uch mor e than this bec ause the ful l
functio nality of the platfor m is behind eac h object.  Each object auto matic ally has built-in
featur es like a user inter face, a secur ity and shar ing model,  workflow processes,  and m uch mor e
that y ou'll lear n about in the r est of this boo k.
Note: As we intr oduce database co ncepts, “object ” and “table ” will be used
interchangeabl y bec ause the y are similar . Just r emember that a Force.co m platfor m
object is m uch mor e than just a database table.
It's impor tant to understand that a single database table , or Force.co m platfor m object,  should
contain o nly one type of infor matio n.You do n't want to lump al l of y our infor matio n into o ne
table , so you wouldn't stor e positio ns, candidates,  and hir ing managers al l in the same place.
Not only is this not g ood database design,  but it doesn't al low you to r elate objects to o ne
another . For example , if all of our data wer e in o ne table , how would we e ver kno w whic h
24Chapter 4:Reviewing Database Co ncepts
candidates wer e appl ying for whic h positio ns, or whic h managers wer e in c harge of hir ing for
whic h positio ns?
As we define our app , it's impor tant for us to keep this in mind and ask oursel ves questio ns
like,“What kind of infor matio n do we want to stor e? Can we separ ate our infor matio n into
distinct c ategories so that eac h object holds o nly one type of perso n, thing , or co ncept?” The
answers to these questio ns wil l guide us as we design the str uctur e of our applic ation.
What's in a Database?
As we mentio ned, a database table pr esents y our infor matio n in r ows and columns.  Let's take
a loo k at ho w a table of positio ns might loo k:
Figure 5: Position Information in a Table
Each row in the table r epresents the infor matio n about a specific instance of the object,  for
example , the Recr uiter positio n or the SW Engineer positio n. In standar d Force.co m platfor m
terminolog y, we c all this a record. For every object y ou want to tr ack in y our app , you'll hav e
multiple r ecords to r epresent eac h individual item about whic h you're stor ing infor matio n. It's
commo n for users who ar e new to the platfor m to co nfuse the meanings of object and r ecord.
It'll make y our de velopment a lot easier if y ou remember that an object is a c ategory of
infor matio n, such as a positio n or c andidate , and the r ecord is a single instance of an object,
such as a SW Engineer .
Note:As a side note her e, we'll mentio n that the platfor m inc ludes a set of built-in
objects when y ou first star t using it;  we c all these standar d objects . One example of a
standar d object is the U ser object,  whic h stor es infor matio n about eac h perso n who
is a user of the app , like our hir ing managers. You can also build y our o wn objects to
store infor matio n that's unique to y our app;  we c all these custom objects . Both standar d
25Reviewing Database Co ncepts
objects and custo m objects ar e not r eally all that diff erent—o ne kind is pr ebuilt for
you, and the other y ou build y ourself .We'll talk mor e about these later as y ou star t to
build y our app .
Now let's loo k at the columns in the table.  Each column lists a par ticular piece of infor matio n
such as the P ositio n Title or Max P ay.We refer to these as fields. Every object has a set of
fields that y ou use to enter the infor matio n about a par ticular r ecord. For eac h field in the
table , a single item of data that y ou enter , such as Human Resour ces in the F unctio nal Ar ea,
is referred to as a data value.
Just like objects,  fields co me in t wo var ieties:  standar d and custo m.The standar d fields ar e the
ones that ar e built into the platfor m and auto matic ally added for y ou.The custo m fields ar e
the o nes y ou define to stor e specific pieces of infor matio n that ar e unique to y our app .
Fundamental ly, there is no diff erence bet ween standar d and custo m fields.  Both ar e simpl y
columns in the database table. We'll talk mor e about standar d and custo m fields later when
you begin building y our app .
What's a Relational Database?
Now you hav e some infor matio n stor ed in y our database , but so what? You could easil y make
a list of positio ns using Micr osoft Excel or so me other spr eadsheet sof tware. For eac h positio n,
you could e ven list the hir ing manager in a field c alled Hir ing Manager , like this:
Figure 6: Position Information with Hiring Manager Field
But what if a hir ing manager is r esponsible for hir ing mor e than o ne positio n? You would need
to hav e duplic ate records for the same hir ing manager so y ou could c aptur e every positio n for
whic h that hir ing manager is r esponsible , like this:
26Chapter 4:Reviewing Database Co ncepts
Figure 7: Position Information with Duplicate Hiring Managers
This is not a g ood database design! U sing this appr oach, data is r epeated unnecessar ily. In
additio n, there is really no wa y to c aptur e additio nal infor matio n about our hir ing managers,
like their email addr esses or p hone numbers.  And if we tr y to add infor matio n about whic h
candidates ar e appl ying for eac h positio n, you can imagine that our simple table wil l quic kly
become extr emel y complex and unmanageable.
As we mentio ned befor e, you want to cr eate separ ate database tables,  or objects,  for eac h perso n,
thing , or co ncept y ou want to tr ack. A better wa y to model our scenar io her e would be to cr eate
one object for positio ns, one object for c andidates,  and o ne object for hir ing managers.  (Luckily,
the platfor m has a standar d object that we'l l be able to use to r epresent our hir ing managers—the
User object.)
Once we hav e our data separ ated into discr ete objects,  we c an easil y relate objects to eac h other .
This is what a r elatio nal database is al l about! A relationship  is an associatio n bet ween t wo or
more tables.  For example , we can relate positio ns to hir ing managers so we kno w whic h positio ns
each hir ing manager is r esponsible for:
Figure 8: Positions Related to Hiring Managers
27Reviewing Database Co ncepts
From a tec hnical standpoint,  each table in a r elatio nal database has a field in whic h the data
value uniquel y identifies the r ecord.This field is c alled the primar y key.The pr imary key is o ne
part of what defines the r elatio nship;  the other par t is the foreign ke y. A for eign ke y is a field
whose value is the same as the pr imary key of another table .You can think of a for eign ke y as
a copy of a pr imary key from another table. The r elatio nship is made bet ween t wo tables by
matc hing the values of the for eign ke y in o ne table with the values of the pr imary key in another .
Primary and for eign ke ys are fundamental to the co ncept of r elatio nships bec ause the y enable
tables to be r elated to eac h other . As y ou begin building y our app , you wo n't really need to
think too m uch about pr imary keys and for eign ke ys.The impor tant co ncept to understand
here is that in a r elatio nal database , objects ar e related to eac h other thr ough the use of co mmo n
fields that define those r elatio nships.
Summary of Database Concepts
At this point,  we're ready to div e into the building of our Recr uiting app . But first let's r ecap
what we'v e lear ned about databases. Whether this was y our first intr oductio n to databases or
whether y ou're already an exper ienced database de veloper who's ne w to the Force.co m platfor m,
the impor tant things to r emember ar e:
•A database is an organiz ed col lectio n of infor matio n.
•A database table stor es infor matio n about a single t ype of perso n, thing , or co ncept—suc h
as a job positio n.In the Force.co m platfor m, we use the ter m object  here (even though an
object is m uch mor e than this,  as you'll see).
•A database r ow, or record in Force.co m platfor m ter ms, represents a single instance of an
object—suc h as the SW Engineer positio n.
•A field stores a par ticular piece of infor matio n on a record.
•Relationships  define the co nnectio n bet ween t wo objects,  and objects ar e related to eac h
other thr ough the use of co mmo n fields.
Now that we'v e got that al l covered, let's get star ted building our first object!
28Chapter 4:Reviewing Database Co ncepts
Chapter 5
Building a Simple App
Just as tr aditio nal pr ogramming boo ks first teac h you ho w
to write a simple “Hello World” program befor e getting intoIn this c hapter ...
•Beco ming F amiliar with
the S etup Ar eamore complic ated things,  in this c hapter , we're going to
create a v ery simple v ersion of the Recr uiting app to sho w
you just ho w easy it is to get star ted with the Force.co m •Introducing A pps
platfor m. Along the wa y we'l l orient oursel ves to the •Introducing O bjects
platfor m's user inter face (wher e we'l l be doing most of our•Introducing Tabswork), and we'l l lear n how to cr eate and co nfigur e our first•Beco ming F amiliar with
Setup Detail P ages and
Related Listscusto m object.  Although easy and str aightfor ward, the tasks
we co mplete her e will be the first step in de veloping a
full-featur ed Recr uiting app . So let's div e right in!
•Introducing F ields
•Look at What We've
Done
29
Becoming Familiar with the Setup Area
Since we'r e going to spend most of our time wor king in the S etup ar ea of the platfor m, let's
first beco me familiar with what it is and ho w to navigate to it.
The S etup ar ea is a user pr eferences ar ea, an applic ation building and custo mization
environment,  and an administr ation tool,  all in o ne.We per form almost e very task we need
to create our app in the S etup ar ea, so most of the “Try It O ut” sectio ns of the boo k are going
to star t with an instr uctio n like ,“Clic k YourName➤Setup➤Create➤Apps .”This is a
short way of sa ying:
1.Click the YourName➤Setup link in the top-r ight cor ner of the page (sho wn in
the fol lowing scr eenshot).
2.Go to the A pp Setup ar ea on the lef t side of the page.
3.Click the + icon to expand the Create menu,  or just c lick the Create link.
4.Click the Apps  link.
The final link that y ou click (in this example ,Apps ) will change depending o n the task y ou're
trying to per form, but y ou get the gener al idea.
Figure 9: The Setup Area
Similar to the other par ts of the applic ation, the S etup ar ea co nsists of a tab bar , a navigatio nal
sidebar , and a main windo w:
30Chapter 5:Building a S imple A pp
•The tab bar is made up of the same tabs that appear in the r egular applic ation. Just c lick
on any one of the tabs to exit the S etup ar ea and g o to that tab in the main applic ation.
•The navigatio nal sidebar inc ludes expandable lists of al l the tools that ar e available in the
Setup ar ea:
Personal S etup
These tools co ntrol individual pr eferences and ar e available to al l users.
App S etup
These tools co nfigur e the standar d objects,  custo m objects,  and custo m
apps that ar e deplo yed and ar e typically used o nly by administr ators.
Administ ration S etup
These tools co nfigur e the platfor m as a whole and ar e typically used
only by administr ators.
Force.com  Checkout
These tools let y ou pur chase licenses and pr oducts fr om salesfor ce.co m,
change y our bil ling infor matio n, and so for th.
•The main windo w is wher e the navigatio nal links or a selected setup tool ar e actual ly
displa yed.
Now that we kno w what we'r e loo king at,  let's star t creating our simple app .
Introducing Apps
What should we do first? If we wer e writing a sof tware applic ation, the first thing we'd need
to do is build a pr oject wher e we could stor e all the code that we wer e going to w rite.With
the Force.co m platfor m, the first thing we need to do is cr eate a ne w app .
Like a pr ogramming pr oject,  an app is little mor e than a co ntainer for al l of the objects,  tabs,
and other functio nality that we'r e going to build as par t of our Recr uiting applic ation. It co nsists
simpl y of a name , a log o, and an or dered set of tabs. The simplest app co ntains o nly one
tab—the Ho me tab—and a default log o. As we define mor e tabs in the r emainder of this boo k,
we can add them to the app later .
Let's star t clicking thr ough the pr ocess of actual ly creating a simple app no w. Log in to y our
Salesfor ce account so y ou can fol low alo ng!
Note: Because the platfor m is co ntinual ly evolving, you might find that the scr eenshots
you see in this boo k var y slightl y from what y ou see o n your scr een.These c hanges
should be minor and shouldn't aff ect your understanding .
31Building a S imple A pp
Try It Out: Defining an App
To create an app:
1.Open a br owser and g o to www.salesforce.com .
2.Click Customer L ogin.
3.Enter y our user name and passwor d.
4.Click YourName➤Setup➤Create➤Apps .
5.If you see an intr oductor y splash page , simpl y click Cont inue.
Note:You'll find that man y par ts of the applic ation hav e these splash pages
to help y ou understand what y ou can do with the platfor m. If you ne ver
want to see a par ticular page again,  just c lick Don't sho w me this page ag ain.
Welcome to the A pps list page! Like man y of the setup tools,  the star ting page for the A pps
tool co nsists of a list of al l the apps that ar e curr ently enabled for y our organiz ation. Depending
on what editio n you're using or what y ou've already instal led fr om the AppEx change , you'll
probabl y already hav e some standar d apps listed her e.
6.Click New.The N ew Custo m App wiz ard appears.
7.In the AppLabel  field,  enter Recruiting .
The app label is the name that wil l represent our ne w app in the Force.co m app menu that
appears at the top r ight of al l pages.  Users c an use this menu to switc h bac k and for th bet ween
apps.
Notice that a v ertical red bar appears just to the lef t of this Label  field. This r ed bar indic ates
that y ou m ust pr ovide a value for this field in or der to sav e your wor k. If you do n't enter a value
here and tr y to pr oceed,  an err or message is displa yed, as sho wn in the fol lowing scr eenshot.
Figure 10: Required Fields Highlighted in Red
32Chapter 5:Building a S imple A pp
8.Click your mouse inside the AppName  field.
The app name is what the de velopers use to identify an app when w riting code for the Force.co m
platfor m.We won't be doing an ything in this boo k that uses the app name , but the field is
requir ed, so it needs a value.  Fortunatel y, when y ou enter a value in the AppLabel  field,  the
same value should auto matic ally appear in the AppName  field.  If it doesn't,  enter Recruiting
in the AppName  field no w.
9.In the Description  field,  enter Managepositions, candidates, and
jobapplications, andtrackjobpostings onemployment
websites.
10.Click Next.
The next scr een in the N ew Custo m App wiz ard allows you to specify the image file that
should be used for this app's log o.Whene ver the app is selected in the Force.co m app menu,
this is the log o that appears in the upper-lef t corner of al l pages.  Since we'r e just cr eating a
simple app , let's accept the default log o that's alr eady pr ovided. We can always change it later .
11.Click Next.
As we said befor e, an app is a co ntainer for an or dered col lectio n of tabs,  and this step of the
New Custo m App wiz ard allows us to specify whic h tabs we want to inc lude in our ne w app .
The Available Tabs  list sho ws us the standar d and custo m tabs that ar e available for us to
choose , and the Selected Tabs  list sho ws us whic h tabs ar e already inc luded,  listed in the
order that the y should be displa yed.You'll notice that o ne tab , the Ho me tab , is alr eady inc luded
in our app by default. This is bec ause the Ho me tab is r equir ed in e very app , and m ust al ways
be in the first positio n; however, you can use the Default Landing Tab drop-do wn menu
to select whic h tab is first displa yed when the app opens.
Again,  since we'r e just cr eating a simple app , let's accept the defaults and mo ve on.We'll add
more tabs later .
12.Click Next.
Now that we'v e defined so me of the basic f eatur es of our app , you might be wo ndering what
remains to be do ne in the N ew Custo m App wiz ard—shouldn't we alr eady be do ne? It tur ns
out that o ne cr ucial step r emains:  we need to define the users who wil l be al lowed to access
our app .
In this step of the N ew Custo m App wiz ard, we c an choose whic h user pr ofiles should hav e
access to the app .We'll lear n mor e about pr ofiles in Securing and S haring Data  on page 131.
For no w, just understand that e very user is assigned to a pr ofile, and pr ofiles co ntrol whic h
apps the users assigned to that pr ofile c an vie w.
33Building a S imple A pp
13.Select the Visible  checkbox next to the S tandar d User and S ystem A dministr ator
profiles.
14.Click Save.
That's it!
Look at What We've Done
Now that we'v e made it bac k to the A pps list page , let's see what we'v e just do ne. First of al l,
we've got a ne w entr y in the A pps list—our Recr uiting app! It sho ws up in the list in the same
order it's g oing to appear in our Force.co m app menu.  In fact,  let's g o loo k at the Force.co m
app menu no w.
Figure 11: Force.com  App Menu
Tip: If you want to c hange the positio n of our app in this menu,  do so fr om the A pps
list page by c licking Reor der and r earranging the available apps as y ou see fit.
Now select the Recr uiting app fr om the menu and see what happens—our app is launc hed
with a single Ho me tab! We've created the Recr uiting app's Ho me tab , and we'v e added it to
the Force.co m app menu. That's ho w easy it is to get star ted.
You'll notice that the appr oach we'r e taking her e is iter ative: we'll build par t of the app , look
at what we'v e acco mplished,  and then add to it. This sequence not o nly reflects the fact that
we're leading y ou thr ough the steps of building an app in this boo k, but y ou'll also find that
in building Force.co m platfor m apps in gener al, this iter ative process is co mmo n.
During the course of this boo k, you'll also notice that unlike with tr aditio nal coding pr ojects,
your app is al ways functio nal.Ther e's no build or co mpile p hase, and as a r esult,  you'll almost
never be c hasing do wn sy ntax bugs or other t ypos. In fact,  with this simple o ne-tab app , you
can alr eady utiliz e all of the built-in functio nality that co mes with the platfor m, including
search, calendar e vents and tasks,  user pr eferences,  and a familiar user inter face.
34Chapter 5:Building a S imple A pp
Introducing Objects
Now that our app is functio nal (but r ather bor ing), let's make it a little mor e inter esting by
introducing our first object.
As you might r emember fr om the last c hapter , an object  is very similar to a database table in
the Force.co m platfor m.The platfor m co mes with a number of standar d objects,  like co ntacts,
accounts,  and c ases, whic h suppor t default apps like Salesfor ce Sales and Salesfor ce Call Center .
We can also define custo m objects that al low us to stor e infor matio n specific to our Recr uiting
app.
Whether the y're standar d or custo m,Force.co m platfor m objects not o nly provide a str uctur e
for stor ing data but the y also po wer the inter face elements that al low users to inter act with the
data,  such as tabs,  the la yout of fields o n a page , and lists of r elated r ecords. Because an y object
can corr espond to a tab , and an or dered col lectio n of tabs makes up an app , objects make up
the hear t of an y app that we cr eate with the platfor m.
With custo m objects being so impor tant—the y hav e lots to do with ho w our app wil l look,
behav e, and f eel—what we do with custo m objects and ho w we use them quic kly beco mes
essential to cr eating a successful app .The design of the data model behind an app is t ypically
the biggest factor in its success or failur e.
That's enough talk about objects for no w. Let's g o define o ne!
The Position Custom Object
The first custo m object that we'l l create for our Recr uiting app r eflects a t ypical recruiting task:
descr ibing a positio n. Recr uiters at Univ ersal Co ntainers need to keep tr ack of al l the positio ns
they're hiring for , such as a S enior De veloper , Sales Engineer , or Benefits S pecialist. They'll
need easy access to al l positio ns in the sy stem thr ough a tab , and the y'll need to inc lude cer tain
infor matio n for eac h positio n, such as its minim um and maxim um salar y range, the positio n's
location, and its hir ing manager . In Force.co m platfor m ter ms, we'll create a custo m object,
create a custo m tab for that object,  and then define so me custo m fields.
Try It Out: Defining the Position Custom Object
To create the P ositio n object,  we're going to g o bac k to the S etup ar ea.
1.Click YourName➤Setup➤Create➤Objects .
2.On the Custo m O bjects page , click New Custom O bject .
35Building a S imple A pp
Unlike defining a custo m app , whic h we did thr ough the N ew Custo m App wiz ard, defining
a custo m object is co nfined to just o ne page. You'll find that the platfor m uses wiz ards or single
pages depending o n the amount of infor matio n that needs to be specified.
Figure 12: Custom Object Definition Page
3.In the Label  field,  enter Position .
4.In the PluralLabel  field,  enter Positions .
5.The ObjectName  field is defaulted to Position . Let's leav e it as is.
The Label  and PluralLabel  of a custo m object ar e what users see in al l of the object's
related user inter face elements,  such as the object's tab or in sear ch results headings.  Object
labels wor k best as nouns,  and the plur al label is al ways used to label a custo m object's tab (if
you cr eate a tab for y our object).
The value of a custo m object's ObjectName  represents the unique name for the object when
it's referenced in other ar eas of the platfor m, such as for mulas and Visualfor ce pages. This
value is helpful ly autogener ated based o n the value that y ou enter for the Label , except that
all spaces and punctuatio n are replaced with underscor e characters. We'll talk mor e about
formulas and Visualfor ce later in this boo k. For no w, just keep in mind that the ObjectName
value m ust be unique acr oss al l objects defined in y our organiz ation.
Note:Within the platfor m,ObjectName  is actual ly stor ed with __c appended to
the end as a suffix (for example ,Position__c ).This identifies it as a custo m object.
36Chapter 5:Building a S imple A pp
6.In the Description  field,  enter Thisobjectstoresinformation
abouttheopenjobpositions atourcompany.
7.For the Context-Sensitive HelpSetting , accept the default.  If you later
want to pr ovide custo mized help documentatio n for y our users about this object,
you can co me bac k and c hoose the Openawindowusingacustom
Visualforce  optio n.
8.In the RecordName  field,  enter Position Title .
The RecordName  is the label for the field that identifies individual positio n records in the
system.  A custo m object c annot be sav ed without this identify ing field.
9.In the DataType  drop-do wn list,  select Text.
The DataType  drop-do wn list al lows you to select the t ype of value that should be used for
this identify ing field:  either Text or A uto-N umber . Some objects,  like P ositio ns or A ccounts,
can be identified with a text field bec ause ther e will always be a name for a positio n or account
available.  Other objects,  like a Case (used in the standar d Cal l Center app) ar e harder to identify
with a single text field,  so we would assign them auto-numbers instead.
Tip:Whene ver possible , it's best to use text as the data t ype for an identify ing field
so that users c an mor e easil y identify a par ticular r ecord when se veral of them appear
together in a single list.
To illustrate ho w custo m object and r ecord name labels wor k together in the app , let's fast
forward a bit to see wher e each label wil l appear o nce we'v e defined our P ositio n custo m object,
its tab , and a single S r. Developer positio n record.
Figure 13: Custom Object and Record Name Labels
Let's mo ve on.
37Building a S imple A pp
10.In the Optio nal F eatur es area, select the AllowReports ,AllowActivities ,
and TrackFieldHistory  checkboxes.
These thr ee checkboxes actual ly enable so me really robust functio nality:
Allow Repor ts
Selecting this optio n makes the data in the positio n records available for
reporting pur poses. The platfor m co mes with a large number of standar d
reports, and users c an also cr eate custo m reports by using a simple y et
powerful report builder . (To find out mor e about r eports, see Analyzing
Data with Repor ts and Dashboar ds on page 243.)
Allow Act ivities
Selecting this optio n allows users to associate tasks and sc heduled c alendar
events with a par ticular positio n. For example , a user could cr eate a task,
such as “Update salar y range for S r. Developer positio n,” and specify
attributes suc h as pr iority, due date , and status. The user could then hand le
the task herself or assign it to so meone else.  (To find out mor e about tasks,
see “Activit y Overview” in the o nline help .)
Track Field Histor y
Selecting this optio n allows the platfor m to auto matic ally track edits to
positio n records, such as who c hanged the value of a field,  when it was
changed,  and what the value of the field was befor e and af ter the edit.
Histor y data is available for r eporting, so users c an easil y create audit tr ail
reports when this f eatur e is enabled.  (To find out ho w to select whic h data
is tracked, see “Tracking F ield Histor y” in the o nline help .)
In gener al, you should select these optio ns if ther e's an y chance that the y might be useful for
whate ver custo m object y ou're defining .
11.In the Deplo yment S tatus ar ea, select Deployed .
Note:This step assumes that y ou're wor king in a de velopment en vironment.
If you're not,  and if y ou do n't want users to see the P ositio n object af ter you
click Save, select InDevelopment . Setting the status to In
Development  hides positio n records from all users ex cept those with the
“Custo mize Applic ation” user per missio n (that is,  just about an yone who
isn't a S ystem A dministr ator).
12.In the O bject Cr eatio n Optio ns area, select the AddNotes&Attachments
related listtodefault pagelayout  and LaunchNewCustomTab
Wizardaftersavingthiscustomobject  checkboxes.
38Chapter 5:Building a S imple A pp
These t wo optio ns are available o nly when y ou're creating a ne w custo m object.  If you later
decide to g o bac k and edit so me of the details about y our custo m object,  you wo n't see them.
But what do the y do?
•Enabling notes and attac hments for an object means that y ou can attac h exter nal documents
to an y positio n record, in m uch the same wa y that y ou can add a PDF or p hoto as an
attac hment to an email.  It's handy functio nality, so you should gener ally select it.
•Launching the N ew Custo m Tab wiz ard does exactl y what it sa ys—it's a shor tcut to
launc hing the tab wiz ard after we'v e saved our P ositio n object and wil l save us a f ew clicks
if we kno w that we need a tab .
All set? L et's g o ahead and sav e our P ositio n custo m object no w.
13.Click Save.
That's al l ther e is to it! As pr omised,  the N ew Positio n Tab wiz ard is displa yed instead of the
list of custo m objects that we'd nor mally see.  Let's take a mo ment to talk about wh y we should
even be defining a tab for our P ositio n object in the first place. What's so gr eat about tabs,
anyway?
Introducing Tabs
If you're familiar with the Force.co m platfor m, you kno w that c licking tabs is ho w you navigate
around an app . Every tab ser ves as the star ting point for vie wing , editing , and enter ing
infor matio n for a par ticular object. When y ou click a tab at the top of the page , the
corresponding ho me page for that object appears.  For example , if you click the A ccounts tab ,
the A ccounts tab ho me page appears,  giving y ou access to al l of the account r ecords that ar e
defined in y our organiz ation. Clic k the name of a par ticular account r ecord and y ou'll view all
of the r ecord's infor matio n in its associated detail page.
What's r eally powerful about building an app with the platfor m is that y ou can cr eate custo m
tabs that loo k and behav e just like the tabs for standar d objects that ar e already pr ovided.  From
the perspectiv e of y our end users,  any custo mizations that y ou make appear per fectly seamless,
and as a de veloper , you do n't hav e to do an ything special to make it wor k that wa y! Let's see
how quic kly we c an cr eate a tab for our P ositio n object.
Try It Out: Defining the Positions Tab
To create a custo m tab for our P ositio n object,  we're going to use the N ew Custo m O bject
Tab wiz ard that was so helpful ly launc hed for us when we c licked Save after defining the
object.  However, in case you forg ot to select the LaunchNewCustomTabWizardafter
39Building a S imple A pp
savingthiscustomobject  optio n or if y ou're coming bac k to wor k that y ou pr eviousl y
saved, have no f ear! Ther e's another wa y to launc h the wiz ard.
1.Click YourName➤Setup➤Create➤Tabs.
2.In the Custo m O bject tabs ar ea, click New.
Easy. Now that we'r e all on the same page , let's get star ted wor king thr ough the wiz ard.
3.In the Object  drop-do wn list,  select P ositio n.
If you launc hed the wiz ard directly after defining the custo m object,  the P ositio n object is
automatic ally selected for y ou.
4.Click the TabStyle  lookup ico n to launc h the Tab Style Selector as sho wn in the
following scr eenshot.
Every object that appears as a tab m ust hav e a unique color sc heme and ico n.This color sc heme
is what identifies the object,  not o nly on its tab but also in diff erent places in the user inter face,
such as in r elated lists and sear ch results.
Figure 14: Custom Object Tab Setup Page and Tab Style Selector
40Chapter 5:Building a S imple A pp
In the Tab Style Selector , you can choose a pr edefined color and ico n or y ou can cr eate y our
own.To keep things simple , we're going to select an existing st yle.
5.Click the Hide values whic h ar e used on other tabs  link to make sur e you choose
a unique st yle.
6.Click any color ed bo x to c hoose a color sc heme and ico n.
Leave the SplashPageCustomLink  drop-do wn list set to --None-- .We'll lear n mor e
about custo m links in Moving Be yond Point-and-Clic k App De velopment  on page 281.
7.In the Description  field,  enter Atabandcolorschemeforthe
Position customobject.
8.Click Next.
9.Click Next again to accept the default user pr ofile visibilit y.
Just as we co ntrolled access to our Recr uiting app by selecting user pr ofiles in the N ew Custo m
App wiz ard, we c an also co ntrol access to our P ositio ns tab by selecting user pr ofiles her e.
We'll lear n mor e about user pr ofiles and what the y do in Securing and S haring Data  on page
131. For no w, just kno w that accepting the defaults wil l make the tab visible to al l users.
10.Deselect al l of the Include Tab checkboxes except the o ne for our Recr uiting app .
In per forming this step , we're providing access to the P ositio ns tab o nly when so meone has
access to our Recr uiting app . Unless an emplo yee is inter ested in r ecruiting , he or she pr obabl y
doesn't need to see this tab .
11.Select the Appendtabtousers'existing personal customizations
checkbox.
If you do n't select this optio n, any users who hav e perso naliz ed their tab displa y will not
immediatel y see the P ositio ns tab . Also , if you've already cr eated a ne w tab and didn't tur n
this optio n on, you hav e to first delete the existing tab and then r ecreate it with this optio n
turned o n to auto matic ally push the tab to existing users. What a pain! Do y ourself a favor and
just al ways keep this optio n selected.
12.Click Save.
You'll notice when the page r efreshes that the P ositio ns tab has auto matic ally been added next
to the Ho me tab at the top of the page.
Look at What We've Done
To truly appr eciate what we'v e just built with a f ew clicks, let's take a loo k at what we'v e done.
41Building a S imple A pp
1.First, click the P ositio ns tab to displa y the P ositio ns tab ho me page , as sho wn in the
following scr eenshot.  Although the list is empt y bec ause we hav en't y et created an y
records, you can see ho w this page wil l beco me the gate way to vie wing , creating ,
editing , and deleting al l of the positio ns that we cr eate in our Recr uiting app . It loo ks
just like the tab ho me page of an y other standar d object.
Figure 15: The Positions Tab Home Page
2.Now, check out the co ntents of the Create N ew... drop-do wn list in the lef t sidebar .
As pr omised,  our custo m object has been seamlessl y incor porated into the platfor m
with the other standar d objects like Ev ent and Task. An end user need ne ver kno w
that the P ositio ns tab was cr eated with a custo m object,  because it sho ws up alo ngside
the standar d objects as wel l.
3.Select P ositio n from the Create N ew... drop-do wn list,  or click New in the P ositio ns
tab ho me page. Voilà—it's the P ositio n edit page! S adly, though,  our positio n stil l
doesn't hav e much room for data.  At this point,  all we hav e is a field for Position
Title  (the r ecord identifier) and Owner , a default field that appears o n every object
to identify the user who cr eated the object.
4.Click Cancel . It doesn't do m uch to cr eate a positio n record with har dly any
interesting data. We need mor e fields! A nd sur e enough,  that's what we'l l get to
next.  First, though,  let's r evisit our P ositio n custo m object and or ient oursel ves to
what else is available thr ough a custo m object detail page in the S etup ar ea.
42Chapter 5:Building a S imple A pp
Becoming Familiar with Setup Detail Pages and Related
Lists
You ma y recall when we first intr oduced the co ncept of objects that we lear ned: “Whether
they're standar d or custo m,Force.co m platfor m objects not o nly provide a str uctur e for stor ing
data but the y also po wer the inter face elements that al low users to inter act with the data,  such
as tabs,  the la yout of fields o n a page , and lists of r elated r ecords.” If you've been fol lowing
along closely, you might hav e been wo ndering wh y we didn't get to define an y fields (other
than the identifier field of P ositio n Title) or user inter face elements (other than the P ositio ns
tab) when we cr eated our P ositio n object.  If fields and user inter face elements ar e a par t of the
definitio n of what a custo m object is al l about,  wher e do we get to define them?
It tur ns out that the Force.co m platfor m diff erentiates bet ween the initial cr eatio n of cer tain
components and details r elated to those co mponents.  In other wor ds, the infor matio n that we
see when we define or edit a custo m object is diff erent fr om the infor matio n that we see when
we vie w a custo m object that's alr eady defined.  Let's g o bac k to our custo m object list page to
see ho w this diff erence is r eflected in the platfor m inter face:
1.Click YourName➤Setup➤Create➤Objects .
Here we ar e bac k in the custo m object list page. You'll notice in the r ow for P ositio n ther e are
three links that we c an click:
Edit
This link takes us bac k to the Custo m Object edit page wher e we or iginal ly
defined our P ositio n object.
Del
This link deletes the custo m object,  including an y records, tabs,  reports,
or other co mponents associated with that object.
Posit ion
This link takes us to the custo m object detail page for our P ositio n object.
43Building a S imple A pp
Figure 16: Custom Object List Page: Edit, Delete, and Detail Links
We're already familiar with the edit page fr om when we defined our P ositio n object,  and we
certainly don't want to delete our object.  Let's g o ahead and open up the detail page to see
what we c an do ther e.
2.Click Posit ion.
As you can see , the Custo m Object edit page that we fil led out when we defined our P ositio n
object was just the tip of the iceberg .The top t wo ar eas of the P ositio n detail page (see Positio n
Custo m Object Detail P age) include al l of the infor matio n that we or iginal ly specified,  plus a
few standar d fields that the platfor m inc ludes with e very object.  Belo w those ar eas ar e several
additio nal gr oupings of data that al low us to do mor e with our P ositio n object.
In Force.co m platfor m ter ms, those gr oupings of data ar e called related lists , and the y're a big
part of what makes the platfor m so po werful. A related list is a list of r ecords or other
components that ar e associated with whate ver we'r e viewing . Related lists appear in both the
main applic ation and in the S etup ar eas and r epresent a r elatio nship bet ween the items that
appear in the r elated list and the object or r ecord that we'r e viewing in the detail ar ea.We'll
learn a lot mor e about r elatio nships in Expanding the S imple A pp U sing Relatio nships  on
page 85, but for no w, just understand that an ything that appears in an object's r elated list is
directly related to that object.
Now that we'v e found out wher e we c an co ntinue custo mizing our P ositio n custo m object,
let's use the Custo m Fields & Relatio nships r elated lists to cr eate so me mor e fields in our
Positio n object.
44Chapter 5:Building a S imple A pp
Figure 17: Position Custom Object Detail Page
Introducing Fields
We're ready to add mor e fields to our P ositio n custo m object,  but first,  let's talk br iefly about
what a field is and ho w it fits into the wor ld of the Force.co m platfor m.
As you might r emember fr om the last c hapter , a field is like a database column. The pr imary
character istic of a field is its data t ype—so me fields hold text values,  while others hold curr ency
values,  percentages,  phone numbers,  email addr esses,  or dates.  Some fields loo k like c heckboxes,
while stil l others ar e drop-do wn lists or r ecord loo kups fr om whic h a user makes a selectio n.
The data t ype of a field co ntrols the wa y the field is ultimatel y displa yed in the user inter face
and ho w data enter ed into the field is stor ed in the platfor m.To get a better f eel for ho w the
fields wil l look, let's take a sneak peak at what the P ositio n object is ultimatel y going to loo k
like and the t ypes of custo m fields we'r e going to cr eate for it:
45Building a S imple A pp
Figure 18: Position Custom Object Fields
Ther e are a lot of fields her e that we need to define , some mor e complic ated than others. To
keep things simple , let's g o thr ough and cr eate the simple text,  currency, checkbox, and date
fields. We can tac kle the mor e complic ated pic klist and custo m for mula fields in Enhancing
the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts on page 53.
Try It Out: Adding Text Fields
First let's define a f ew text fields. We already cr eated a basic text field for Position Title
when we defined our P ositio n custo m object.  Looking at our scr eenshot,  the o nly text fields
that r emain ar e the text fields under the Descr iption heading .We'll star t by defining the Job
Description  field.
1.Click YourName➤Setup➤Create➤Objects .
46Chapter 5:Building a S imple A pp
2.Click Posit ion.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
Every time y ou cr eate a custo m field,  you'll first c hoose a data t ype from the field t ype selectio n
page.
The platfor m allows us to c hoose bet ween diff erent types of text fields:
•Basic text fields al low users to enter an y combinatio n of letters and numbers o n a single
line, up to as man y as 255 c haracters.
•Text ar ea fields also hav e a 255 c haracter limit but also al low carriage r eturns so the text
can be for matted o n separ ate lines.
•Long text fields al low as man y as 32,000 c haracters,  on separ ate lines.
Since job descr iptions can be length y, let's c hoose a lo ng text ar ea.
4.Choose the TextArea(Long)  data t ype and c lick Next.
Tip:Carefully consider the data t ype you choose for eac h of y our custo m fields,  because
once y ou set it,  it isn't al ways the best idea to c hange it later . See Notes o n Changing
Custo m Field Types in the o nline help for details.
The seco nd page of the custo m field wiz ard allows us to enter details about our lo ng text ar ea
field. The fields that appear in this step c hange depending o n the data t ype that we selected
in the pr evious page.
5.In the FieldLabel  field,  enter JobDescription .
Like the other labels that we'v e seen in the platfor m so far , the FieldLabel  specifies the
text that should be displa yed to users when the field is r ender ed in the user inter face. Notice
that when we enter a value for FieldLabel ,FieldName  is auto matic ally populated with
the same text but with al l spaces and punctuatio n replaced by underscor es.The value for Field
Name  is a unique name that is used to r efer to the field when w riting a custo m for mula or using
the API.
Note:Within the platfor m,FieldName  is actual ly stor ed with __c appended to
the end as a suffix (for example ,Job_Description__c ).This identifies it as a
custo m field.
6.In the Length  field,  enter 32,000 .
The Length  field al lows us to r estrict the maxim um number of c haracters that ar e allowed.
Since we do n't get an y benefit fr om this kind of r estriction, leave this value set to 32,000.
7.In the #Visible Lines  field,  enter 3.
47Building a S imple A pp
This field al lows us to specify ho w large our text bo x wil l appear o n the page.
8.In the Description  and HelpText  fields,  enter High-level description
ofthejobanditsduties.
This help text is displa yed on record detail and edit pages when users ho ver over the field's
label.  Its pur pose is to assist users in fil ling out the field corr ectly. It's optio nal to add help text
for a field,  but it's a g ood idea if y ou hav e fields that y ou think users might be co nfused by .
Ther e's no ob vious default value for a text field,  so just leav e Default Value  blank.
9.Click Next.
The thir d page of the Custo m Field wiz ard allows us to r estrict access to this field fr om cer tain
user pr ofiles. We'll lear n mor e about pr ofiles and field-le vel secur ity in Securing and S haring
Data  on page 131, so for no w, just accept the defaults.
10.Click Next.
The last page of the wiz ard allows us to auto matic ally place our field o n the P ositio n page
layout. Again,  we'll lear n about page la youts in the next c hapter , so for no w, just accept the
defaults.
11.Click Save & N ew.
Instead of c licking Save and r eturning to the P ositio n object detail page , clicking  Save & N ew
saves a f ew clicks and al lows us to finish up the other text ar ea fields that we need.  Here's what
you need to kno w to define them:
Table 2:  Posit ion O bject L ong Text Ar ea F ields
Default Value # Visible Lines Length Field Label Field Type
Leave unspecified 3 32,000 Respo nsibilities Text Ar ea (L ong)
Leave unspecified 3 32,000 Skills Requir ed Text Ar ea (L ong)
Leave unspecified 3 32,000 Educ ational
Requir ementsText Ar ea (L ong)
Now that we'v e wet our f eet with text fields,  let's quic kly create a f ew mor e fields of other
types.You'll find that with f ew exceptio ns, they're all very similar to o ne another .
48Chapter 5:Building a S imple A pp
Try It Out: Adding Currency Fields
To keep tr ack of a positio n's salar y range, we need to add t wo curr ency fields:MinPay and
MaxPay. Note that unlike so me fields,  once we define these as curr ency fields,  we wo n't be
able to c hange them to an y other t ype.
Defining a curr ency field is almost identic al to defining a text field,  with a f ew slight diff erences:
•The Length  of a curr ency field actual ly corr esponds to the number of digits to the lef t of
the decimal point.  An additio nal Decimal Places  field hand les the number of digits
that should be displa yed to the r ight.
•In the Details page of the wiz ard, a new checkbox called Required  is displa yed.We can
select this optio n if we want to for ce our users to enter a value for this field when cr eating
a new positio n.
Everything else should be familiar to y ou, so go ahead and use the custo m field wiz ard to define
the fol lowing fields:
Table 3:  Posit ion O bject Cur rency Fields
Default Value Requir ed Decimal
PlacesLength Field Label Field Type
Leave
unspecifiedLeave
unchecked2 7 Min P ay Curr ency
Leave
unspecifiedLeave
unchecked2 7 Max P ay Curr ency
Try It Out: Adding Checkbox Fields
Here are some easy o nes.The P ositio n object r equir es a f ew checkbox fields:  one to indic ate
if travel is r equir ed for the positio n, and four others to indic ate whic h programming languages
are requir ed. By default,  these values should be unc hecked. (Note that similar to curr ency fields,
once y ou define a field as a c heckbox, you can't c hange it to an y other t ype.)
Use the custo m field wiz ard to define these fields:
49Building a S imple A pp
Table 4:  Posit ion O bject C heckbo x Fields
Default Value Field Label Field Type
Unchecked Travel Requir ed Chec kbox
Unchecked Java Chec kbox
Unchecked JavaScr ipt Chec kbox
Unchecked C# Chec kbox
Unchecked Apex Chec kbox
Try It Out: Adding Date Fields
Finally, befor e we c lose out this c hapter , let's add thr ee date fields to our Recr uiting app to
track the date a positio n opens,  the date it c loses,  and the date by whic h it should be fil led.
Date fields ar e great bec ause the y auto matic ally include a popup c alendar inter face fr om whic h
users c an select a da y without an y typing—y et another built-in f eatur e that we c an leverage in
our app without an y extr a wor k!
Once again we'l l use the custo m field wiz ard to define these thr ee fields:
Table 5:  Posit ion O bject Date F ields
Default Value Requir ed Field Label Field Type
Leave unspecified Unchecked Open Date Date
Leave unspecified Unchecked Hire By Date
Leave unspecified Unchecked Close Date Date
Look at What We've Done
We've defined text,  currency, checkbox, and date fields for our P ositio n object.  Let's take a
look by g oing to the P ositio ns tab and c licking New.
50Chapter 5:Building a S imple A pp
Figure 19: Position Object Fields
Chec k out al l the fields we'v e just made! It's not the most elegant la yout for al l of our fields
(each field g ot added to the page in the or der that we cr eated it),  but it's definitel y functio nal,
and it loo ks just like an y other page. Wasn't that easy?
Once again,  welco me to the po wer of the Force.co m platfor m. First we cr eated a ne w recruiting
app with a single Ho me tab , then we cr eated a P ositio n object and tab , and no w we'v e just
added a f ew fields,  all in less than 15 minutes of c licking ar ound.  From star t to finish we al ways
had a ful ly functio nal app , and we ne ver had to spend an y time co mpiling or debugging our
“code!”
In the next c hapter , we'll enhance our simple Recr uiting app e ven fur ther by adding so me
additio nal fields that ar e mor e complex,  defining validatio n rules to help our data sta y clean,
and then mo ving the fields ar ound in a page la yout so users c an mor e easil y find and enter the
infor matio n the y need.  Let's keep g oing!
51Building a S imple A pp

Chapter 6
Enhancing the Simple App with Advanced
Fields, Data Validation, and Page Layouts
In the last c hapter , we g ot our Recr uiting app off to a quic k
start by defining the P ositio n custo m object,  tab, and se veralIn this c hapter ...
•Adding A dvanced F ields simple fields. This simple v ersion of our app had the same
•Introducing Validatio n
Ruleslook and f eel as an y other page o n the Force.co m platfor m,
and we wer e able to whip it together in a matter of minutes.
•Introducing P age L ayoutsIn this c hapter , we're going to enhance the P ositio ns tab:
first by defining a f ew mor e advanced fields,  then by defining
a validatio n rule to make sur e our data sta ys clean, and final ly
by mo ving our fields ar ound within a page la yout.These
additio ns wil l help c hange the detail page of our P ositio ns
tab fr om a so mewhat flat and inelegant user inter face to
something that users find po werful and intuitiv e to use.  Let's
get star ted!
53
Adding Advanced Fields
In this sectio n, let's r evisit the custo m field wiz ard to help us cr eate fields with mor e
sophistic ated functio nality: picklists,  dependent pic klists,  and fields that le verage custo m
formulas. We'll see ho w the platfor m's user inter face helps guide us thr ough the setup of these
more complic ated fields.
Introducing Picklists
When vie wing the pr eview of what we wanted our P ositio ns page to ultimatel y look like , there
were several fields that wer e specified with dr op-do wn lists.  In Force.co m platfor m ter ms,
these fields ar e called picklists , and the y consist of se veral predefined optio ns from whic h a user
can select.
Picklists co me in t wo flavors:  a standar d pic klist,  in whic h a user c an select o nly one optio n,
and a m ulti-select pic klist, in whic h a user c an select m ultiple optio ns at a time.  For the pur poses
of our P ositio n object,  we need to define standar d pic klists for a positio n's loc ation, status,
type of job , functio nal ar ea, and job le vel.
Figure 20: Location Picklist Field
Try It Out: Adding Picklists
Let's walk thr ough the cr eation of the Location  picklist field. Then,  as in the pr evious c hapter ,
we'll give you the infor matio n that y ou need to cr eate the others o n your o wn.
1.Click YourName➤Setup➤Create➤Objects .
54Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
2.Click Posit ion.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select the Picklist  data t ype and c lick Next.
5.In the FieldLabel  text bo x, enter Location .
6.In the large text ar ea bo x just belo w, enter the fol lowing pic klist values,  each on its
own line:
•San Francisco , CA
•Austin, TX
•Boulder , CO
•London, England
•New York, NY
•Mumbai,  India
•Sydney, Australia
•Tokyo, Japan
7.Select the Usefirstvalueasdefault value  checkbox.
This optio n allows us to populate the field with a default value.  If you leav e it deselected,  the
field defaults to N one on all new positio n records. Otherwise the field defaults to the first value
that y ou specify in the list of possible pic klist values.  Because most positio ns at Univ ersal
Containers ar e based at its headquar ters in S an Francisco , CA, this should be the default.
8.Accept al l other default settings for field-le vel secur ity and page la youts.
9.Click Save & N ew.
Easy! N ow specify the r emaining pic klists accor ding to the table belo w:
Table 6: Status,Type, Funct ional Ar ea, and Job L evel P icklist Values
Use F irst
Value as
Default?Sort
Alphabet ically?Picklist Values Field Label Data Type
Yes No New Positio n
Pending A pprovalStatus Picklist
Open - A pproved
Closed - F illed
Closed - N ot Approved
55Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Use F irst
Value as
Default?Sort
Alphabet ically?Picklist Values Field Label Data Type
Closed - Canceled
No No Full Time
Part TimeType Picklist
Inter nship
Contractor
No Yes Finance
Human Resour cesFunctio nal
AreaPicklist
Infor matio n Technolog y
Retail Oper ations
Warehousing
Miscel laneous
No Yes FN-100
FN-200Job L evel Picklist
FN-300
FN-400
HR-100
HR-200
HR-300
HR-400
IT-100
IT-200
56Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Use F irst
Value as
Default?Sort
Alphabet ically?Picklist Values Field Label Data Type
IT-300
IT-400
RO-100
RO-200
RO-300
RO-400
WH-100
WH-200
WH-300
WH-400
MC-100
MC-200
MC-300
MC-400
Introducing Field Dependencies
Now that we'v e made al l those pic klists,  answer this questio n: How man y times hav e you
clicked o n a dr op-do wn list and found far too man y values to c hoose fr om? F or example , maybe
you wer e selecting U rugua y from a list of countr ies, and e very countr y in the wor ld was o n the
list.That meant that y ou had to scr oll all the wa y down to the countr ies that star ted with the
letter U .What a pain!
57Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Fortunatel y, the folks who built the Force.co m platfor m hav e encounter ed that situatio n a few
times themsel ves, and as a r esult,  they've given us a tool to help us avoid this pr oblem with our
own pic klist fields: field dependencies .
Field dependencies ar e filters that al low us to c hange the co ntents of a pic klist based o n the
value of another field.  For example , rather than displa ying e very value for Countr y in a single
picklist,  we c an limit the values that ar e displa yed based o n a value for another field,  like
Continent. That wa y our users c an find the appr opriate countr y mor e quic kly and easil y.
Picklist fields c an be either controlling  or dependent  fields.  A co ntrolling field co ntrols the
available values in o ne or mor e corr esponding dependent fields.  A dependent field displa ys
values based o n the value selected in its corr esponding co ntrolling field.  In the pr evious example ,
the Co ntinent pic klist is the co ntrolling field,  while the Countr y picklist is the dependent field.
Try It Out: Creating a Dependent Picklist
Looking at the pic klists that we'v e created,  it's quic kly obvious that our users might get fr ustrated
with the length of our JobLevel  picklist.  Let's make our users happy by tur ning JobLevel
into a dependent field of the Functional Area  picklist.  Doing this wil l allow users to see
only the four r elevant job le vel values when a depar tment is selected in the Functional Area
picklist:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Custo m Fields & Relatio nships r elated list,  click Field Dependencies .
4.Click New.
5.For the Controlling Field  drop-do wn list,  choose F unctio nal Ar ea.
6.For the Dependent Field  drop-do wn list,  choose Job L evel.
7.Click Cont inue.
A field dependenc y matr ix displa ys with al l the values in the co ntrolling field acr oss the top
header r ow and the dependent field values listed in the columns belo w. For eac h possible value
of the co ntrolling field,  we need to inc lude the values that should be displa yed in the dependent
picklist when that co ntrolling value is selected.  In the field dependenc y matr ix, yellow
highlighting sho ws whic h dependent field values ar e inc luded in the pic klist for a par ticular
controlling field value.
58Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Figure 21: Field Dependency Matrix
To inc lude a dependent field value , you simpl y double-c lick it.To exclude a dependent value
from the list,  double-c lick it again.
For example , let's tr y it out by inc luding the values that should be displa yed in the JobLevel
picklist whene ver Finance is selected in the Functional Area  picklist:
8.In the column labeled F inance , double-c lick FN-100,  FN-200,  FN-300,  and FN-400.
Those four fields should no w be shaded y ellow in the Finance  column.
Instead of double-c licking e very JobLevel  value , we c an also use SH IFT+click to select a
range of values or CTRL+c lick to select m ultiple values at o nce. Once those values ar e
highlighted in blue , we c an click Include Values  to inc lude them,  or Exclude Values  to remove
them.  Let's tr y it out.
9.In the column labeled Human Resour ces, single-c lick HR-100 and then pr ess and
hold the SH IFT key while c licking HR-400.
10.Click Include Values .
Now we hav e values selected for both the F inance and Human Resour ces columns!
59Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
11.Continue highlighting the appr opriate values for al l of the r emaining columns,  as
descr ibed in the fol lowing table.
Tip:To get to al l of the values that y ou need to modify for this step , you'll need to
click Previous  or Next to see additio nal columns.
Table 7: Funct ional Ar ea and Job L evel F ield Dependenc y Mat rix
Job L evel
(Dependent pic klist field)Funct ional Ar ea
(Cont rolling pic klist field)
FN-100
FN-200Finance
FN-300
FN-400
HR-100
HR-200Human Resour ces
HR-300
HR-400
IT-100
IT-200Infor matio n Technolog y
IT-300
IT-400
RO-100
RO-200Retail Oper ations
RO-300
RO-400
60Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Job L evel
(Dependent pic klist field)Funct ional Ar ea
(Cont rolling pic klist field)
WH-100
WH-200Warehousing
WH-300
WH-400
MC-100
MC-200Miscel laneous
MC-300
MC-400
12.Click Preview to test the r esults in a smal l popup windo w.
13.Click Save.
Look at What We've Done
Now that we'v e created al l those pic klists,  let's r evisit the P ositio ns tab to see what we hav e so
far.
1.Go to the P ositio ns tab .
2.Click New.
3.In the Functional Area  picklist,  select F inance.
4.Open the JobLevel  picklist.
Figure 22: Dependent Picklist Fields
61Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Our Recr uiting app users ar e going to be v ery happy that the y no lo nger hav e to deal with a
long, onerous pic klist.  Now let's g o add a field that's e ven mor e powerful and co mplex than a
dependent pic klist:  a custo m for mula field.
Introducing Custom Formula Fields
Up to this point,  the fields that we'v e defined hav e all had o ne thing in co mmo n—the y eac h
requir e a user to giv e them a value.  Fields like that ar e very helpful for stor ing and r etrieving
data,  but wouldn't it be gr eat if we could so meho w define a “smar t” field? That is,  what if we
could define a field that loo ked at infor matio n that was alr eady enter ed into the sy stem and
then told us so mething ne w about it?
Fortunatel y,custom for mula fie lds give us the abilit y to do just that.  Just as y ou can use a
spreadsheet pr ogram like Micr osoft Excel to define c alculatio ns and metr ics specific to y our
business,  we c an use custo m for mula fields to define c alculatio ns and metr ics that ar e specific
to our Recr uiting app .
For example , on our P ositio n object,  we'v e already cr eated fields for minim um pa y and maxim um
pay. If Univ ersal Co ntainers giv es out y early bonuses based o n salar y, we could cr eate a custo m
formula field that auto matic ally calculated the av erage bo nus that so meone hir ed to that positio n
might r eceiv e.
How would we per form this c alculatio n if we wer e using a spr eadsheet? The columns in our
spreadsheet would r epresent the fields that we defined o n our P ositio n object,  and eac h row
of the spr eadsheet would r epresent a diff erent positio n record.To create a c alculatio n, we'd
enter a for mula in a ne w column that av erages the values of MinPay and MaxPay in a single
row and then m ultiplies it by a standar d bonus per centage. We could then deter mine the
average bo nus for e very positio n record row in our spr eadsheet.
Custo m for mulas wor k in a v ery similar wa y.Think of a custo m for mula like a spr eadsheet
formula that c an reference other values in the same data r ecord, perform calculatio ns on them,
and r eturn a result.  However, instead of using cel l references,  you use merge fields, whic h ser ve
as placeholders for data that wil l be r eplaced with infor matio n from your r ecords, user
infor matio n, or co mpan y infor matio n. And, instead of t yping fields,  oper ators,  and functio ns,
you can click to select them.
The net r esult is that an yone can quic kly and easil y lear n to cr eate for mula fields.  And, as with
all platfor m tools,  the c loud co mputing deliv ery model makes it easy to exper iment. You can
create a for mula, view the r esults,  and c hange the for mula again and again,  as man y times as
you want! Your under lying data is ne ver aff ected.
62Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Tip:When defining y our o wn custo m for mula fields,  leverage the wor k of others. You
can find mor e than a hundr ed sample for mulas o n the Salesfor ce.co m Co mmunity website
at http://www.salesforce.com/us/developer/docs/usefulFormulaFields/ .
Calculating How Long a Position Has Been Open
Let's no w think about another custo m for mula field that we could cr eate for our P ositio n
object—a custo m for mula field that c alculates ho w man y days a positio n has been open. To
do this,  let's first think about the logic that we should use to define the field,  and then we c an
go thr ough the pr ocess of cr eating it in our Recr uiting app .
Let's think about the data that we need to make this c alculatio n: we need to kno w the curr ent
date and the date that the positio n was cr eated.  If we could so meho w subtr act these t wo, we'd
have the number of da ys that the positio n has been open.  Fortunatel y, it's easy to get both of
these values:
•For the curr ent date , we c an simpl y use the platfor m's built-in TODAY()  functio n.TODAY()
returns toda y's date.
•For the date that the positio n was opened,  we c an use the OpenDate  field that we defined
in the last c hapter .
When using fields in for mulas, you can't just r efer to a field by its name.  Instead,  you need to
refer to it by its merge field name , also c alled its API name. The for mat of the API name is
typically the name of the field but with spaces instead of underscor es. For custo m fields,  the
API name is suffix ed with t wo underscor es and the letter “c,” like this:Open_Date__c .This
naming co nventio n in the platfor m helps distinguish bet ween standar d and custo m fields.
Tip:You do n't need memor ize the API names of fields y ou want to use in for mulas.
Simply use the field pic ker in the for mula editor to inser t fields and the platfor m
automatic ally inser ts the API name for y ou. If you ever want to kno w the API name
of a specific field and y ou ar en't using the for mula editor , you can vie w the field's detail
page.
Now that we hav e our t wo dates,  we want to subtr act them:TODAY() -Open_Date__c .
Even if the t wo dates span diff erent mo nths or y ears, the platfor m is sop histic ated enough to
know ho w to hand le all the intr icacies of suc h a calculatio n behind the scenes. We just hav e
to pr ovide the dates,  and the platfor m can do al l the r est.
So far so g ood, but o ne pr oblem stil l remains—what if the positio n has alr eady c losed? O ur
formula o nly wor ks if we assume the positio n is stil l open.  Once it c loses,  however, the value
of our curr ent for mula wil l keep incr ementing e very day as TODAY()  gets far ther and far ther
63Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
away from the or iginal OpenDate . If we c an, we want to use the CloseDate  field in the
formula instead of TODAY()  after a positio n closes.  How can we do this?
Once again,  all we need to do is dip into the extensiv e libr ary of platfor m functio ns.The IF()
functio n allows us to per form a test and then r eturn diff erent values depending o n whether
the result of the test is tr ue or false. The IF()  functio n's sy ntax loo ks like this:
IF(logical_test,
value_if_true,
value_if_false)
For the logical_test  portion, we'll test whether the CloseDate  field has a value—if
it does,  the positio n obviousl y must be c losed. We'll test for this with a thir d built-in functio n:
ISBLANK() .ISBLANK()  takes a single field and r eturns true if it does not co ntain a value
and false if it does.  So now our for mula loo ks like this:
IF(ISBLANK( Close_Date__c ),
value_if_true,
value_if_false)
By replacing value_if_true  and value_if_false  with the other for mulas we talked
about,  we'v e now figur ed out our whole for mula:
IF(ISBLANK( Close_Date__c ),
TODAY() -Open_Date__c ,
Close_Date__c -Open_Date__c )
Great! O ur for mula calculates the number of da ys a positio n has been open,  regardless of
whether it's curr ently open or c losed.  Now, let's g o define a field for it o n our P ositio n object.
Try It Out: Defining a “Days Open” Custom Formula Field
We'll begin building the for mula field the same wa y we cr eated our other custo m fields.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select the Formula  data t ype, and c lick Next.
Step 2 of the N ew Custo m Field wiz ard appears.
64Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Figure 23: Custom Formula Field Wizard Step 2
5.In the FieldLabel  field,  enter DaysOpen .
6.Select the Number  formula return type.
In this c ase, even though we'r e subtr acting Date fields,  we want to end up with just a r egular
numer ic value.
7.Change the Decimal Places  value to 0, and c lick Next.
Now it's time to enter the details of our for mula.
8.Click the A dvanced F ormula tab , as sho wn in the fol lowing scr eenshot.
65Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Figure 24: Custom Formula Field Editor
We want to use the A dvanced F ormula tab so we c an access the platfor m's built-in functio ns
through the F unctio ns list o n the r ight side.
9.From the Functions  list, double-c lick IF.
Our for mula no w loo ks like this:
IF(logical_test, value_if_true, value_if_false)
Let's g o ahead and define the logic al test:
10.Delete logical_test  from the for mula, but leav e your cursor ther e.
11.From the Functions  list, double-c lick ISBLANK .
12.Delete expression  from the ISBLANK  functio n you just inser ted, but leav e your
cursor ther e.
13.Click the Inser t Field butto n.Two columns appear in an o verlay.
14.In the lef t column,  select P ositio n.
15.In the r ight column,  select CloseDate .
16.Click Inser t.
Did y ou notice that y ou didn't hav e to r emember to use the API name of the CloseDate
field? The platfor m remember ed for y ou when it inser ted the value.  Our for mula no w loo ks
like this:
IF(ISBLANK( Close_Date__c ),value_if_true, value_if_false)
66Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Now, let's specify the value if our logic al test e valuates to tr ue:
17.Delete value_if_true  from the for mula, but leav e your cursor ther e.
18.Press Enter o n your ke yboard, and space o ver 10 spaces.
Adding the c arriage r eturn and spaces makes our for mula mor e legible for others.
19.From the Functions  list, double-c lick TODAY .
20.Click the Inser t Oper ator butto n and c hoose S ubtract.
21.Click the Inser t Field butto n.
22.In the lef t column,  select P ositio n.
23.In the r ight column,  select OpenDate .
24.Click Inser t.
We're getting c loser—our for mula no w loo ks like this:
IF(ISBLANK( Close_Date__c ),
TODAY() -Open_Date__c ,value_if_false)
Finally, let's specify the value if our logic al test e valuates to false:
25.Delete value_if_false  from the for mula, but leav e your cursor ther e.
26.Press Enter o n your ke yboard, and space o ver 10 spaces.
27.Click the Inser t Field butto n.
28.In the lef t column,  select P ositio n.
29.In the r ight column,  select CloseDate  and c lick Inser t.
30.Click Inser t Oper ator and c hoose S ubtract.
31.Click the Inser t Field butto n.
32.In the lef t column,  select P ositio n.
33.In the r ight column,  select OpenDate  and c lick Inser t.
Our for mula no w matc hes our or iginal:
IF(ISBLANK( Close_Date__c ),
TODAY() -Open_Date__c ,
Close_Date__c -Open_Date__c )
Now that we'v e gone thr ough those steps of the pr ocedur e, note that we could hav e just t yped
in the for mula that we figur ed out in the last sectio n. However, using the for mula editor is a
lot easier bec ause y ou do n't hav e to r emember functio n syntax or API names of fields and
objects.  Let's keep g oing and finish up this field:
34.Click Check Syntax to check your for mula for err ors.
67Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
35.In the Description  text bo x, enter Thenumberofdaysaposition
hasbeen(orwas)open.
36.Add an optio nal HelpText  descr iption if y ou wish.
37.Select Treatblankfieldsasblanks , and c lick Next.
38.Accept al l remaining field-le vel secur ity and page la yout defaults.
39.Click Save.
Try It Out: Giving Fields Dynamic Default Values
We can also use custo m for mulas to giv e our fields dy namic default values. While so me fields
like the TravelRequired  checkbox or the JobLocation  picklist hav e default values that
apply in e very situatio n, there are other fields with defaults that c an't be so easil y defined.  For
example , at Univ ersal Co ntainers,  recruiters ar e gener ally expected to fil l a positio n within 90
days of it being opened. While we c an't c hoose a single date that wil l always be 90 da ys after
a positio n is opened,  we can define a custo m for mula that takes the date the positio n is cr eated
and adds 90 da ys.The platfor m allows us to specify this for mula as the HireBy field's default
value:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Custo m Fields & Relatio nships r elated list,  click Edit next to the HireBy
field.
4.Next to the Default Value  text bo x, click Show Formula Editor .
Look familiar? This is similar to the editor that we used to define our DaysOpen  custo m
formula field.
5.From the Functions  list, double-c lick TODAY .
6.Click the Inser t Oper ator butto n, and c hoose A dd.
7.Type 90.
Your default value for mula should be:
TODAY() +90
8.Click Save.
It's that easy! N ow to w rap up the fields o n our P ositio ns tab , let's set the default value of the
OpenDate  field to the da y that the r ecord is cr eated. To do this,  follow these steps again,
but use TODAY()  as the Default Value .
68Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Look at What We've Done
Let's revisit the P ositio ns tab to take a loo k at what we'v e just do ne.
1.Click the P ositio ns tab .
2.Click New.
Our DaysOpen  formula field doesn't sho w up o n our P ositio n edit page—that's bec ause it's
a formula field and doesn't r equir e any user input to displa y. However, we c an see that our
OpenDate  and HireBy fields alr eady hav e default values: OpenDate  should be toda y's
date, and HireBy is 90 da ys later .We can change these values if we want,  or we c an just
leave them as the y are.
In or der to see our DaysOpen  field,  we'll hav e to define our first positio n record. Let's do
that no w.
3.Enter an y values y ou want to define for a ne w positio n. At the v ery least,  you m ust
enter a value for the r equir ed Position Title  field.
4.Click Save.
The ne w positio n is no w displa yed in its o wn record detail page.  At the botto m of the page ,
notice our DaysOpen  formula field,  just abo ve the Created By field.  It should sho w 0,
since we just cr eated the positio n. If you want to see the value c hange , edit the r ecord and set
the OpenDate  to a week ear lier. Isn't that neat?
Introducing Validation Rules
Now that we'v e defined al l the fields that we want o n our P ositio n object,  let's see if we c an
articulate a couple of r ules about the data that should be enter ed into those fields.  Even though
the recruiters and hir ing managers at Univ ersal Co ntainers ar e bright people , everyone
sometimes makes mistakes when fil ling out a for m, and a g ood app should c atch the ob vious
errors.
For example , does it e ver make sense for the value of the MinPay field to be mor e than the
value of the MaxPay field? Or should CloseDate  ever be unspecified if the Status  field
is set to Closed - F illed or Closed - N ot Approved? Clear ly not. We can catch these sor ts of
errors in our app with y et another built-in f eatur e of the platfor m:validation r ules.
Validatio n rules v erify that the data a user enters in y our app meets the standar ds that y ou
specify . If it doesn't,  the validatio n rule pr events the r ecord from being sav ed, and the user sees
69Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
an err or message that y ou define either next to the pr oblematic field or at the top of the edit
page.  Let's build a couple of validatio n rules no w for our Recr uiting app .
Note:You can find doz ens of sample validatio n rules o n the Salesfor ce.co m
Community website at www.salesforce.com/community .
Try It Out: Defining a Validation Rule for Min and Max Pay
For our first validatio n rule, let's star t off simple: MinPay should ne ver be gr eater than Max
Pay:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Validatio n Rules r elated list,  click New.
Figure 25: Validation Rule Edit Page
4.In the RuleName  text bo x, enter Min_Pay_Rule .
70Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
The name of a validatio n rule can't inc lude an y spaces,  but if y ou forget,  the platfor m helpful ly
changes them to underscor es (_) for y ou.
5.Select the Active  checkbox.
This c heckbox specifies whether the validatio n rule should star t wor king as soo n as it's sav ed.
Because this r ule is pr etty straightfor ward (and bec ause we want to test it later!),  it makes sense
to tur n it o n right awa y.
6.In the Description  text bo x, enter MinPayshouldneverexceedMax
Pay.
Now it's time to define the meat of our validatio n rule: the error condition . If you hav e a sense
of déjà vu when loo king at the Err or Co nditio n Formula ar ea of the page , don't be alar med!
Just like for mula fields and default field values,  a validatio n rule can le verage a number of
built-in oper ators and functio ns to define a tr ue-or-false err or co nditio n that deter mines
whether data is valid. When this co nditio n evaluates to tr ue, an err or message displa ys and the
record can't be sav ed.
We want our err or co nditio n to be tr ue whene ver MinPay is gr eater than MaxPay, so let's
use our for mula editor to specify that no w:
7.Click the Inser t Field butto n. Just like in the for mula field editor , two columns
appear in an o verlay.
8.In the lef t column,  select P ositio n.
9.In the r ight column,  select MinPay.
10.Click Inser t.
11.Click the Inser t Oper ator butto n, and c hoose Gr eater Than.
12.Click the Inser t Field butto n once again.
13.In the lef t column,  select P ositio n.
14.In the r ight column,  select MaxPay.
15.Click Inser t.
You should no w hav e an err or co nditio n for mula that loo ks like this:
Min_Pay__c >Max_Pay__c
Now the o nly thing that r emains is to specify the err or message when our err or co nditio n
evaluates to tr ue.
16.In the ErrorMessage  text bo x, enter MinPaycannotexceedMaxPay.
17.Next to the ErrorLocation  field,  select the TopofPage  radio butto n.
71Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Tip: If a r ule requir es a user to r eview the values of m ultiple fields,  it's mor e appr opriate
to place the err or message at the top of the page bec ause y ou do n't kno w whic h field
the user needs to c hange.
18.Click Save.
Easy! N ow that we'v e familiar ized oursel ves with a simple validatio n rule, let's define o ne that's
a little tr ickier.
Try It Out: Defining a Validation Rule for Close Date
For our next validatio n rule, let's ensur e that CloseDate  has a value whene ver the Status
field is set to Closed - F illed or Closed - N ot Approved.
The har dest par t of this validatio n rule is defining the err or co nditio n formula.When defining
a conditio n like this,  it's so metimes easiest to think about it in logic al ter ms first,  and then
translate that logic to the functio ns and oper ators that ar e provided in the for mula editor . In
this c ase, our err or co nditio n is tr ue whene ver:
CloseDateisNotSpecified
AND
(Status is"Closed -Filled" OR
"Closed -NotApproved")
Let's star t with the first piece: “Close Date is N ot Specified.” To translate this into ter ms the
formula editor understands,  we'll need to use the ISBLANK()  functio n again.  As y ou might
remember fr om defining the DaysOpen  custo m for mula field,ISBLANK()  takes a single
field or expr ession and r eturns true if it doesn't co ntain a value.  So, remember ing that we hav e
to use the inter nal field name of the CloseDate  field in our for mula,CloseDateis
NotSpecified  translates to:
ISBLANK( Close_Date__c )
Next, let's figur e out ho w to tr anslate “Status is 'Closed - F illed'.” To test for pic klist values,
we'll need to use another functio n:ISPICKVAL() .ISPICKVAL()  takes a pic klist field name
and value , and r eturns true whene ver that value is selected.  So “Status is 'Closed - F illed'”
translates to:
ISPICKVAL( Status__c ,"Closed -Filled")
72Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Tip:When wor king with pic klists in for mulas, convert them to text using either the
ISPICKVAL()  functio n or the TEXT()  functio n. For example , to check the value of
a picklist using the TEXT()  functio n, use TEXT(Status__c) =“Closed -
Filled” .
Now we just hav e to co mbine these tr anslatio ns, whic h we c an do using a mix of the && and
|| functio ns. Both functio ns evaluate an unlimited number of expr essions, but && returns true
if all of the expr essions are true while || returns true if any of the expr essions are true. For
example:
exp1&&exp2&&exp3
returns true when exp1 ,exp2 , and exp3  are all true. Like wise,
exp1||exp2||exp3
returns true when an y one of exp1 ,exp2 , or exp3  are true.
Put these functio ns all together with our other expr ession translatio ns, and we get our co mpleted
error co nditio n for mula:
ISBLANK(Close_Date__c) &&
(ISPICKVAL(Status__c ,"Closed -Filled") ||
ISPICKVAL(Status__c ,"Closed -NotApproved"))
Phew! N ow we c an quic kly define our seco nd validatio n rule using this for mula:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Validatio n Rules r elated list,  click New.
4.In the RuleName  text bo x, enter Close_Date_Rule .
5.Select the Active  checkbox.
6.In the Description  text bo x, enter CloseDatemustbespecified
whenStatusissetto'Closed -Filled' or'Closed -Not
Approved.'
7.In the Err or Co nditio n Formula ar ea, enter the fol lowing for mula:
ISBLANK(Close_Date__c) &&
(ISPICKVAL(Status__c ,"Closed -Filled") ||
ISPICKVAL(Status__c ,"Closed -NotApproved"))
8.Click Check Syntax to make sur e the for mat of the for mula is corr ect.
9.In the ErrorMessage  text bo x, enter CloseDatemustbespecified
whenStatusissetto'Closed.'
73Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
10.Next to the ErrorLocation  field,  select the Field  radio butto n, and then c hoose
CloseDate  from the dr op-do wn list.
11.Click Save.
Look at What We've Done
Let's revisit the P ositio ns tab to test the validatio n rules that we'v e just made.
1.Click the P ositio ns tab .
2.Click New.
First let's tr y defining a ne w positio n with a value for MinPay that's larger than MaxPay.
3.Specify an y value for the r equir ed Position Title  field.
4.In the MinPay field,  enter 80,000 .
5.In the MaxPay field,  enter 40,000 .
6.Click Save.
Did y ou see what happened? Your custo m err or message popped exactl y like an y other err or
message in the app!
74Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Figure 26: Error Message from a Validation Rule
Now let's test our other validatio n rule:
7.In the MinPay field,  enter 40,000 .
8.In the MaxPay field,  enter 80,000 .
9.From the Status  drop-do wn list,  choose Closed - N ot Approved.
10.Click Save.
Our seco nd validatio n rule is tr igger ed, this time bec ause we didn't specify a value for Close
Date . Once we do , the r ecord sav es nor mally.
The P ositio ns tab is no w ful ly functio nal, with a couple of validatio n rules to ensur e that users
don't make cer tain mistakes.  But ar e the fields wher e we want them? Ar e the fields that m ust
75Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
have values mar ked as r equir ed? In the next sectio n, we'll fine-tune our P ositio n custo m object
by modify ing its page la yout.
Introducing Page Layouts
After defining al l those fields and validatio n rules, we no w hav e a ful ly functio nal P ositio n
custo m object.  However, it doesn't loo k all that nice—al l of the lo ng text ar eas appear at the
top, and it's har d to sc an. Let's mo ve some things ar ound to make this page easier for our users.
We can do that by custo mizing the P ositio n object's page la yout.
A page layout  controls the positio n and organiz ation of the fields and r elated lists that ar e visible
to users when vie wing a r ecord. Page la youts also help us co ntrol the visibilit y and editabilit y
of the fields o n a record.We can set fields as r ead-o nly or hidden,  and we c an also co ntrol
whic h fields r equir e users to enter a value and whic h don't.
Page la youts ar e powerful tools for cr eating a g ood exper ience for our users,  but it's cr ucial that
we remember o ne impor tant r ule:page layouts should ne ver be used to r estrict access to sensiti ve
data that a use r shouldn't vie w or edit . Although we c an hide a field fr om a page la yout, users
can stil l access that field thr ough other par ts of the app , such as in r eports or via the API.
(We'll lear n mor e about secur ity that co vers al l parts of the app in Securing and S haring Data
on page 131.)
Now let's see if we c an organiz e the fields o n our P ositio n object in a wa y that's mor e user
friendly.
Becoming Familiar with the Page Layout Editor
The Force.co m platfor m has t wo dr ag-and-dr op tools for editing page la youts: the or iginal
page la yout editor and the enhanced page la yout editor .
The enhanced page la yout editor pr ovides al l of the same functio nality as the or iginal editor ,
but with additio nal enhancements,  including an intuitiv e WYSIWY G inter face and the abilit y
to custo mize the space bet ween fields in y our la youts. Since the enhanced page la yout editor
is enabled by default,  it's the o ne we'l l use to edit page la youts in this boo k.
Note:The enhanced page la yout editor doesn't wor k with so me older br owsers.  If
you do n't want to upgr ade y our br owser, you can al ways switc h to the or iginal page
layout editor by c licking YourName➤Setup➤Customiz e➤User Inter face and
deselecting the EnableEnhanced PageLayoutEditor ; however, if you use
the or iginal page la yout editor , what y ou see o n your scr een wil l not matc h the
76Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
procedur es in this boo k, and y ou wo n't be able to custo mize the space bet ween fields
in your la youts.
Let's tr y using the page la yout editor to edit the page la yout of the P ositio n object:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the P age L ayouts r elated list,  click Edit next to P ositio n Layout.
Welcome to the page la yout editor! As y ou can see , this editor is diff erent fr om the o nes that
we've already used in other ar eas of the platfor m.That's bec ause we'r e designing a user inter face
and need to see ho w our page wil l look as we'r e wor king. Befor e going an y further, let's giv e
oursel ves a quic k orientatio n to ho w this page is set up .
Figure 27: Page Layout Editor
The page la yout editor co nsists of a palette at the top of the scr een and the page la yout belo w
it.The palette co ntains the user inter face elements that ar e available for y ou to add to the page
layout, including fields,  butto ns, links,  and r elated lists. To add o ne of these user inter face
elements to the page la yout, simpl y select the c ategory to whic h the element belo ngs o n the
left column of the palette and dr ag the element fr om the palette to the page la yout.To remove
a user inter face element fr om the page la yout, drag the element fr om the page la yout to the
77Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
right side of the palette , or click the X (
 ) icon that appears when y ou ho ver over the field.  A
toolbar abo ve the palette pr ovides var ious functio ns, such as saving and pr eviewing y our c hanges.
Now that we kno w what we'r e loo king at,  let's r earrange the fields in the wa y a user might
want to see them.
Try It Out: Grouping Fields into a New Section
Let's star t modify ing our page la yout by first defining a ne w sectio n for salar y infor matio n. On
a page la yout, a sectio n is simpl y an ar ea wher e we c an gr oup similar fields under an appr opriate
heading .This makes it easy for our users to quic kly identify and enter the infor matio n for a
record, especial ly if our object has a large number of fields:
1.In the palette , select the F ields c ategory.
2.Drag the S ectio n user inter face element fr om the palette to just abo ve the S ystem
Infor matio n sectio n on the page la yout.
When y ou dr ag a ne w sectio n on to the page la yout, the S ectio n Properties popup windo w
appears.
3.In the Section Name  text bo x, enter Compensation .
The Section Name  field co ntrols the text that's displa yed as the heading for the sectio n.
4.In the Displa y Sectio n Header On ar ea, select both the DetailPage  and Edit
Page  checkboxes.
Displa ying the header o n both the detail and edit pages helps users understand the co ntext of
the infor matio n, regardless of whether the y are editing the positio n or just vie wing it.
5.In the Layout  drop-do wn list,  choose 2-Column.
This optio n allows us to c hoose whether we want the fields in our sectio n to be arr anged in
two columns or o ne.The default is t wo columns and is the most co mmo nly-used c hoice.
However, if our sectio n is g oing to co ntain text ar ea fields,  the o ne-column la yout giv es them
more space o n the page for displa y.
6.In the Tab-key Order  drop-do wn list,  choose L eft-Right.
This setting co ntrols the dir ectio n that a user's cursor wil l move when using the Tab ke y to
navigate fr om field to field.
7.Click OK.
78Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
We hav e a ne w sectio n for Co mpensatio n just abo ve the S ystem Infor matio n sectio n! Let's
add the MinPay and MaxPay fields:
8.While pr essing the CTRL ke y, click both the MinPay and MaxPay fields in the
System Infor matio n sectio n, and dr ag them to the ne w Co mpensatio n sectio n as
shown in the fol lowing scr eenshot.
Figure 28: Adding Fields to the Compensation Section
Pressing the CTRL ke y allows you to select m ultiple individual user inter face elements with
your mouse.  Alter nativ ely, pressing the SH IFT key allows you to select a gr oup of elements.
Now that we'v e gone thr ough the pr ocess for building o ne sectio n, let's build t wo mor e. As
we do this,  you might hav e to scr oll up and do wn to vie w the entir e layout, depending o n the
size of y our scr een. Rest assur ed that if y ou hav e to scr oll, the palette wil l move with y ou,
making it easy to add user inter face elements e ven at the v ery botto m of the page la yout.
9.Create a ne w one-column Descr iption sectio n belo w the Co mpensatio n sectio n, and
drag JobDescription ,Responsibilities ,SkillsRequired , and
Educational Requirements  into it.
10.Create a ne w two-column Requir ed Languages sectio n belo w the Descr iption sectio n,
and dr ag Apex ,C#,Java , and JavaScript  into it.
As you wor k, you ma y notice that the fields y ou add to the page la yout ar e grayed-out in the
palette , but the S ectio n user inter face element is ne ver grayed-out. This is bec ause fields c an
only appear o ne time o n eac h page la yout, but the S ectio n user inter face element c an be r eused
to create as man y sectio ns as y ou want.
79Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Tip: If you make a mistake while editing the page la yout, you can use CTRL+Z and
CTRL+Y to undo and r edo y our r ecent mo ves, respectiv ely.The toolbar co ntains
Redo  and Undo  butto ns as wel l.
While we'r e shuffling fields ar ound,  let's r eorganiz e the Infor matio n sectio n so it's mor e
readable.
11.Arrange the first column of the Infor matio n sectio n as fol lows:
•Position Title
•Status
•Type
•Functional Area
•JobLevel
•TravelRequired
•Created By
12.Arrange the seco nd column of the Infor matio n sectio n as fol lows:
•Owner
•Location
•OpenDate
•HireBy
•CloseDate
•DaysOpen
•LastModified By
That's m uch better—our fields ar e organiz ed, and it's easy to loc ate al l of the infor matio n we
need.
The Infor matio n sectio n stil l looks a little dense , though.  Fortunatel y, the page la yout editor
provides a wa y to add blank spaces that separ ate the fields within the sectio n to impr ove its
readabilit y even fur ther.
Try It Out: Adding Spaces Between Fields
When designing a page la yout, you'll often want to distinguish or “pop” certain fields within
a sectio n. An easy and eff ective way to do this is by inser ting blank spaces bet ween fields.  For
example , in the Infor matio n sectio n, inser ting blank spaces belo w the first r ow in eac h column
draws a user's e ye to the most impor tant infor matio n in the sectio n, the positio n title and
80Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
owner .We can also use blank spaces abo ve the botto m row in eac h column to separ ate the
Created By and LastModified By fields fr om the cr itical positio n infor matio n. Let's
give it a tr y!
1.Select an y category in the palette ex cept for Related Lists and Butto ns.
2.Drag the Blank S pace user inter face element fr om the palette to the page la yout right
below the Position Title  field.
Figure 29: Dragging and Dropping Blank Spaces in a Page Layout
As with the S ectio n user inter face element,  the Blank S pace user inter face element is ne ver
grayed-out in the palette when y ou dr ag it to the page la yout bec ause the element c an be r eused
as man y times as y ou want.
3.On the palette , select the Blank S pace user inter face element again and dr ag it belo w
the Owner  field.
4.Add two mor e blank spaces to the page la yout, one abo ve the Created By field
and the other abo ve the LastModified By field.
Befor e we mo ve on, you should be awar e that if y ou accidental ly navigate awa y from the page
layout befor e saving y our wor k, your c hanges wil l be lost.  Rather than tempting fate , let's do
a quic k sav e of the wor k that we'v e done so far .
5.Click Quick Save in the toolbar abo ve the palette , or pr ess CTRL+S if y ou pr efer
using ke yboard shor tcuts.
The quic k sav e featur e allows you to sav e your c hanges and co ntinue editing the page la yout.
Clicking Save in the toolbar also sav es your wor k, but it takes y ou bac k to the page fr om whic h
you accessed the page la yout editor .We hav e a few mor e minor t weaks to make to our page
layout, so we do n't want to leav e the page la yout editor just y et.
Try It Out: Editing Field Properties
We just used the page la yout editor to organiz e our P ositio n page la yout in a logic al, easy-to-r ead
fashio n, but the page la yout editor lets us do mor e than design the pr esentatio n of data—we
can also use it to help deter mine whic h fields ar e requir ed, and whic h fields ar e read-o nly:
•If it's r equir ed, a user wo n't be able to cr eate a positio n record without specify ing a value.
81Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
•If it's r ead-o nly, a user who vie ws a positio n record edit page wo n't be able to c hange its
value.
Requir ed fields ar e denoted with a r ed aster isk (
 ), while r ead-o nly fields ar e denoted with
a lock ico n (
 ).
Caut ion: Although we c an make these c hanges o n the page la yout, don't forget our
earlier war ning! P age la youts should ne ver be used as the sole means to r estrict access
to sensitiv e data that a user shouldn't vie w or edit. That's bec ause page la youts co ntrol
only a record's edit and detail pages;  they don't co ntrol access to those fields in an y
other par t of the platfor m.
At this point,  we do n't hav e any fields that need to be r ead-o nly, but we do want to make sur e
that the salar y range is al ways defined for eac h positio n, so let's make the MinPay and Max
Pay fields r equir ed. Once we do that,  we'll be al l done with our P ositio n object!
To make the MinPay and MaxPay fields r equir ed, we need to edit the pr operties of eac h
field:
1.In the page la yout editor , double-c lick the MinPay field,  or select the w rench ico n
(
) next to the field name.
This popup windo w allows us to edit the MinPay field's pr operties.We can set the field to
read-o nly and/or r equir ed. If we didn't want a user to see the MinPay field at al l, we could
simpl y drag it off the la yout and o nto the palette. We want to make sur e it sta ys visible for
right no w, so let's leav e it in its curr ent spot.
2.Select the Required  checkbox, and c lick OK.
3.Repeat these steps for the MaxPay field.
4.Click Save to finish custo mizing the page la yout.
Hoor ay! We're all done with our P ositio n object's page la yout.
Look at What We've Done
Congratulatio ns.We've just built oursel ves a simple Recr uiting app that tr acks details about
an organiz ation's open positio ns. Let's c heck out what we'v e done by r evisiting the P ositio ns
tab and c licking New. Because of the c hanges that we'v e made in our page la yout, our P ositio n
edit page should no w loo k like this:
82Chapter 6:Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts
Figure 30: Final Version of the Position Layout
We hav e an object with a tab , we'v e added custo m fields,  and we'v e arranged them in a page
layout.We've finished our simple app , and no w we'r e wel l on our wa y to cr eating the mor e
complex Recr uiting app that we descr ibed ear lier.
Things ar e going to get e ven mor e inter esting in the next c hapter .We'll add a f ew mor e custo m
objects to tr ack things like c andidates,  job applic ations, and r eviews, and then we'l l enhance
our Recr uiting app e ven fur ther by defining ho w our objects r elate to o ne another . Befor e you
know it, we're going to hav e an incr edibl y powerful Web applic ation, all implemented with a
few clicks in the platfor m.
83Enhancing the S imple A pp with A dvanced F ields,  Data Validatio n, and P age L ayouts

Chapter 7
Expanding the Simple App Using
Relationships
So far we'v e acco mplished a fair amount—we'v e created the
Recruiting app and built out a ful ly functio nal P ositio nIn this c hapter ...
•Introducing Relatio nships custo m object with a tab and se veral types of fields.  It's a
good star t, but ther e's mor e to do . •Introducing Relatio nship
Custo m Fields
Having just o ne object in our Recr uiting app is like having
a par ty with just o ne guest—not al l that inter esting! We•Adding Candidates to the
Mixneed to in vite mor e “people ” to the par ty by building custo m•Bringing Candidates and
Positio ns Together with
Job A pplic ationsobjects to r epresent c andidates,  job applic ations, and r eviews,
and, even mor e impor tantly, we need to cr eate relationships
between them.  Just like a par ty isn't al l that fun if y ou do n't
•Introducing S earch
Layoutsknow any of the other guests,  an app isn't al l that po werful
unless its objects hav e links to other objects in the app .That's
going to be the focus of this c hapter , so let's get star ted! •Managing Re view
Assessments
•Creating a Man y-to-Man y
Relatio nship
•Putting it Al l Together
85
Introducing Relationships
So what is a r elatio nship , and wh y are they impor tant for our app? Just as a perso nal relatio nship
is a two-wa y associatio n bet ween t wo people , in ter ms of r elatio nal data,  a relatio nship is a
two-wa y associatio n bet ween t wo objects. Without r elatio nships,  we could build out as man y
custo m objects as we could think of , but the y'd hav e no wa y of linking to o ne another .
For example , after building a P ositio n object and a Job A pplic ation object,  we could hav e lots
of infor matio n about a par ticular positio n and lots of infor matio n about a par ticular c andidate
who's submitted an applic ation for it,  but ther e would be no wa y of seeing infor matio n about
the job applic ation when loo king at the positio n record, and no wa y of seeing infor matio n
about the positio n when loo king at the job applic ation record.That's just not r ight!
With relatio nships,  we c an make that co nnectio n and displa y data about other r elated object
records on a par ticular r ecord's detail page.  For example , once we define a r elatio nship bet ween
the P ositio n and Job A pplic ation objects we just talked about,  our positio n record can hav e a
related list of al l the job applic ations for c andidates who hav e applied for the positio n, while a
job applic ation record can hav e a link to the positio ns for whic h that c andidate is appl ying.
Suddenl y the “people ” at our Recr uiting app “party” know some of the other guests,  and the
app just g ot a lot mor e inter esting .
Figure 31: Relationships Allow Information about Other Object Records to be Displayed
on a Record Detail Page
86Chapter 7:Expanding the S imple A pp U sing Relatio nships
Introducing Relationship Custom Fields
As we lear ned in Reviewing Database Co ncepts  on page 23, we c an define a r elatio nship
between t wo objects thr ough the use of co mmo n fields.  On the platfor m, we c an define
relatio nships bet ween objects by cr eating a relationship  custo m field that associates o ne object
with another . A relatio nship field is a custo m field o n an object r ecord that co ntains a link to
another r ecord.When we place a r elatio nship custo m field o n an object,  we're effectively
creating a man y-to-o ne relatio nship bet ween the object o n whic h the r elatio nship field is placed
and the other object.
Ther e are diff erent types of r elatio nship fields,  each with diff erent implic ations.The simplest
and most flexible t ype is a lookup r elationship  field,  whic h creates a simple r elatio nship bet ween
two objects.  For example , if we place a loo kup r elatio nship field o n a Job A pplic ation object
that r eferences positio n records, man y job applic ation records can be r elated to a single positio n
record.This wil l be r eflected both with a ne w Position  field o n the job applic ation record
and with a ne w Job A pplic ations related list o n the positio n record.You can also put m ultiple
lookup r elatio nship fields o n a single object,  whic h means that our Job A pplic ation object c an
also point to a Candidate object.
A seco nd type of r elatio nship field, mast er-det ail relationship , is a bit mor e complex,  but mor e
powerful. Master-detail r elatio nships cr eate a special par ent-c hild r elatio nship bet ween objects:
the object o n whic h you cr eate the master-detail r elatio nship field is the c hild or “detail,”  and
the object r eferenced in the field is the par ent or “master .” In a master-detail r elatio nship , the
ownership and shar ing of detail r ecords are deter mined by the master r ecord, and when y ou
delete the master r ecord, all of its detail r ecords are auto matic ally deleted alo ng with it.
Master-detail r elatio nship fields ar e always requir ed on detail r ecords, and o nce y ou set a
master-detail r elatio nship field's value , you can't c hange it.
When do y ou use a master-detail r elatio nship? If y ou hav e an object that der ives its signific ance
from another object.  For example , say you hav e a Re view custo m object that co ntains an
inter viewer's f eedbac k on a job applic ation. If you delete a job applic ation record, you wil l
probabl y want al l of its r eview records deleted as wel l, being that r eviews of so mething that no
longer exists ar en't v ery useful.  In this c ase, you want to cr eate a master-detail r elatio nship o n
the Re view custo m object with the Job A pplic ation object as the master object.
That's the sor t of thing that we'r e going to do in this c hapter . First, let's star t with the r eally
quick and easy example of putting a HiringManager  field o n our P ositio n object—we'l l
create a man y-to-o ne relatio nship bet ween the P ositio n object and the standar d User object
that co mes with e very organiz ation, reflecting the fact that a hir ing manager c an be r esponsible
for se veral positio ns at a time. Then we'l l build out a f ew mor e objects and implement a mor e
complex r elatio nship in volving positio ns, job applic ations, candidates,  and r eviews.
87Expanding the S imple A pp U sing Relatio nships
Try It Out: Relating Hiring Managers to Positions
For our first r elatio nship , let's associate a hir ing manager with a positio n by putting a loo kup
relatio nship field o n the P ositio n object. The loo kup field wil l allow users to select the hir ing
manager for the positio n by selecting fr om all the users of the Recr uiting app .
For example , if Ben S tuart, our r ecruiter, wants to assign A nastasia O'T oole as the hir ing
manager for the Benefits S pecialist positio n, he'll be able to do so by c licking the loo kup ico n
(
) next to the loo kup r elatio nship field that we ar e going to cr eate. Her name wil l then appear
on the P ositio n detail page.
To create the loo kup r elatio nship field that acco mplishes this,  we'll need to g o bac k to the no w
familiar P ositio n object detail page.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select LookupRelationship , and c lick Next.
5.In the Related To drop-do wn list,  choose U ser, and c lick Next.
As we'v e mentio ned, User is a standar d object that co mes with al l organiz ations on the platfor m.
It contains infor matio n about e veryone who uses the app in y our organiz ation.
6.In the FieldLabel  text bo x, enter HiringManager . Once y ou mo ve your
cursor , the FieldName  text bo x should be auto matic ally populated with
Hiring_Manager .
7.Click Next.
8.Accept the defaults in the r emaining t wo steps of the wiz ard.
9.Click Save.
Look at What We've Done
Now return to the P ositio ns tab , and c lick New.The P ositio n edit page inc ludes a ne w Hiring
Manager  lookup field! If y ou click the loo kup ico n next to this field (
 ), you can sear ch
through al l of the users of the Recr uiting app and select o ne as the hir ing manager .That user's
name no w appears o n the positio n record:
88Chapter 7:Expanding the S imple A pp U sing Relatio nships
Figure 32: Hiring Manager Lookup Relationship
As you can see , it was easy to set up this simple r elatio nship bet ween positio ns and users.  And
as a gener al rule, you'll find that r elatio nships ar e pretty easy to set up .
What gets a little tr icky is when we star t wanting to cr eate r elatio nships that do n't represent
a simple man y-to-o ne relatio nship .We'll see an example of o ne of those in a little bit.  Right
now, let's build a custo m object for c andidates so we'l l be able to cr eate so me mor e relatio nships
in our Recr uiting app .
Beyond the Basics
Did y ou kno w you can make the valid values of a loo kup field depend o n the value of
another field o n the r ecord?
Say you want to ensur e that hir ing managers o nly create positio ns for loc ations with open
headcount. You could cr eate a dependent loo kup by cr eating a Locations withOpen
Headcount  lookup field and r elating it to the AllLocations  field. Then,  you would
relate the Locations  field to the Locations withOpenHeadcount  field.  So when
the Locations withOpenHeadcount  field's values ar e “San Francisco , CA” and
“Sydney, Australia,”  the user c an only select those values in the Locations  lookup field.
To find out mor e, see “About Dependent L ookups”  in the Salesfor ce online help .
Beyond the Basics
89Expanding the S imple A pp U sing Relatio nships
Did y ou kno w you can restrict the valid values and loo kup dialog r esults for loo kup,
master-detail,  and hier archical relatio nship fields?
Say you want to ensur e that hir ing managers c an only create or edit hir ing oppor tunities
outside of the United S tates. You could cr eate a loo kup filter by r estricting the Account
Name  field o n oppor tunities to al low only hiring managers with the Inter natio nal Hir ing
Mangers pr ofile to cr eate or edit oppor tunities for accounts outside the United S tates.
To find out mor e, see “About L ookup F ilters”  in the Salesfor ce online help .
Adding Candidates to the Mix
Let's add a Candidate custo m object to our app so we c an manage the infor matio n about our
candidates. We'll also add fields to the object,  modify the page la yout pr operties, and cr eate a
candidate r ecord.The pr ocess for cr eating the Candidate custo m object is almost identic al to
the o ne we fol lowed to cr eate the P ositio n custo m object,  so we'l l zip thr ough this quic kly.
Try It Out: Creating the Candidate Object
To create our Candidate custo m object,  navigate bac k to YourName➤Setup➤Create➤
Objects , click New Custom O bject , and fil l out the page accor ding to the fol lowing table.
Table 8: Values for Defining the Candidate O bject
Value Field
Candidate Label
Candidates Plural Label
Candidate Object N ame
Repr esents an applic ant who might appl y for
one or mor e positio nsDescr iption
Open the standar d Salesfor ce Help &
Training windo wContext-S ensitiv e Help S etting
Candidate N umber Recor d Name
Auto N umber Data Type
90Chapter 7:Expanding the S imple A pp U sing Relatio nships
Value Field
C-{00000} Displa y Format
00001 Starting N umber
Yes Allow Repor ts
Yes Allow Activities
Yes Track Field Histor y
Deplo yed Deplo yment S tatus
Yes Add N otes & A ttachments r elated list to
default page la yout
Yes Launch New Custo m Tab Wizard after saving
this custo m object
To create the Candidates tab , select a TabStyle  in the first step of the wiz ard, and then
accept al l the defaults until y ou get to the A dd to Custo m Apps page.  On this page , select o nly
the Recr uiting A pp and c lick Save.
The Recr uiting app no w has thr ee tabs:  Home, Positio ns, and Candidates.  Now let's add so me
custo m fields to the Candidate object.
Try It Out: Adding Fields to the Candidate Object
To create custo m fields o n the Candidate object,  click YourName➤Setup➤Create➤
Objects , and c lick Candidate  to vie w its detail page.  In the Custo m Fields & Relatio nships
related list,  use the New butto n to cr eate custo m fields accor ding to the fol lowing table. Where
necessar y, we'v e indic ated so me additio nal values y ou'll need to fil l in. Otherwise, you can
simpl y accept al l defaults.
One diff erence y ou'll see in the Candidate object fields is that thr ee of them— FirstName ,
LastName , and Email —hav e the External ID optio n selected. This optio n allows the
values in these fields to be index ed for sear ch from the sidebar of the applic ation. If we didn't
select these values as exter nal IDs,  we'd o nly be able to sear ch for r ecords based o n the
Candidate Number  field.  Setting the Email  field as an exter nal ID is also g oing to help us
with impor ting data a little later in this c hapter .
91Expanding the S imple A pp U sing Relatio nships
Table 9: Candidate O bject Custom F ields
Other Values Field Label Data Type
Length:  50
Exter nal ID:  SelectedFirst N ame Text
Length:  50
Exter nal ID:  SelectedLast N ame Text
Phone Phone
Exter nal ID:  Selected Email Email
Length:  50 Street Text
Length:  50 City Text
Length:  50 State/P rovince Text
Length:  15 Zip/Postal Code Text
Length:  50 Countr y Text
Length:  50 Curr ent Emplo yer Text
Length:  2
Decimal P laces:  0Years of Exper ience Number
Length:  9 SSN Text
Picklist values: Educ ation Picklist
•HS Diplo ma
•BA/BS
•MA/MS/MB A
•Ph.D.
•Post Doc
Default:  Chec ked Curr ently Emplo yed Chec kbox
Default:  Chec ked US Citiz en Chec kbox
Default:  Unc hecked Visa Requir ed Chec kbox
Mobile Phone
92Chapter 7:Expanding the S imple A pp U sing Relatio nships
Other Values Field Label Data Type
Fax Phone
Try It Out: Modifying the Candidate Page Layout Properties
To finish up with this object,  let's organiz e all of our fields o n the page la yout and mar k some
fields as r equir ed.To do so , let's g o to the Candidate page la yout page.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Candidate .
3.In the P age L ayouts r elated list,  click Edit next to the Candidate L ayout.
4.Create thr ee ne w double-column sectio ns belo w the Infor matio n sectio n: Address,
Emplo yment,  and A dditio nal Details.  Drag the appr opriate fields into them,  as
shown in the Candidate O bject P age L ayout image , and do n't forget to c lick Quick
Save so you can sav e your wor k as y ou go.
5.Set the FirstName ,LastName , and Email  fields to r equir ed as fol lows:
a.Use CTRL+c lick to select al l three requir ed fields.
b.Double-c lick your selectio n.
c.Select the Required  checkbox in the S elect Al l row, and c lick OK.
6.Click Save.
Your Candidate page la yout should no w loo k similar to the fol lowing scr eenshot.
93Expanding the S imple A pp U sing Relatio nships
Figure 33: Candidate Object Page Layout
Look at What We've Done
Here's a quic k way to v erify that y ou did e verything corr ectly.
1.Click the Candidates tab .
2.Click New.
3.Create a ne w record for a c andidate named Ethan Tran.
4.Enter a value for eac h of the r equir ed fields. Salesfor ce will not v erify the email
address you enter in the Email  field r ight no w, so feel fr ee to enter a fictitious o ne.
5.Click Save.
How does the page la yout loo k? Ar e the fields wher e you want them?
If you page la yout doesn't loo k quite r ight and y ou need to make a f ew adjustments,  click the
Edit La yout link in the upper r ight cor ner.
94Chapter 7:Expanding the S imple A pp U sing Relatio nships
Figure 34: Edit Layout Link
The Edit La yout link takes y ou dir ectly to the page la yout editor and lets y ou modify the page
you ar e curr ently viewing .
If you ar e able to successful ly create a ne w candidate r ecord and e verything loo ks okay, let's
move on to the Job A pplic ation object!
Bringing Candidates and Positions Together with Job
Applications
Our app c an track candidates and open positio ns, but ther e's a cr ucial element that's missing:
how do we kno w whic h candidates ar e inter ested in whic h positio ns? We can cr eate loo kup
relatio nship fields o n the Candidate object that let r ecruiters specify the positio ns in whic h the
candidate is inter ested,  but what if we want to tr ack additio nal infor matio n, such as whether
the c andidate is curr ently scheduled to inter view for o ne of those positio ns? A nd wouldn't it
be helpful if the r ecruiter has a wa y of stor ing the co ver letters that c andidates tailor for eac h
specific job to whic h the y are appl ying?
We can satisfy these r equir ements with a Job A pplic ation custo m object that stor es data about
an individual c andidate's applic ation to a single positio n. Each time a c andidate wants to appl y
for a positio n, the r ecruiter c an cr eate a job applic ation record that co ntains the c andidate's
name and the positio n to whic h he or she is appl ying, as wel l as an y cover letter that the
candidate ma y hav e submitted specific ally for that positio n. Recr uiters wil l also be able to
indic ate the status of the c andidate's applic ation, such as whether he or she is sc heduled for
an inter view or if the applic ation has been r ejected.  After we cr eate the Job A pplic ation object
and its fields,  we'll make a f ew smal l modific ations to the P ositio n, Candidate , and Job
Applic ation objects so that eac h positio n record displa ys the names of the c andidates who hav e
95Expanding the S imple A pp U sing Relatio nships
applied to it,  and eac h candidate r ecord displa ys the name of the positio ns to whic h the c andidate
has applied.
Try It Out: Creating the Job Application Object
You should be a pr o at this by no w! To create our Job A pplic ation custo m object,  navigate
back to YourName➤Setup➤Create➤Objects , click New Custom O bject , and fil l out
the page accor ding to the fol lowing table.
Table 10: Values for Defining the Job Applic ation O bject
Value Field
Job A pplic ation Label
Job A pplic ations Plural Label
Job_A pplic ation Object N ame
Repr esents a c andidate's applic ation to a
positio nDescr iption
Open the standar d Salesfor ce Help &
Training windo wContext-S ensitiv e Help S etting
Job A pplic ation Number Recor d Name
Auto N umber Data Type
JA-{00000} Displa y Format
00001 Starting N umber
Yes Allow Repor ts
Yes Allow Activities
Yes Track Field Histor y
Deplo yed Deplo yment S tatus
Yes Add N otes & A ttachments r elated list to
default page la yout
Yes Launch New Custo m Tab Wizard after saving
this custo m object
96Chapter 7:Expanding the S imple A pp U sing Relatio nships
To create the Job A pplic ations tab , select a TabStyle  in the first step of the wiz ard, and
then accept al l the defaults until y ou get to the A dd to Custo m Apps page.  On this page , select
only the Recr uiting app , and then c lick Save.
We're now just a f ew custo m fields awa y from linking the Job A pplic ation object with the
Positio n and Candidate objects.
Try It Out: Adding Fields to the Job Application Object
Here's another pr ocedur e that we'v e done se veral times befor e, but this time we o nly need to
define four custo m fields instead of the near ly twent y that we built for the Candidate object.
We'll need to add a text field for the c andidate's co ver letter , a pic klist field so that we c an
track the applic ation's status,  and t wo loo kup r elatio nship fields that wil l create r elatio nships
between the Job A pplic ation object and the P ositio n and Candidate objects.
Although these fields ar e almost identic al to the o nes we cr eated ear lier, you'll notice when
you're defining the loo kup r elatio nship fields that ther e's a ne w step in the custo m field wiz ard
Step 6:  Add Custom Re lated Lists .This step of the wiz ard is wher e we c an specify a heading for
the Job A pplic ations related list that wil l show up o n both the Candidate and P ositio n detail
pages.
Why didn't we see this step ear lier when we cr eated our HiringManager  lookup field? It
turns out that U ser is a unique standar d object:  it doesn't hav e a tab , and y ou cannot add r elated
lists to it. The platfor m kno ws this,  so it leav es out the r elated list step whene ver someone adds
a loo kup r elatio nship field that r eferences the U ser object.
Now that we'r e all squar ed awa y with that smal l difference, let's finish up these Job A pplic ation
fields.  Clic k YourName➤Setup➤Create➤Objects , and then c lick Job Applic ation to
view its detail page.  In the Custo m Fields & Relatio nships r elated list,  use the New butto n to
create custo m fields accor ding to the fol lowing table. Where necessar y, we'v e indic ated so me
additio nal values y ou'll need to fil l in. Otherwise y ou can simpl y accept al l defaults.
Table 11: Add Custom F ields to the Job Applic ation O bject
Other Values Field Label Data Type
Related To: Candidate
Related List L abel: Job A pplic ationsCandidate Lookup Relatio nship
Related To: Positio n
Related List L abel: Job A pplic ationsPositio n Lookup Relatio nship
97Expanding the S imple A pp U sing Relatio nships
Other Values Field Label Data Type
Length:  32,000
# of Visible Lines:  6Cover Letter Text Ar ea (L ong)
Picklist values: Status Picklist
•New
•Review Resume
•Phone Scr een
•Schedule Inter views
•Extend an Off er
•Hired
•Rejected
Use first value as default value:  Selected
Befor e we mo ve on, there is o ne mor e impor tant step:  we need to enter a name for the c hild
relatio nship that the Posit ion field cr eated bet ween the Job A pplic ation and P ositio n objects.
This step is o nly necessar y for the Position  relatio nship field bec ause of ho w we wil l use this
relatio nship when we cr eate our c andidate map f eatur e in Moving Be yond Point-and-Clic k
App De velopment  on page 281.
To name the c hild r elatio nship:
1.Click YourName➤Setup➤Create➤Objects , and c lick Job Applic ation.
2.In the Custo m Fields & Relatio nships r elated list,  click Positio n, then c lick Edit.
3.In the ChildRelationship Name  field,  enter JobApplications  and c lick
Save.The Force.co m platfor m sav es the c hild r elatio nship name as
Job_Applications .
Look at What We've Done
Tada! If y ou click on the ne w Job A pplic ations tab and c lick New, you'll see the Candidate
lookup field,  a Position  lookup field,  the c andidate's co ver letter , and a Status  picklist
field.
98Chapter 7:Expanding the S imple A pp U sing Relatio nships
Figure 35: Custom Fields on the Job Application Edit Page
But ther e's mor e! Bec ause we'v e built a couple of loo kup r elatio nships,  our c andidate and
positio n record detail pages no w eac h hav e a ne w Job A pplic ations related list.  And the Job
Applic ation detail page inc ludes links to the c andidate and positio n records that it r eferences.
All three objects ar e now related and linked to o ne another!
99Expanding the S imple A pp U sing Relatio nships
Figure 36: Job Application Links to Position and Candidate Data
Befor e we mo ve on, let's see if we c an clean up the usabilit y of our app a bit mor e so our users
don't hav e to identify c andidates and job applic ations by number when the y click the loo kup
butto n in the Job A pplic ation edit page , or when the y loo k at the Job A pplic ations related list
on the Candidate or P ositio n detail pages.
Introducing Search Layouts
By default,  all lookup dialogs and r elated lists that r esult fr om ne w relatio nships,  such as the
ones we'v e defined in this c hapter , only displa y the r ecord name or number . For example , if
you go ahead and cr eate a job applic ation, you might find the Candidate loo kup dialog a little
cryptic bec ause the o nly listed field is Candidate Number , as sho wn in the fol lowing
screenshot.
100Chapter 7:Expanding the S imple A pp U sing Relatio nships
Figure 37: Default Candidate Lookup on the Job Application Object
Likewise, the Job A pplic ations related lists o n the P ositio n and Candidate detail pages o nly
displa y a job applic ation number . It is m uch mor e useful if these r elated lists also inc lude the
associated c andidate's name or positio n.
To fix these issues,  we c an add fields to the search layouts  for the objects that we'v e defined.
Search layouts ar e ordered gr oups of fields that ar e displa yed when a r ecord is pr esented in a
particular co ntext,  such as in sear ch results,  a loo kup dialog , or a r elated list.  By adding fields,
we can giv e users mor e infor matio n and help them loc ate records mor e quic kly.
The S earch Layouts r elated list o n the custo m object detail page is the place to modify these
sets of fields.  Go to YourName➤Setup➤Create➤Objects  and select the Candidate
object. You'll see that the available sear ch layouts inc lude the fol lowing:
Table 12:  Available S earch La youts
Descr iption Layout N ame
The sear ch results that or iginate fr om sear ching in the lef t Sidebar
Search of the applic ation or in A dvanced S earch.Search Results
The loo kup dialog r esults that or iginate fr om clicking the 
  butto n
next to a loo kup field o n an edit page.Lookup Dialogs
101Expanding the S imple A pp U sing Relatio nships
Descr iption Layout N ame
The list of r ecent r ecords that appears o n the ho me page of a tab , and
in related lists o n other object detail pages.Tab
The filters that c an be applied to sear ch results. Search Filter F ields
Note:The List View layout also appears in the S earch Layouts r elated list,  but it's
not for specify ing fields.  Instead,  it allows you to specify the butto ns that appear o n
the list vie w page for an object.
Try It Out: Adding Fields to the Candidate Lookup Dialog
Let's add fields to our Candidate loo kup dialog:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Candidate .
3.In the S earch Layouts r elated list,  click Edit next to the L ookup Dialogs la yout.
The Edit S earch Layout page inc ludes a list of available fields fr om the Candidate object. You
can choose up to ten fields to inc lude in the loo kup dialog , and or der them in an y way you
choose , except that the object's unique name or number field (suc h as Candidate Number )
must be listed first.
4.Move the fol lowing fields into the S elected F ields bo x under Candidate Number :
•FirstName
•LastName
•City
•State/Province
•Phone
5.Click Save.
That's it! To try it out,  return to the Job A pplic ations tab , and c lick New.When y ou click the
lookup ico n next to the Candidate  field,  the dialog is no w much mor e useful.
102Chapter 7:Expanding the S imple A pp U sing Relatio nships
Figure 38: Modified Candidate Lookup on the Job Application Object
Try It Out: Updating Additional Search Layouts
Now that we'v e updated o ne sear ch layout for loo kups,  the r est should be easy . Use the S earch
Layouts r elated list o n the custo m object detail page to modify the other sear ch layouts as
descr ibed in the fol lowing table.
Table 13:  Addit ional S earch La youts
Add These F ields Search La yout Object
Candidate •Candidate N umber •Search Results
• • Candidates Tab First N ame
•Last N ame
•City
•State/P rovince
•Phone
Candidate • • Candidate N umber Search Filter F ields
•First N ame
•Last N ame
•Educ ation
•Years of Exper ience
•City
•State/P rovince
•Countr y
•Curr ently Emplo yed
103Expanding the S imple A pp U sing Relatio nships
Add These F ields Search La yout Object
Positio n •Positio n Title •Search Results
• • Lookup Dialogs Location
• • Functio nal Ar ea Positio ns Tab
• • Search Filter F ields Job L evel
•Type
•Hiring Manager
•Status
•Open Date
•Close Date
Job A pplic ation • • Job A pplic ation Number Search Results
• • Lookup Dialogs Candidate
• • Positio n Job A pplic ations Tab
• • Search Filter F ields Status
•Created Date
•Owner F irst N ame
•Owner L ast N ame
Now let's cr eate another custo m object to pr ovide our hir ing managers and inter viewers with
a place to enter their co mments about job applic ations.
Managing Review Assessments
Inter viewers,  recruiters,  and hir ing managers need to be able to cr eate r eviews so that the y can
record their co mments about eac h candidate's job applic ation, and r ate the c andidate's suitabilit y
for the positio n.They also need to see the r eviews posted by other people. To allow our users
to per form these tasks,  we'll need to cr eate a custo m Re view object and r elate it to the Job
Applic ation object.
The Re view object has a man y-to-o ne relatio nship with the Job A pplic ation object bec ause
one job applic ation can hav e one or mor e reviews associated with it.  A related list o n the job
applic ation record wil l show the associated r eviews, representing the “many” side of the
relatio nship .
104Chapter 7:Expanding the S imple A pp U sing Relatio nships
Figure 39: Review Has a Many-to-One Relationship with Job Application
However, instead of cr eating this r elatio nship with a loo kup r elatio nship field,  this time we'l l
use a master-detail r elatio nship field.  A master-detail r elatio nship field makes sense in this
case bec ause r eviews lose their meaning when taken out of the co ntext of a job applic ation, so
we'll want to auto matic ally delete r eviews when we delete the job applic ation to whic h the y're
related.
Try It Out: Creating the Review Object
To create the Re view object,  navigate bac k to YourName➤Setup➤Create➤Objects ,
click New Custom O bject , and fil l out the page accor ding to the fol lowing table.
Table 14: Values for Defining the Re view O bject
Value Field
Review Label
Reviews Plural Label
Review Object N ame
Repr esents an inter viewer's assessment of a
particular c andidateDescr iption
Open the standar d Salesfor ce Help &
Training windo wContext-S ensitiv e Help S etting
Review Number Recor d Name
Auto N umber Data Type
R-{000000} Displa y Format
000001 Starting N umber
Yes Allow Repor ts
105Expanding the S imple A pp U sing Relatio nships
Value Field
Yes Allow Activities
Yes Track Field Histor y
Deplo yed Deplo yment S tatus
Yes Add N otes & A ttachments r elated list to
default page la yout
No Launch New Custo m Tab Wizard after saving
this custo m object
Notice that we didn't launc h the tab wiz ard this time.  Reviews do n't need a tab of their o wn
because the y can be accessed via a r elated list o n the Job A pplic ation detail page. When y ou
create an object with a tab , the platfor m provides access to that object's r ecords in var ious places
other than just the tab , such as in sear ch results and the Recent Items list in the sidebar ar ea
of every page.  Because most Recr uiting app users wo n't need to see r eviews unless it's in the
context of a job applic ation, we do n't need to cr eate a separ ate tab for them.
Now let's finish up the custo m fields o n the Re view object.
Try It Out: Adding Fields to the Review Object
Let's star t out by adding the master-detail r elatio nship field,  whic h wil l relate our Re view
object with the Job A pplic ation object. To create the master-detail r elatio nship field,  access
the Re view object detail page.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Review.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select Master-Detail Relationship , and c lick Next.
5.In the Related To drop-do wn list,  choose Job A pplic ation, and c lick Next.
6.In the FieldLabel  text bo x, enter JobApplication .
Notice that the Required  checkbox is auto matic ally selected and c annot be c hanged.  As
mentio ned ear lier, master-detail r elatio nship fields ar e always requir ed on detail r ecords.
7.Select the Read/Write  radio butto n.
106Chapter 7:Expanding the S imple A pp U sing Relatio nships
This shar ing setting pr events people fr om creating , editing , or deleting a r eview unless the y
can also cr eate, edit,  or delete the associated job applic ation.We'll lear n all about shar ing and
secur ity in the next c hapter .
8.Click Next.
9.Accept the defaults in the r emaining thr ee steps of the wiz ard.
10.Click Save.
Your master-detail r elatio nship is co mplete!
Beyond the Basics
Did y ou kno w you can cr eate master-detail r elatio nships with m ultiple le vels? With
multile vel master-detail r elatio nships y ou can cr eate r eports that r oll up data fr om all
levels of the data model,  and tr igger c ascading deletes when a master r ecord is deleted.
Say you want a c andidate ’s applic ations and r eview records to be deleted when a hir ing
manager deletes a c andidate. You can cr eate a ne w master-detail r elatio nship field that
relates the Job A pplic ation object with the Candidate object.  Because the Re view and Job
Applic ation objects ar e already r elated to eac h other in a master-detail r elatio nship , you’ve
built a m ultile vel relatio nship wher e Candidate is the master , Job A pplic ation is the detail,
and Re view is the subdetail.
To find out mor e, see “Multile vel Master-Detail Relatio nships”  in the Salesfor ce online
help.
Now that y our master-detail r elatio nship is in place , let's think about the other t ypes of fields
that would be useful to people loo king at a r eview record.
Most likel y, you ar e going to want to see the name of the c andidate and the positio n for whic h
they are being r eviewed. We could cr eate a loo kup r elatio nship to the P ositio n and Candidate
objects,  and then r equir e reviewers to enter those fields when cr eating a r eview record, but
what if the y select the w rong value? Besides,  wouldn't it be better if these fields wer e someho w
automatic ally populated?
To solve this,  we'll tap into the sy nergy of for mulas and r elatio nships to cr eate cross-object
formulas . Cross-object for mulas ar e formulas that span t wo or mor e objects by r eferencing
merge fields fr om related r ecords.This means that for mulas o n our Re view object c an access
fields o n the Job A pplic ation object,  and for mulas o n the Job A pplic ation object c an access
fields o n both the P ositio n and Candidate objects. We're going to take it e ven one step fur ther
by creating for mula fields o n our Re view object that span the Job A pplic ation object to r eference
107Expanding the S imple A pp U sing Relatio nships
fields o n the Candidate and P ositio n objects. You'll quic kly disco ver that using r elated data is
much easier than it sounds!
Let's begin by building a for mula field o n the Re view object that r eferences the title of the
positio n on the r eview's par ent job applic ation record.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Review.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select the Formula  data t ype, and c lick Next.
5.In the FieldLabel  field,  enter Position . Once y ou mo ve your cursor , the
FieldName  text bo x should be auto matic ally populated with P ositio n.
6.Select the Text  formula return type and c lick Next.
7.Click the Inser t Field butto n.
The Inser t Field o verlay appears,  as sho wn belo w.
Figure 40: Insert Field Overlay
8.Select Re view in the first column.
When y ou choose Re view, the seco nd column displa ys all of the Re view object's fields as wel l
as its r elated objects,  whic h are denoted by a gr eater-than sign (>).  Notice that the Created
By and LastModified By fields also hav e greater-than signs. This is bec ause these ar e
lookup fields to the U ser object.
9.Select JobApplication > in the seco nd column. The thir d column displa ys the
fields of the Job A pplic ation object.
10.Select Position > in the thir d column. The four th column displa ys the fields of
the P ositio n object.
108Chapter 7:Expanding the S imple A pp U sing Relatio nships
Be sur e that y ou select Position > (with the gr eater than sign) and not Position .The
one with the gr eater-than sign is the P ositio n object,  while the o ne without the gr eater than
sign is the Position  lookup field o n the Job A pplic ation object.  In most c ases, formulas that
access loo kup fields r eturn a cr yptic r ecord ID . Instead,  we want our for mula to r eturn the
positio n's title.
11.Choose Position Title  in the four th column.
12.Click Inser t.
Your for mula no w loo ks like this:
Job_Application__r.Position__r.Name
The for mula spans to the r eview's related job applic ation (Job_Application__r ), then to
the job applic ation's related positio n (Position__r ), and final ly references the positio n's title
(Name ). Notice that eac h par t of the for mula is separ ated by a per iod, and that the r elatio nship
names co nsist of the r elated object fol lowed by __r.
13.Click Next.
14.Accept al l remaining field-le vel secur ity and page la yout defaults.
15.Click Save.
That w raps up our first cr oss-object for mula field.  Let's tr y another .This time , we'll add a
cross-object for mula field o n our Re view object that displa ys the first and last names of the
candidate being r eviewed. We'll also up the ante by using the HYPERLINK  functio n so that
users c an access the c andidate's r ecord by c licking the field.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Review.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select the Formula  data t ype, and c lick Next.
5.In the FieldLabel  field,  enter Candidate . Once y ou mo ve your cursor , the
FieldName  text bo x should be auto matic ally populated with Candidate.
6.Select the Text  formula return type and c lick Next.
7.From the Functions  list, double-c lick HYPERLINK .
The HYPERLINK  functio n lets y ou cr eate a h yperlink to an y URL or r ecord in Salesfor ce.The
text of the h yperlink c an diff er from the URL itself , whic h is useful her e bec ause we want our
hyperlink to displa y the first and last names of the c andidate while the URL points to the
candidate r ecord itself .
8.Delete url from the HYPERLINK  functio n you just inser ted, but leav e your cursor
there.
109Expanding the S imple A pp U sing Relatio nships
9.Click the Inser t Field butto n, and select Review>,JobApplication >,
Candidate >,RecordID, and c lick Inser t.
Salesfor ce gener ates a unique ID for e very record. By inser ting the r ecord ID of the c andidate
in our HYPERLINK  functio n, we're enabling our for mula field to loc ate and link to the
candidate's r ecord.
10.Delete friendly_name  from the HYPERLINK  functio n, but leav e your cursor
there.
11.Click the Inser t Field butto n, and select Review>,JobApplication >,
Candidate >,FirstName , then c lick Inser t.
12.Enter a space , then c lick the Inser t Oper ator butto n and c hoose Co ncatenate.
The Co ncatenate oper ator inser ts an ampersand (&) in y our for mula, and joins the values o n
either side of the ampersand.  Here we'r e going to use the Co ncatenate oper ator to join the
first and last names of the c andidate in a single field,  even though the y are stor ed in separ ate
fields o n the Candidate object. The Co ncatenate oper ator also lets us inser t a space bet ween
the two names,  as you'll see in the next step .
13.Enter another space , then t ype a blank space enc losed in quotes,  like this:
""
This appends a blank space af ter the first name of the c andidate.
14.Enter a space , then c lick the Inser t Oper ator butto n and c hoose Co ncatenate o nce
more to add a seco nd ampersand in y our for mula.
15.Click the Inser t Field butto n, and select Review>,JobApplication >,
Candidate >,LastName , then c lick Inser t.
16.Delete [target ] from the HYPERLINK  functio n.This is an optio nal par ameter
that isn't necessar y for our for mula field.
17.Click Check Syntax to check your for mula for err ors.Your finished for mula should
look like this:
HYPERLINK
(Job_Application__r.Candidate__r.Id ,
Job_Application__r.Candidate__r.First_Name__c
&
""
&
Job_Application__r.Candidate__r.Last_Name__c )
18.Click Next.
19.Accept al l remaining field-le vel secur ity and page la yout defaults.
20.Click Save.
110Chapter 7:Expanding the S imple A pp U sing Relatio nships
Whew! That o ne requir ed a little mor e thought,  but using a bit of br ainpo wer her e has
tremendousl y impr oved the usabilit y of our app , whic h you'll see in a mo ment when we test
our c hanges to the Re view object.  Befor e we star t testing , though,  let's quic kly add t wo mor e
easy fields to finish our Re view object. We need a text ar ea field for the r eviewer's assessment,
and a number field in whic h the r eviewer c an giv e the c andidate a numer ic scor e.
Go to YourName➤Setup➤Create➤Objects  and select the Re view object.  Use the
New butto n in the Custo m Fields & Relatio nships r elated list to cr eate the r emaining custo m
fields for the Re view object accor ding to the fol lowing table. Where necessar y, we'v e indic ated
some additio nal values y ou'll need to fil l in. Otherwise, accept al l defaults.
Table 15: Add Custom F ields to the Re view O bject
Other Values Field Label Data Type
Length:  32,000
# of Visible Lines:  6Assessment Text Ar ea (L ong)
Length:  1
Always requir e a value in this
field in or der to sav e a recordRating Number
Help text:Entera1-5
ratingofthe
candidate.
When y ou're done, add a quic k validatio n rule to ensur e that the R atings field o nly accepts the
numbers 1 thr ough 5. This wil l keep our r eview rating sy stem co nsistent thr oughout our
organiz ation.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Review.
3.In the Validatio n Rules r elated list,  click New.
4.In the RuleName  text bo x, enter Rating_Scale_Rule .
5.Select the Active  checkbox.
6.In the Description  text bo x, enter Ratingmustbefrom1to5.
7.Enter the fol lowing err or co nditio n for mula:
(Rating__c <1||Rating__c >5)
111Expanding the S imple A pp U sing Relatio nships
This for mula pr events the r ecord from being sav ed if the value of the Rating  field
is less than o ne or gr eater than fiv e.
8.In the ErrorMessage  text bo x, enter Invalid rating. Ratingmustbe
from1to5.
9.Next to the ErrorLocation  field,  select the Field  radio butto n, and then c hoose
Rating  from the dr op-do wn list.
10.Click Save.
Our Re view object is co mplete! We've added se veral featur es that wil l help users access the
data the y need in or der to asses eac h job applic ation.Ther e's just o ne mor e easy impr ovement
we need to str eamline our job applic ation review process.  It in volves returning to our Job
Applic ation object and taking advantage of o ne of the benefits we gain by using a master-detail
relatio nship .
Introducing Roll-Up Summary Fields
The r ating sy stem we cr eated o n the Re view object lets users quic kly see eac h reviewer's opinio n
of the c andidate's suitabilit y for the positio n.While eac h individual opinio n is impor tant, it
would be e ven better to see these r atings co mpiled in a wa y that summar izes ho w the c andidate
did o verall. For example , wouldn't it be gr eat if we could hav e a TotalRating  field o n eac h
Job A pplic ation record that sho ws the sum of al l the job applic ation's review ratings?
The g ood ne ws is that we c an! A simple r oll-up summar y field o n the Job A pplic ation object
can summar ize data fr om a set of r elated detail r ecords and auto matic ally displa y the out put
on a master r ecord. Use roll-up summar y fields to displa y the sum,  minim um, or maxim um
value of a field in a r elated list,  or the r ecord count of al l records listed in a r elated list.
Try It Out: Creating Roll-Up Summary Fields
Begin cr eating y our r oll-up summar y just as y ou cr eate an y other custo m field:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Job Applic ation.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select the Roll-Up Summary  data t ype, and c lick Next.
When cr eating a field o n an object that is not the master in a master-detail r elatio nship , the
Roll-Up Summary  data t ype is not available. This is bec ause r oll-up summar y fields ar e only
available o n the master object in a master-detail r elatio nship .
112Chapter 7:Expanding the S imple A pp U sing Relatio nships
5.In the FieldLabel  field,  enter TotalRating . Once y ou mo ve your cursor ,
the FieldName  text bo x should be auto matic ally populated with Total_R ating .
6.Click Next.
7.In the Summarized Object  drop-do wn list,  choose Re views.
8.Under S elect Rol l-Up Type, select SUM.
9.In the FieldtoAggregate  drop-do wn list,  select Rating .
10.Leave Allrecords shouldbeincluded inthecalculation  selected,
and c lick Next.
11.Accept al l remaining field-le vel secur ity and page la yout defaults.
12.Click Save.
Now our job applic ation records aggr egate the r atings of their r elated r eviews.This data could
be a little deceptiv e, though,  since so me job applic ations might get r eviewed mor e than others.
It would be mor e helpful if we could see the av erage r ating .
Roll-up summar y fields themsel ves do n't al low you to av erage values together , but y ou can use
them in for mulas that do . Let's cr eate a seco nd roll-up summar y field o n the Job A pplic ation
object,  and then build a simple for mula field that uses both r oll-up summar y fields to find the
average r ating .
1.Click YourName➤Setup➤Create➤Objects .
2.Click Job Applic ation.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select the Roll-Up Summary  data t ype, and c lick Next.
5.In the FieldLabel  field,  enter NumberofReviews . Once y ou mo ve your
cursor , the FieldName  text bo x should be auto matic ally populated with
Number_of_Re views.
6.Click Next.
7.In the Summarized Object  drop-do wn list,  choose Re views.
8.Under S elect Rol l-Up Type, select COUNT .
We don't need to specify a FieldtoAggregate  this time since we'r e just counting the
number of r elated detail r ecords and ar e not inter ested in an y specific field.
9.Leave Allrecords shouldbeincluded inthecalculation  selected,
and c lick Next.
10.Accept al l remaining field-le vel secur ity and page la yout defaults.
11.Click Save.
Both r oll-up summar y fields ar e in place no w. Let's build a for mula field c alled Average
Rating  that divides the value of the first r oll-up summar y field by the value of the seco nd.
113Expanding the S imple A pp U sing Relatio nships
1.Click YourName➤Setup➤Create➤Objects .
2.Click Job Applic ation.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select the Formula  data t ype, and c lick Next.
5.In the FieldLabel  field,  enter Average Rating . Once y ou mo ve your cursor ,
the FieldName  text bo x should be auto matic ally populated with A verage_R ating .
6.Select the Number  formula return type and c lick Next.
7.Click the Inser t Field butto n.
8.Select JobApplication >, then TotalRating , and c lick Inser t.
9.Click the Inser t Oper ator butto n and c hoose Divide .
10.Click the Inser t Field butto n again.
11.Choose JobApplication >, then NumberofReviews , and c lick Inser t.Your
formula should loo k like this:
Total_Rating__c /Number_of_Reviews__c
12.Click Next.
13.Accept the defaults in the r emaining thr ee steps of the wiz ard.
14.Click Save.
That w raps up al l the fields and r elatio nships we need to manage our r eviews. Let's quic kly
organiz e the pr esentatio n of our fields and then test e verything we'v e created.
Try It Out: Customizing the Review Object's Page and Search Layouts
First, let's update the page la yout of the Re view object so that the Assessment  text field is
in a single column sectio n of the same name.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Review.
3.In the P age L ayouts r elated list,  click Edit next to Re view Layout.
4.Drag a ne w sectio n just belo w the S ystem Infor matio n sectio n.The S ection Properties
dialog bo x opens.
5.Name the sectio n Assessment , and co nfigur e it to co ntain o ne column.
6.Drag the Assessment  and Rating  fields into the Assessment sectio n.
7.Click Save.
Now, let's co nfigur e our Re view sear ch layouts so that r eviews ar e always displa yed with the
associated job applic ation, positio n, and c andidate.
114Chapter 7:Expanding the S imple A pp U sing Relatio nships
1.In the S earch Layouts r elated list o n the Re view object detail page , click Edit next
to Lookup Dialogs and add the fol lowing fields:
•ReviewNumber
•Rating
•JobApplication
•Candidate
•Position
•Created Date
2.Repeat for the S earch Filter F ields la yout.
To update the Re views related list that appears o n the Job A pplic ation detail page , we'll hav e
to edit the r elated list dir ectly on the Job A pplic ation page la yout.This is diff erent fr om ho w
we added fields to the Job A pplic ation related list o n the positio n and c andidate detail pages
because the Re view object doesn't hav e an associated tab , and ther efore, doesn't hav e a tab
search layout. Remember—the tab sear ch layout is r esponsible for both the fields that appear
in the list o n the tab ho me page and the default fields that appear in r elated lists o n other object
detail pages.
Note:The tab sear ch layout is r esponsible for the fields in the r elated list la yout o nly
if the r elated list pr operties hav e not been modified o n other objects' page la youts. For
example , if you modify the pr operties of the Job A pplic ation related list o n the P ositio n
page la yout, those c hanges wil l always override the field specific ations of the Job
Applic ation tab sear ch layout.
Because the Re view object doesn't hav e a tab sear ch layout, we hav e to set those fields another
way.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Job Applic ation.
3.In the P age L ayouts r elated list,  click Edit next to Job A pplic ation Layout.
4.On the Job A pplic ation page la yout, locate the Re views related list and c lick the
wrench ico n (
 ) to edit its pr operties.
5.On the Related List P roperties dialog bo x, add the fol lowing fields to the S elected
Fields bo x:
•ReviewNumber
•Rating
•Candidate
•Position
•Created Date
115Expanding the S imple A pp U sing Relatio nships
6.From the SortBy drop-do wn list,  choose Re view Number .
7.Click OK.
8.Click Save on the page la yout edit page.
Look at What We've Done
Terrific! L et's g o see what we'v e made:
1.Click the Job A pplic ations tab and select a r ecord, or cr eate o ne if y ou hav en't alr eady.
Tip:When y ou use the Candidate and P ositio n loo kup dialogs as y ou're creating a
job applic ation record, note that,  by default,  they only displa y the most r ecentl y viewed
records.You can loc ate additio nal records by using the sear ch box, whic h returns
records based o n the Candidate Number  or Position Title  fields,  respectiv ely.
Use the * wildc ard with other c haracters to impr ove your sear ch results.  For example ,
searching o n C* r eturns every candidate r ecord. Like wise, searching o n *e r eturns all
positio n records that inc lude the letter 'e' in the title.
After the job applic ation is cr eated,  notice that the Re views related list no w appears o n the Job
Applic ation detail page. That's bec ause we r elated the Re view object to the Job A pplic ation
object with a master-detail r elatio nship .
2.In the Re views related list,  click New Re view to cr eate a r eview.
Do y ou see ho w the platfor m auto matic ally filled in the job applic ation number in the r eview's
edit page? That's o ne of the smal l, but impor tant, benefits of using the platfor m to build an
applic ation like this—not o nly is it easy to cr eate links and r elatio nships bet ween objects,  but
the platfor m anticipates what we'r e doing and helps us acco mplish our task with as f ew clicks
as possible.
3.Complete the fields o n the r eview, and c lick Save.
Notice that the name of the c andidate and the title of the positio n appear o n the r eview detail
page.  If you click the c andidate's name , his or her r ecord displa ys.
Go ahead and c lick around the r est of the app , creating a f ew mor e positio ns, job applic ations,
candidates,  and r eviews. Pretty neat,  huh? O ur data is al l inter connected,  and our edits to the
search layouts al low us to vie w details of se veral related objects al l at o nce.
116Chapter 7:Expanding the S imple A pp U sing Relatio nships
Creating a Many-to-Many Relationship
Our Recr uiting app no w has quite a f ew man y-to-o ne relatio nships,  but what if we needed to
create a man y-to-man y relatio nship? F or example , what if we hav e an object that stor ed
infor matio n about var ious emplo yment websites,  and we wanted to tr ack whic h open positio ns
we posted to those sites? This would r equir e a man y-to-man y relatio nship bec ause:
•One positio n could be posted o n man y emplo yment websites.
•One emplo yment website could list man y positio ns.
Here's wher e we get a little cr eative. Instead of cr eating a r elatio nship field o n the P ositio n
object that dir ectly links to the Emplo yment Website object,  we c an link them using a junction
object . A junctio n object is a custo m object with t wo master-detail r elatio nships,  and is the ke y
to making a man y-to-man y relatio nship .
For our app , we're going to cr eate a junctio n object c alled Job P osting . A job posting fits into
the space bet ween positio ns and emplo yment websites—o ne positio n can be posted man y
times,  and o ne emplo yment website c an hav e man y job postings,  but a job posting al ways
represents a posting about a single positio n on a single emplo yment website.  In essence , the
Job P osting object has a man y-to-o ne relatio nship with both the P ositio n and the Emplo yment
Website objects,  and thr ough those man y-to-o ne relatio nships,  we'll hav e a man y-to-man y
relatio nship bet ween the P ositio n and Emplo yment Website objects.
Tip: In man y apps,  the sole pur pose of a junctio n object is to simpl y relate t wo objects,
so it of ten makes sense to giv e the junctio n object a name that indic ates the associatio n
or relatio nship it cr eates.  For example , if you wanted to use a junctio n object to cr eate
a man y-to-man y relatio nship bet ween bugs and c ases, you could name the junctio n
object BugCaseAssociation .
Let's loo k at a t ypical scenar io at Univ ersal Co ntainers. Ther e are open positio ns for a P roject
Manager and a S r. Developer .The P roject Manager positio n is o nly posted o n Mo nster .com,
but the S r. Developer positio n is mor e difficult to fil l, so it's posted o n both Mo nster .com and
Dice.  Every time a positio n is posted,  a job posting r ecord tracks the post.  As y ou can see in
the fol lowing diagr am, one positio n can be posted man y times,  and both positio ns can be
posted to the same emplo yment website.
117Expanding the S imple A pp U sing Relatio nships
Figure 41: Using a Job Posting Object to Create a Many-to-Many Relationship Between
Positions and Employment Websites
In relatio nal database ter ms, each job posting r ecord is a r ow in the Job P osting table co nsisting
of a for eign ke y to a positio n record and a for eign ke y to an emplo yment website r ecord.The
following entit y relatio nship diagr am sho ws this r elatio nship .
Figure 42: Entity Relationship Diagram for the Position, Job Posting, and Employment
Website Objects
Consequentl y, in or der to define a man y-to-man y relatio nship bet ween the P ositio n and
Emplo yment Website objects,  we'll need to cr eate a Job P osting object with the fol lowing
fields:
•A Positio n master-detail r elatio nship
•An Emplo yment Website master-detail r elatio nship
Let's get star ted.
Try It Out: Creating the Employment Website Object
To create our Emplo yment Website custo m object,  navigate bac k to YourName➤Setup
➤Create➤Objects , click New Custom O bject , and fil l out the page accor ding to the
following table.
118Chapter 7:Expanding the S imple A pp U sing Relatio nships
Table 16: Values for Defining the Emplo yment Website O bject
Value Field
Emplo yment Website Label
Emplo yment Websites Plural Label
Emplo yment_W ebsite Object N ame
Infor matio n about a par ticular emplo yment
websiteDescr iption
Open the standar d Salesfor ce Help &
Training windo wContext-S ensitiv e Help S etting
Emplo yment Website N ame Recor d Name
Text Data Type
Yes Allow Repor ts
Yes Allow Activities
Yes Track Field Histor y
Deplo yed Deplo yment S tatus
Yes Add N otes & A ttachments r elated list to
default page la yout
Yes Launch New Custo m Tab Wizard after saving
this custo m object
To create the Emplo yment Website tab , select a TabStyle  in the first step of the wiz ard,
and then accept al l the defaults until y ou get to the A dd to Custo m Apps page.  On this page ,
select o nly the Recr uiting A pp, and then c lick Save.
Let's w rap up the Emplo yment Website object by adding a f ew custo m fields.
Try It Out: Adding the URL Field to the Employment Website Object
Obviousl y, the Emplo yment Website object needs to stor e the Web addr ess of the emplo yment
website. We'll use the URL data t ype for this field. That wa y, when users c lick the field,  the
URL wil l open in a separ ate br owser windo w. In additio n to the URL,  since most emplo yment
websites c harge per posting , we'll want to keep tr ack of ho w much it costs to post ther e, as
well as our maxim um budget for posting o n the site.
119Expanding the S imple A pp U sing Relatio nships
Click YourName➤Setup➤Create➤Objects , and then c lick Emplo yment Website  to
view its detail page.  In the Custo m Fields & Relatio nships r elated list,  use the New butto n to
create custo m fields accor ding to the fol lowing table. Where necessar y, we'v e indic ated so me
additio nal values y ou'll need to fil l in. Otherwise y ou can simpl y accept al l defaults.
Table 17: Add Custom F ields to the Job Applic ation O bject
Other Values Field Label Data Type
Requir ed Web A ddress URL
Length:  5
Decimal P laces:  2Price P er Post Curr ency
Requir ed
Length:  6
Decimal P laces:  2Maxim um Budget Curr ency
Requir ed
Try It Out: Creating the Job Posting Object
Now it's time to cr eate our Job P osting junctio n object! N avigate bac k to YourName➤
Setup➤Create➤Objects , click New Custom O bject , and fil l out the page accor ding to
the fol lowing table.
Table 18: Values for Defining the Job Applic ation O bject
Value Field
Job P osting Label
Job P ostings Plural Label
Job_P osting Object N ame
Repr esents the junctio n object bet ween a
positio n and an emplo yment websiteDescr iption
Open the standar d Salesfor ce Help &
Training windo wContext-S ensitiv e Help S etting
120Chapter 7:Expanding the S imple A pp U sing Relatio nships
Value Field
Job P osting N umber Recor d Name
Auto N umber Data Type
JP-{00000} Displa y Format
00001 Starting N umber
Yes Allow Repor ts
Yes Allow Activities
Yes Track Field Histor y
Deplo yed Deplo yment S tatus
Yes Add N otes & A ttachments r elated list to
default page la yout
No Launch New Custo m Tab Wizard after saving
this custo m object
That was simple enough,  but we'r e not quite do ne.We need to cr eate the master-detail
relatio nship fields that r elate the Job P osting object with the P ositio n and Emplo yment Website
objects.
Try It Out: Adding Fields to the Job Posting Object
To turn the Job P osting object into the junctio n object that r elates the P ositio n and Emplo yment
Website objects,  we'll need to add t wo master-detail r elatio nship fields. The first master-detail
relatio nship wil l be the primar y relationship .The detail and edit pages of our junctio n object
(Job P osting) wil l use the color and an y associated ico n of the pr imary master object (P ositio n).
In additio n, the junctio n object r ecords wil l inher it the value of the O wner field and shar ing
settings fr om their associated pr imary master r ecord.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Job P osting.
3.In the Custo m Fields & Relatio nships r elated list,  click New.
4.Select Master-Detail Relationship , and c lick Next.
5.In the Related To drop-do wn list,  choose P ositio n, and c lick Next.
6.In the FieldLabel  text bo x, enter Position .When y ou mo ve your cursor , the
FieldName  text bo x should be auto matic ally populated with P ositio n as wel l.
121Expanding the S imple A pp U sing Relatio nships
7.Accept the r emaining defaults,  and c lick Next until y ou reach the final step of the
wizard.
Here, we ar e given the c hance to add the Job P ostings r elated list to the P ositio n object page
layout. Instead of displa ying infor matio n about r elated job postings,  we want this list to sho w
all the emplo yment websites wher e this positio n is posted.  So let's add the Job P osting r elated
list, but r ename it Employment Websites .
8.In the Related ListLabel  text bo x, enter Employment Websites .
9.Accept the other defaults and c lick Save & N ew.
We're halfwa y through the cr eatio n of our man y-to-man y relatio nship .The next step is to
create a seco nd master-detail r elatio nship o n the Job P osting object to link it with the
Emplo yment Website object.
The seco nd master-detail r elatio nship cr eates a secondar y relationship . Unlike the pr imary
relatio nship , the seco ndary relatio nship has no aff ect on the loo k and f eel of the junctio n object.
However, just as in the pr imary relatio nship , the shar ing settings of the master r ecord in the
secondary relatio nship also aff ect who c an access the junctio n record, and deleting a r ecord of
the seco ndary master object wil l auto matic ally delete its associated junctio n object r ecords. So
in our app , if you delete an emplo yment website r ecord, all of its associated job posting r ecords
are deleted as wel l, even if the positio n is open.
10.Click YourName➤Setup➤Create➤Objects .
11.Click Job P osting.
12.In the Custo m Fields & Relatio nships r elated list,  click New.
13.Select Master-Detail Relationship , and c lick Next.
14.In the Related To drop-do wn list,  choose Emplo yment Website , and c lick Next.
15.In the FieldLabel  text bo x, enter Employment Website .When y ou mo ve
your cursor , the FieldName  text bo x should be auto matic ally populated with
Emplo yment_W ebsite as wel l.
16.Click Next. Because we ar e creating a master-detail r elatio nship , these settings
cannot be c hanged.
17.Click Next.These settings c annot be c hanged as wel l.
18.Click Next to vie w the final step of the wiz ard.
This time we ar e given the c hance to add the Job P ostings r elated list to Emplo yment Website
object page la yout.We'll eventual ly configur e this r elated list to sho w all the positio ns that ar e
posted o n this website , so let's add the Job P ostings r elated list but r ename it Positions .
19.In the Related ListLabel  text bo x, enter Positions .
20.Accept the other defaults and c lick Save.
122Chapter 7:Expanding the S imple A pp U sing Relatio nships
Now our man y-to-man y relatio nship is co mplete! Or is it?
While we hav e an Emplo yment Websites r elated list o n the P ositio n object and a P ositio ns
related list o n the Emplo yment Websites object,  both r elated lists stil l displa y job posting
records.This wo n't do .
In or der to ac hieve our g oal of listing m ultiple positio ns on an emplo yment website r ecord and
multiple emplo yment websites o n a positio n record, we need to custo mize the fields in these
related lists.
Customizing Related Lists in a Many-to-Many Relationship
The c apabilit y to custo mize related lists in a man y-to-man y relatio nship is mor e robust than
the c apabilit y to custo mize related lists in a loo kup r elatio nship .When y ou hav e a loo kup
relatio nship bet ween t wo objects (like the o ne we cr eated bet ween the Job A pplic ation and
Candidate objects),  the r elated list o n one object c an only displa y fields fr om the object to
whic h it is dir ectly related;  it cannot span to other objects the wa y formulas c an. For example ,
the Job A pplic ations related list o n a candidate r ecord can displa y any job applic ation field,
but it c an't displa y any fields fr om the P ositio n object,  even though the Job A pplic ation object
has loo kup r elatio nships with both the Candidate and P ositio n objects.
Fortunatel y for us,  man y-to-man y relatio nships al low for gr eater flexibilit y.When wor king
with a man y-to-man y relatio nship , the junctio n object's r elated list o n one master object c an
displa y the other master object's fields. We're going to take advantage of this by co nfigur ing
the P ositio ns related list o n eac h emplo yment website r ecord to displa y fields fr om the P ositio n
object and vice v ersa, thus al lowing these t wo objects to span to eac h other . It's al l coming
together no w!
Try It Out: Customizing the Positions and Employment Websites Related
Lists
Let's star t by modify ing the Emplo yment Websites r elated list o n the P ositio n object.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the P age L ayouts r elated list,  click Edit next to the P ositio n Layout.
4.Locate the Emplo yment Websites r elated list and c lick its w rench (
 ) icon.
In the popup windo w that appears,  you'll notice the Available Fields  column lists fields
from both the Job P osting object and the Emplo yment Website object.  If ther e wasn't a
123Expanding the S imple A pp U sing Relatio nships
master-detail r elatio nship bet ween job postings and emplo yment websites,  the Available
Fields  column list would o nly list job posting fields.
5.Move the Employment Website: Employment Website Name  and
Employment Website: WebAddress  fields to the Selected Fields  column,
and use the up and do wn arr ows to arr ange the fields in the fol lowing or der:
•Employment Website: Employment Website Name
•Employment Website: WebAddress
•JobPosting: JobNumber
6.Click OK.
7.Click Save on the page la yout.
Now do the same for the P ositio ns related list o n the Emplo yment Website object as fol lows:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Emplo yment Website .
3.In the P age L ayouts r elated list,  click Edit next to the Emplo yment Website L ayout.
4.Locate the P ositio ns related list and c lick its w rench ico n (
 ).
5.Move the fol lowing fields to the Selected Fields  column,  and use the up and
down arr ows to arr ange them in the fol lowing or der:
•Position: Position Title
•JobPosting: JobPosting Number
•Position: Functional Area
•Position: Location
•Position: OpenDate
6.Click OK.
7.Click Save on the page la yout.
Look at What We've Done
Our man y-to-man y relatio nship is co mplete! L et's see it in actio n.
1.Create a f ew sample positio n and emplo yment website r ecords.
2.Scroll down to the Emplo yment Websites r elated list at the botto m of an y positio n
record, and c lick New Job P osting.The Job P osting edit page appears.
3.Use the loo kup ico n to select the emplo yment website wher e you want to post the
positio n, and c lick Save.
124Chapter 7:Expanding the S imple A pp U sing Relatio nships
The Emplo yment Websites r elated list o n that positio n now sho ws the name and Web addr ess
of the website to whic h you just posted,  as wel l as the job posting number . Clic k the name of
the emplo yment website in the r elated list and scr oll down to vie w the P ositio ns related list,
whic h sho ws al l the positio ns posted to that website.
Now you kno w ho w easy it is to make r elated infor matio n just a c lick awa y!
Putting it All Together
We just cr eated se veral objects and a lot of r elatio nships. The fol lowing simple diagr am sho ws
us what we'v e acco mplished so far .
Figure 43: Recruiting App Relationships
All of these r elatio nships,  objects,  and fields ar e sho wn belo w in an entit y relatio nship diagr am.
An entit y relatio nship diagr am (E RD) is a co nceptual r epresentatio n of str uctur ed data,  and
is especial ly useful for planning and understanding an app .
125Expanding the S imple A pp U sing Relatio nships
Figure 44: Recruiting App Entity Relationship Diagram
We've now built al l of our Recr uiting app objects and tabs,  and we'v e defined lots of custo m
fields—e verything fr om text fields and pic klists to mor e complex for mula fields and loo kup
relatio nship fields. We've created a r obust user inter face so that our r ecruiters and hir ing
managers c an enter and r etrieve data about positio ns and r elated c andidates,  job applic ations,
and r eviews, and we did al l of this without w riting a single line of code!
Remember when we assigned Clar k Kentman as the hir ing manager for the Benefits S pecialist
positio n? Let's loo k at what Clar k can do no w: He c an cr eate and update his positio ns, and
track whic h websites he's posted them o n. He c an loo k at details about an y candidates who
have applied for the Benefits S pecialist job , and he c an review their r elated job applic ations.
126Chapter 7:Expanding the S imple A pp U sing Relatio nships
He can also c heck the status of the job applic ations. He no lo nger has to g o to Human Resour ces
to sear ch thr ough Micr osoft Word documents and spr eadsheets to manage his tasks in the
hiring pr ocess. The Recr uiting app is wel l on its wa y to beco ming a ful ly-functio nal and useful
applic ation!
However, befor e we leav e this c hapter behind,  let's get oursel ves prepared for the r est of this
book by cr eating and impor ting so me real data.  It'll help us when we get to our next c hapter
on secur ity and shar ing if we hav e some records that we c an wor k with.
Try It Out: Downloading Sample Data
In additio n to enter ing data via our tabbed pages,  we c an also use the handy Impor t Wizard
to impor t multiple r ecords at a time. The abilit y to easil y impor t data into y our custo m objects
is one of the Force.co m platfor m's ke y benefits.  Let's do wnload so me sample data so we c an
add mor e records to our custo m objects without to ns of t yping.
1.Download the RecruitingApp-5_0.zip  file co ntaining the sample CSV
(comma-separ ated values) impor t files fr om
developer.force.com/books/fundamentals .
2.Extract the zip file to C:\recruiting  (or an y director y on your co mputer).
3.Go to C:\recruiting .This dir ector y contains thr ee CSV files: Positions.csv ,
Candidates.csv , and JobApplications.csv . (The dir ector y also other co ntains
files that y ou'll use later in Moving Be yond Point-and-Clic k App De velopment  on
page 281.)
Befor e we impor t anything , we need to make a modific ation to the impor t file for positio ns.
The sample Positions.csv  you do wnloaded co ntains fictio nal users in the Hir ing Manager
column. The names of these users most likel y won't matc h any user in y our organiz ation, and
if you impor t the file “as is,”  the Impor t Wizard wo n't be able to find an y matc hing users,  and
the HiringManager  field o n eac h positio n record wil l be lef t blank.  So let's g o ahead and
make that c hange.
4.Go to C:\recruiting , and open Positions.csv  in Ex cel, a text editor , or an y
other pr ogram that c an read CSV files.
5.In the Hir ing Manager column,  replace the fictio nal users with the first and last
name of a user in y our organiz ation.
6.Save the file , making sur e to maintain the CSV for mat.
Note: If your loc ale isn't English (United S tates),  the date and field values in
Positions.csv  are also in valid. You'll need to c hange them befor e you impor t.
127Expanding the S imple A pp U sing Relatio nships
Try It Out: Using the Import Wizard
Now, let's walk thr ough the pr ocess of impor ting positio n records using the Impor t Wizard
and the Positions.csv  file y ou do wnloaded.
1.Click YourName➤Setup➤Data Management ➤Impor t Custom O bjects .
2.Click Start the Impor t Wizard!.The Impor t Wizard appears.
3.Select Position  for the t ype of r ecord you're impor ting, and c lick Next.
4.Choose Yes to pr event duplic ate positio n records from being cr eated as a r esult of
this impor t. Accept the other defaults for matc hing, and c lick Next.
5.Select None  for the r ecord owner field. We didn't inc lude a U ser field in the CSV
file to designate r ecord owners. The Impor t Wizard assigns y ou as the o wner of al l
new records.
6.Choose the HiringManager  lookup r elatio nship field so y ou can link positio n
records with existing U ser records in the Recr uiting app , and c lick Next.
7.Select Name  as the field y ou want to matc h against as the Impor t Wizard compar es
HiringManager  names in y our impor t file with U ser names in the sy stem,  and
click Next.
8.Click Browse and find C:\recruiting\Positions.csv . Clic k Next.
9.Use the dr op-do wn lists to specify the Salesfor ce fields that corr espond to the columns
in your impor t file.  For your co nvenience , identic ally matc hing labels ar e auto matic ally
selected.  Clic k Next.
10.Click Impor t Now!
Use the fol lowing table to r epeat the impor t process for c andidate r ecords.You'll notice the
wizard skips the t wo steps about loo kup r elatio nship field matc hing—bec ause the Candidate
object doesn't hav e any loo kup r elatio nship fields,  the Impor t Wizard auto matic ally leav es
those steps out.
Table 19:  Impor ting the Candidates.csv  File
Select these opt ions... For this wiz ard step ...
Candidate Choose Recor d
No—inser t all records in my impor t file Prevent D uplic ates
None Specify Relatio nships
Browse to C:\recruiting\Candidates.csv File Upload
Accept al l defaults Field Mapping
Click Impor t Now! Verify Impor t Settings
128Chapter 7:Expanding the S imple A pp U sing Relatio nships
Finally let's do it o ne mor e time for job applic ation records. In this iter ation, we're going to
make use of the Email  field,  an exter nal ID o n the Candidate object,  to matc h up job
applic ations with the corr ect candidate r ecords.
Table 20:  Impor ting the Job_Applications.csv  File
Select these opt ions... For this wiz ard step ...
Job A pplic ation Choose Recor d
No—inser t all records in my impor t file Prevent D uplic ates
Whichuserfield...?  None
Whichlookupfields...?  Candidate , Positio nSpecify Relatio nships
WhichfieldonCandidate...?  Email (Exter nal ID)
WhichfieldonPosition...?  Positio n TitleDefine L ookup Matc hing
Browse to C:\recruiting\Job_Applications.csv File Upload
Email(col0): Candidate
Position Title(col1): Positio nField Mapping
Click Impor t Now! Verify Impor t Settings
Great! While the files ar e impor ting, you can go to YourName➤Setup➤Monitor ing➤
Impor ts to check on their status.
Once the impor t oper ations hav e completed,  return to the P ositio ns, Candidates,  or Job
Applic ations tab and c lick Go! next to the View  drop-do wn list. You'll see a list of al l the ne w
records you just impor ted.
We've just added a bunc h of data to our app without a lot of wor k. In the next c hapter , we'll
take a loo k at al l the wa ys we c an co ntrol access to this data using the built-in tools of the
platfor m.We'll get into the nitt y-gritty about secur ity, shar ing rules, permissio ns, roles, and
profiles.
129Expanding the S imple A pp U sing Relatio nships

Chapter 8
Securing and Sharing Data
In the last c hapter , we expanded the Recr uiting app to
include advanced fields and co mplex object r elatio nships.In this c hapter ...
•Controlling A ccess to
Data in O ur AppThe ne w Candidate object tr acks infor matio n about
prospectiv e emplo yees, recruiters c an relate c andidates to
positio ns thr ough the ne w Job A pplic ation object,  and •Data A ccess Co ncepts
inter viewers c an add assessments and r atings of the •Controlling A ccess to
Objectscandidates o n the ne w Re view object. That's a pr etty robust
app! The enhanced data model also la ys the gr oundwor k for•Controlling A ccess to
Fieldsadding po werful functio nality like wor kflow and appr ovals
and r eporting, whic h we'l l cover in later c hapters.•Controlling A ccess to
Recor ds Now that we'v e got all of our object r elatio nships in place ,
it's time to star t thinking about who's actual ly going to be •Displa ying F ield Values
and P age L ayouts
According to P rofilesusing the app and ho w much access the y should hav e to its
data.  As with man y apps,  our Recr uiting app exposes
sensitiv e infor matio n, like social secur ity numbers,  salar y•Putting It Al l Togetheramounts,  and applic ant reviews that could r eally come bac k•Delegating Data
Administr ationto haunt us if the w rong people saw them. We need to
provide secur ity without making it har der for our r ecruiters,
hiring managers,  and inter viewers to do their jobs. •Summing Up
Here we'r e going to see another o ne of the huge benefits
that the Force.co m platfor m has to off er.You get
simple-to-co nfigur e secur ity controls that easil y allow us to
restrict access to data that users shouldn't see , without a lot
of headac hes. Similar to A ccess Co ntrol Lists or Windows
folder per missio ns, the Force.co m platfor m allows us to
specify who c an vie w, create, edit,  or delete an y record or
field in the app . In this c hapter , we'll see ho w we c an use
the Force.co m platfor m to implement those r ules.
131
Controlling Access to Data in Our App
As we'v e already seen,  there are three types of users who wil l need to access the data in our
Recruiting app:  recruiters,  hiring managers,  and inter viewers. To these thr ee, let's add a four th
type of user—a standar d emplo yee who doesn't per form an y inter views and who ne ver needs
to hir e anyone. (This emplo yee wil l help us deter mine the default per missio ns that should
apply to al l of the ne w recruiting objects in our app .)
One by o ne, let's take a loo k at the kinds of access that eac h one of these users needs and,  more
impor tantly, the kinds of access the y don't need to do their jobs.  Once we'v e compiled a set of
requir ed per missio ns, we'll figur e out ho w to implement them in the r est of the c hapter .
Required Permissions for the Recruiter
For our first set of r equir ed per missio ns, let's take a loo k at Mar io Ruiz, a recruiter at Univ ersal
Containers. To do his job , Mar io needs to be able to cr eate, view, and modify an y positio n,
candidate , job applic ation, or review that's in the sy stem,  and hav e full control over job postings
on emplo yment websites.  Like wise, Mar io needs to vie w and modify the r ecruiting r ecords
that al l of the other r ecruiters o wn, since al l of the r ecruiters at Univ ersal Co ntainers wor k
together to fil l every positio n, regardless of who cr eated it.
Although Mar io has the most po werful role in our Recr uiting app , we stil l can't giv e him
complete fr ee reign. While it's OK for job posting and emplo yment website data to be
permanentl y deleted at an y time , state and f ederal public r ecords laws r equir e that al l other
recruitment-r elated r ecords be sav ed for a number of y ears so that if a hir ing decisio n is
questio ned, it can be def ended in cour t. Consequentl y, we need to make sur e that Mar io wil l
never accidental ly delete a r ecord that needs to be sav ed to fulfil l the law .
But ho w wil l he keep the number of positio ns, candidates,  job applic ations, and r eviews in
check if he c an't delete them? Won't the app beco me swamped with old data? N ot if we'r e
smar t about it—instead of having Mar io delete old r ecords, we c an use the Status  field o n
a record as an indic ation of whether it's curr ent.We'll filter out al l of the old r ecords by using
a simple list vie w.
Here's a summar y of the r equir ed per missio ns that we need to implement for a r ecruiter:
132Chapter 8:Securing and S haring Data
Table 21: Summar y of Requir ed P ermissions:  Recr uiter
Emplo yment
WebsiteJob P osting Review Job
Applic ationCandidate Posit ion
Recr uiter •Read •Read •Read •Read •Read •Read
• • • • • • Create Create Create Create Create Create
• • • • • • Edit Edit Edit Edit Edit Edit
• • Delete Delete
Required Permissions for the Hiring Manager
Our next set of r equir ed per missio ns is mor e challenging . Ben S tuart, our hir ing manager ,
needs to be able to access the r ecruiting r ecords related to his open positio ns, but he shouldn't
be mucking ar ound with other r ecruiting r ecords (unless the y're owned by other hir ing managers
who r eport to him).  Also , there are certain sensitiv e fields that he has no need to see , like the
social secur ity number field.  Let's g o object by object to r eally drill down o n what Ben does
and doesn't need to access in or der to per form his job:
Posit ion
First of al l, Ben likes to post his o wn positio ns so that he c an publiciz e
them as fast as possible , but in our app , Mar io the r ecruiter ultimatel y
needs to take o wnership of the r ecord to make sur e the positio n gets fil led.
As a r esult,  Ben needs the abilit y to cr eate positio ns, but then we'l l need
to find a mec hanism to make sur e that the y ultimatel y get tr ansferred to
Mario for o wnership . (Hint:  as you'll see in Using Custo m Workflow and
Approval Processes  on page 199, we'll tackle that pr oblem with a wor kflow
rule that tr ansfers positio n ownership to a r ecruiter when a ne w positio n
is created by a hir ing manager . For no w just assume that this alr eady
works.)
Ben should also be able to update and vie w all fields for positio ns for whic h
he's the hir ing manager , but he should o nly be able to vie w other managers'
positio ns.
Candidate
Ben so metimes wants to poac h a pr ime c andidate who's appl ying for a
positio n under another manager , but this is a pr actice that Univ ersal
Containers fr owns upo n. As a r esult,  Ben should o nly be able to vie w
those c andidates who hav e applied for a positio n on whic h he's the hir ing
133Securing and S haring Data
manager . Also , since Ben has no r eason to see a c andidate's social secur ity
number , this field should be r estricted fr om his vie w.
Job Applic ation
As the hir ing manager , Ben needs to be able to update the status of those
job applic ations to specify whic h candidates should be selected or r ejected.
However, he should not be able to c hange the c andidate listed o n the job
applic ation, nor the positio n to whic h the c andidate is appl ying, so we'l l
have to find a wa y of pr eventing Ben fr om updating the loo kup fields o n
job applic ations.
Review
To make a decisio n about the c andidates who ar e appl ying, Ben needs to
see the r eviews posted by the inter viewers,  as wel l as make co mments o n
them if he thinks the inter viewer was being too biased in his or her r eview.
Likewise, Ben needs to be able to cr eate r eviews so that he c an remember
his own impr essions of the c andidates he inter views.
Job P osting
Ben wants to make sur e his har der-to-fil l positio ns are visible to the most
talented people in the field. The most efficient wa y to do this is by posting
open positio ns on var ious emplo yment websites.  Given that emplo yment
websites hav e diff erent types of users with var ying skil l sets,  we should
give Ben the po wer to unilater ally create job postings o n emplo yment
websites,  since Ben is the best perso n to ascer tain whic h skil l sets ar e
necessar y for his open positio ns.
Emplo yment Website
If Ben had his wa y, he would usur p all of the co mpan y's budget for posting
his open positio ns on emplo yment websites;  therefore, Ben shouldn't be
allowed to modify emplo yment website r ecords, as that would let him
redefine the co mpan y's budget for posting jobs and could lead to an
accounting fiasco . Still, we need to make sur e that Ben c an vie w
emplo yment website r ecords to get an idea of the emplo yment websites
with whic h Univ ersal Co ntainers has accounts,  and ho w much of the
budget for that emplo yment website is available.
Here's a summar y of the r equir ed per missio ns we need to implement for a hir ing manager:
134Chapter 8:Securing and S haring Data
Table 22: Summar y of Requir ed P ermissions:  Hir ing Manager
Emplo yment
WebsiteJob P osting Review Job
Applic ationCandidate Posit ion
Hir ing
Manager• •Read* •Read •Read • •Read Read Read*
(No
SSN)• • • • Create Create* Create Edit
(No
lookup
fields)• • • Edit* Edit* Edit
* Onl y for those r ecords that ar e associated with a positio n to whic h the hir ing manager has
been assigned
Required Permissions for the Interviewer
For our thir d set of r equir ed per missio ns, let's take a loo k at Melissa L ee's r ole as an inter viewer.
Ben, her manager , likes Melissa to inter view candidates for highl y technical positio ns, but
doesn't want her speaking with folks who ar e appl ying for r oles o n the user inter face team.  As
a result,  Melissa should be able to vie w only the c andidates and job applic ations to whic h she's
assigned as an inter viewer. No suc h restriction needs to exist o n the positio ns that ar e out ther e,
but she shouldn't be able to vie w the minim um and maxim um salar y values for an y of them.
Likewise, she shouldn't see the social secur ity number of an y candidate , since it's sensitiv e
infor matio n that has nothing to do with her job .
Melissa m ust be able to cr eate and edit her r eviews so that she c an record her co mments about
each candidate , but she shouldn't be able to see the r eviews of other inter viewers—r eading
them might swa y her opinio n one wa y or the other . As with hir ing managers and r ecruiters,
Melissa also shouldn't be al lowed to delete an y records to ensur e that public r ecords laws ar e
fulfilled.
Finally, the posting of jobs to emplo yment websites has no bear ing o n Melissa's r esponsibilities,
so both the emplo yment website and job posting r ecords should be co mpletel y off-limits to
her.
Here's a summar y of the r equir ed per missio ns we need to implement for an inter viewer:
135Securing and S haring Data
Table 23: Summar y of Requir ed P ermissions:  Inter viewer
Emplo yment
WebsiteJob P osting Review Job
Applic ationCandidate Posit ion
- - Inter viewer • • • • Read** Read* Read*
(No
SSN)Read
(No
min/max
pay)•Create
•Edit**
* Onl y for those r ecords that ar e associated with a positio n to whic h the inter viewer has been
assigned
** Onl y for those r ecords that the inter viewer o wns
Required Permissions for the Standard Employee
Emplo yees, such as Mann y Damo n on the Western Sales Team, are often the best r esour ces
for recruiting ne w hir es, even if the y are not activ e hiring managers or inter viewers.  For this
reason, we need to make sur e that emplo yees like Mann y can vie w open positio ns, but that
they can't see the values for the positio ns' minim um and maxim um salar y fields—other wise
they might tip off fr iends to neg otiate for a positio n's maxim um salar y value! Mann y also
shouldn't be able to vie w any other r ecords in our Recr uiting app .
Here's a summar y of the r equir ed per missio ns we need to implement for a standar d emplo yee:
Table 24: Summar y of Requir ed P ermissions:  Standar d Emplo yee
Emplo yment
WebsiteJob P osting Review Job
Applic ationCandidate Posit ion
- - - - - Standar d
Emplo yee•Read
(No
min/max
pay)
136Chapter 8:Securing and S haring Data
So Where Are We Now?
Now that we'v e gone thr ough the r equir ed per missio ns for eac h of our four users,  let's organiz e
our thoughts by summar izing them in the fol lowing table.  In the r est of this c hapter , we'll
figure out ho w we c an use the platfor m to implement these r ules in our Recr uiting app .
Table 25: Summar y of Requir ed P ermissions
Emplo yment
WebsiteJob P osting Review Job
Applic ationCandidate Posit ion
Recr uiter •Read •Read •Read •Read •Read •Read
• • • • • • Create Create Create Create Create Create
• • • • • • Edit Edit Edit Edit Edit Edit
• • Delete Delete
Hir ing
Manager• • • • • • Read Read* Read Read Read*
(No
SSN)Read
• • • • Create Create* Create Edit
(No
lookup
fields)• • • Edit* Edit* Edit
- - Inter viewer • • • • Read** Read* Read*
(No
SSN)Read
(No
min/max
pay)•Create
•Edit**
- - - - - Standar d
Emplo yee•Read
(No
min/max
pay)
* Onl y for those r ecords that ar e associated with a positio n to whic h the hir ing
manager/inter viewer has been assigned
** Onl y for those r ecords that the inter viewer o wns
Tip:When implementing the secur ity and shar ing rules for y our o wn organiz ation,
it's of ten useful to cr eate a r equir ed per missio ns table like this to organiz e your thoughts
and make sur e you do n't forget to r estrict or gr ant access to a par ticular user .You'll
137Securing and S haring Data
see that we'r e going to r efer bac k to this table again and again as we g o thr ough this
chapter .
Data Access Concepts
Befor e we get star ted implementing our secur ity and shar ing rules, let's quic kly take a loo k at
all the wa ys that we c an co ntrol data o n the platfor m:
Object-L evel S ecur ity
The bluntest wa y that we c an co ntrol data is by pr eventing a user fr om
seeing , creating , editing , or deleting an y instance of a par ticular t ype of
object,  like a positio n or r eview. Object-le vel access al lows us to hide whole
tabs and objects fr om par ticular users,  so that the y don't even kno w that
type of data exists.
On the platfor m, we set object-le vel access r ules with object per missio ns
on user pr ofiles. We'll lear n mor e about pr ofiles in a little bit.
Field-L evel S ecur ity
A var iation on object-le vel access is field-le vel access,  in whic h a user c an
be pr evented fr om seeing , editing , and/or deleting the value for a par ticular
field o n an object.  Field-le vel access al lows us to hide sensitiv e infor matio n
like the maxim um salar y for a positio n or a c andidate's social secur ity
number without having to hide the whole object.
On the platfor m, we set field-le vel access r ules with the field-le vel secur ity.
We'll also lear n mor e about that shor tly.
Recor d-L evel S ecur ity
To control data with a little mor e finesse , we c an allow par ticular users to
view an object,  but then r estrict the individual object r ecords that the y're
allowed to see.  For example , record-level access al lows an inter viewer like
Melissa L ee to see and edit her o wn reviews, without exposing the r eviews
of everyone else o n her team.
On the platfor m, we actual ly hav e four wa ys of setting r ecord-level access
rules:
•Organiz ation-wide de faults allow us to specify the baseline le vel of
access that a user has in y our organiz ation. For example , we c an make
it so that an y user c an see an y record of a par ticular object to whic h
their user pr ofile giv es them access,  but so that the y'll need extr a
permissio ns to actual ly edit o ne.
•Role hie rarchies allow us to make sur e that a manager wil l always hav e
access to the same r ecords as his or her subor dinates.
138Chapter 8:Securing and S haring Data
•Shar ing r ules allow us to make auto matic ex ceptio ns to
organiz ation-wide defaults for par ticular gr oups of users.
•Manual shar ing allows record owners to giv e read and edit per missio ns
to folks who might not hav e access to the r ecord any other wa y.
Figure 45: Controlling Data with the Force.com  Platform
The co mbinatio n of al l of these shar ing and secur ity settings in the platfor m means that we
can easil y specify user per missio ns for an organiz ation of thousands of users without having to
manual ly configur e the per missio ns for eac h individual.  Pretty neat! N ow let's get star ted
learning mor e about eac h of these methods for co ntrolling data,  and actual ly implementing
the secur ity and shar ing rules for our app .
139Securing and S haring Data
Controlling Access to Objects
First let's co nfigur e access to our Recr uiting app custo m objects.  As we mentio ned pr eviousl y,
we can co ntrol whether a user kno ws that a par ticular object exists in the app by modify ing his
or her pr ofile.  But exactl y what is a pr ofile, and what does it co ntrol?
Introducing Profiles
A profile is a col lectio n of settings and per missio ns that deter mine what a user c an do in the
platfor m, kind of like a gr oup in a Windows net work, wher e all of the members of the gr oup
have the same folder per missio ns and access to the same sof tware. Profiles co ntrol:
•The objects the user c an vie w, create, edit,  and delete
•The object fields the user c an vie w and edit (mor e on that later!)
•The tabs the user c an vie w in the app
•The standar d and custo m apps the user c an access
•The page la youts a user sees
•The r ecord types available to the user
•The hours dur ing whic h the user c an log in to the app
•The IP addr esses fr om whic h the user c an log in to the app
Profiles ar e typically defined by a user's job functio n (for example , system administr ator or
sales r epresentativ e), but y ou can hav e profiles for an ything that makes sense for y our
organiz ation. A pr ofile c an be assigned to man y users,  but a user c an be assigned to o nly one
profile at a time.
Standard Profiles
The platfor m pr ovides the fol lowing set of standar d profiles in e very organiz ation:
•Read Onl y
•Standar d User
•Marketing U ser
•Contract Manager
•Solutio n Manager
•System A dministr ator
140Chapter 8:Securing and S haring Data
Each of these standar d profiles inc ludes a default set of per missio ns for al l of the standar d
objects available o n the platfor m. For example , users assigned to the S tandar d User pr ofile c an
never create, edit,  or delete a c ampaign.
When a custo m object is cr eated,  most pr ofiles (ex cept those with “Modify Al l Data ”) do n't
get access to the object. You can find mor e detailed descr iptions of al l the standar d profiles in
the o nline help , but the impor tant thing to kno w is that y ou can ne ver actual ly edit the
permissio ns on a standar d profile.  Instead,  if you hav e access to the Enter prise, Unlimited,  or
Developer Editio ns of the platfor m, you can make a copy of a standar d profile and then
custo mize that copy to better fit the needs of y our organiz ation.That's what we'r e going to
end up doing for our Recr uiting app (and as a r esult,  Enter prise, Unlimited,  and De veloper
Editio ns wil l be the o nly editio ns that the Recr uiting app wil l suppor t).
Custom Profiles in Our Recruiting App
For our app , we'v e talked about four t ypes of users:  recruiters,  hiring managers,  inter viewers,
and standar d emplo yees.We might just jump the gun and sa y that this equals four diff erent
user pr ofiles,  but let's take a c loser loo k.
Recruiters ar e pretty straightfor ward—the y definitel y represent a par ticular job functio n, and
they need access to diff erent types of data than other users. They need their o wn pr ofile.
A hir ing manager , however, is not exactl y a single t ype of positio n. For most organiz ations, a
hiring manager in the S ales depar tment wil l almost cer tainly need access to a diff erent type of
data than a hir ing manager in Engineer ing. However, for the pur poses of our app , sales managers
and sof tware managers stil l need the same t ypes of access to r ecruiting data—r eviews, candidates,
positio ns, job applic ations, job postings,  and emplo yment websites.  Let's keep this as a single
profile for no w, but if incor porating our app into an organiz ation with other CRM functio nality,
we'll need to suggest as a best pr actice that the hir ing manager per missio ns for r ecruiting-r elated
data need to be r eplicated for an y profile to whic h hir ing managers belo ng.
Finally, let's loo k at inter viewers and standar d emplo yees. Neither o ne of these user t ypes
reflects a par ticular job functio n, and when y ou think about it,  just about an yone in an
organiz ation might be c alled upo n to per form an inter view. Let's define a single pr ofile for a
standar d emplo yee and find a wa y to gr ant inter viewers access to the r ecords that the y need
through so me other mec hanism.  (Hint:  we c an use a co mbinatio n of organiz ation-wide defaults
and shar ing rules to make this wor k.)
141Securing and S haring Data
Try It Out: Creating the Recruiter Profile
All right—we'r e final ly ready to dig into the app and cr eate our first pr ofile! L et's star t with
the Recr uiter pr ofile.
1.Click YourName➤Setup➤Manage U sers➤Profiles .
Figure 46: Standard Profiles
Here you should see the list of standar d profiles that we talked about ear lier. After we cr eate
our custo m pr ofiles,  they'll also sho w up in this list.
First, we c an quic kly tell whic h profiles we c an pla y with by loo king at the Custom  column—if
it's checked, that means it's a custo m profile and we c an edit an ything about it.  If that column
is not c hecked, we c an stil l click the Edit link;  we just c an't modify an y of the per missio n
settings.  (What does that leav e for us to edit o n a standar d profile? Well, we c an choose whic h
tabs should appear at the top of a user's page , and we c an also select the apps that ar e available
in the Force.co m app menu in the top-r ight cor ner of the page.)
2.Create a ne w profile named Recr uiter based o n the S tandar d User pr ofile.
Ther e are actual ly two wa ys of doing this—we c an either c lick New, select an existing pr ofile
to clone, name it,  and c lick Save, or we c an simpl y click Clone in the detail page of the pr ofile
that we want to copy , name it,  and c lick Save. Ultimatel y, it's the same number of c licks, so
choose the method y ou like best.  Standar d User is the pr ofile that most c losely resembles what
we want our ne w Recr uiter pr ofile to loo k like , so it's a g ood star ting point.
3.In the ne w Recr uiter pr ofile's detail page , click Edit.
The Recr uiter edit page should loo k and functio n exactl y like the S tandar d User pr ofile edit
page ex cept with o ne impor tant diff erence:  you hav e the abilit y to modify an y of the per missio n
settings.
142Chapter 8:Securing and S haring Data
4.In the Custo m App Settings ar ea, make the Recr uiting app visible to users assigned
to the Recr uiter pr ofile, as sho wn in the fol lowing scr eenshot.
Figure 47: Profile Custom App Settings Area
Tip:You can also giv e this pr ofile access to an y of the other available apps as wel l.
Every profile needs to hav e at least o ne visible app .
When an app is visible , a user c an select it fr om the Force.co m app menu at the top-r ight
corner of the page.  Be awar e, however, that e ven if an app is visible , the app's tabs wo n't sho w
up unless a pr ofile has per missio ns to vie w the tabs and per missio n to vie w the associated
object.  (We'll set both of those per missio ns lower do wn in the P rofile edit page.)
5.Select Default  next to the Recr uiting app .
Making this selectio n means that the Recr uiting app wil l be displa yed when a user logs in.
You'll notice that when y ou select an app as the default,  its Visible  checkbox is auto matic ally
selected,  because it doesn't make sense for an app to be the default if it's not visible to the user .
6.In the Tab Settings ar ea, select Default On for the P ositio ns, Job A pplic ations,
Candidates,  and Emplo yment Websites tabs.
Tip:You can choose whether y ou want other tabs to be displa yed based o n the
additio nal apps that y ou made visible in the last step .
For the pur poses of our Recr uiting app , all of our custo m recruiting tabs ar e on by default.  For
any other tabs that y ou select,  you can choose whic h should be displa yed on top of the user's
page (Default On),  hidden fr om the user's page but available when he or she c licks the Al l
Tabs tab o n the far r ight (Default Off ), or co mpletel y hidden fr om the user ( Tab Hidden).
Realiz e that e ven if y ou co mpletel y hide a tab , users c an stil l see the r ecords that would hav e
appear ed in that tab in sear ch results and in r elated lists.  (To prevent a user fr om accessing
data,  we hav e to set the pr oper r estrictions in the S tandar d and Custo m O bject P ermissio ns
areas lo wer do wn in the P rofile edit page—we'l l get ther e shor tly!)
The Overwrite users'personal tabcustomizations  setting appears if y ou hav e
an organiz ation that's curr ently in use and y ou want to make sur e your existing users ar e viewing
the tabs that y ou've selected. You do n't need to select this for our app bec ause we'r e defining
143Securing and S haring Data
a brand-ne w profile and no o ne has perso naliz ed his or her tab visibilit y settings y et. However,
if you do want to select this optio n at so me point in the futur e, just make sur e you're not g oing
to anno y your users by deleting al l of their custo mizations!
Figure 48: Profile Tab Settings Area
Just belo w the Tab Settings ar ea, the A dministr ative and Gener al User P ermissio ns areas of
the pr ofile al low you to gr ant special access to f eatur es and functio nality that do n't map dir ectly
to par ticular objects.  None of these per missio ns aff ects our Recr uiting app , but y ou can lear n
more about them in the o nline help .
It's time to mo ve on to the object-le vel per missio ns.
7.In the Custo m Object P ermissio ns area, specify the object-le vel per missio ns for our
Recruiter pr ofile accor ding to the fol lowing table.
Table 26: Summar y of Requir ed P ermissions:  Recr uiter
Emplo yment
WebsiteJob P osting Reviews Job
Applic ationsCandidates Posit ions
Recr uiter •Read •Read •Read •Read •Read •Read
• • • • • • Create Create Create Create Create Create
• • • • • • Edit Edit Edit Edit Edit Edit
• • • View
AllDelete Delete
• • View
AllView
All
• • Modify
AllModify
All
144Chapter 8:Securing and S haring Data
Tip: Depending o n the apps that y ou made visible pr eviousl y, you can also set
additio nal object per missio ns on standar d or other custo m objects.
Since ther e are no instances when a r ecruiter should be al lowed to delete positio ns, candidates,
job applic ations, and r eviews, we should make sur e that the object-le vel per missio ns for deletio n
are turned off for these objects.  Also , make sur e the “View Al l” and “Modify Al l” permissio ns
are only selected for job postings and emplo yment websites. These ar e special kinds of object
permissio ns that we'l l discuss later in this c hapter .
Figure 49: Recruiter Profile Permissions
By restricting the po wer to delete r ecruiting-r elated objects her e, recruiters wil l never be able
to delete these objects.  However, the fact that we'r e granting r ecruiters per missio n to cr eate,
read, or edit our r ecruiting objects does not necessar ily mean that r ecruiters wil l be al lowed to
read or edit every recruiting object r ecord.Why?
Here we see the r esult of t wo really impor tant co ncepts in the platfor m:
•The per missio ns on a record are always evaluated accor ding to a co mbinatio n of object-,
field-,  and r ecord-level per missio ns.
•When object- v ersus r ecord-level per missio ns co nflict,  the most r estrictive settings win.
What this means is that e ven though we ar e granting this pr ofile cr eate, read, and edit
permissio ns on the r ecruiting objects,  if the r ecord-level per missio ns for an individual r ecruiting
record prove to be mor e restrictive, those wil l be the r ules that wil l define what a r ecruiter c an
access.
For example , our ne w profile giv es a r ecruiter per missio n to cr eate, edit,  and vie w reviews.
However, if we set organiz ation-wide defaults for r eviews to P rivate (a r ecord-level per missio n),
our r ecruiter wil l be al lowed to edit and vie w only his o wn reviews, and not the r eviews owned
by other users. We'll lear n mor e about r ecord-level per missio ns later and g o thr ough mor e
examples of ho w the y wor k with the object-le vel ones, but for no w, just understand that
object-le vel per missio ns are only one piece of the puzzle.
8.Click Save to cr eate y our pr ofile and r eturn to the pr ofile detail page.
145Securing and S haring Data
Congratulatio ns! We're done with our first pr ofile.  As y ou can see , it really wasn't that har d,
because we'd alr eady anal yzed our r equir ed per missio ns and kne w what objects r ecruiters wil l
need access to . In the next sectio n, let's quic kly finish up our other t wo pr ofiles and then mo ve
on to field-le vel secur ity.
Beyond the Basics
Did y ou kno w that y ou can use an impr oved user inter face to manage pr ofiles?
Say you manage a lot of pr ofiles and y ou'd like a mor e a str eamlined exper ience. With
the enhanced pr ofile user inter face, you can easil y navigate , search, and modify pr ofile
settings.
To find out mor e, see “Enhanced P rofile U ser Inter face O verview” in the Salesfor ce online
help.
Try It Out: Creating More Profiles
Now that we'v e created our Recr uiter pr ofile, let's finish up with pr ofiles for hir ing managers
and standar d emplo yees. As we mentio ned ear lier, these pr ofiles ar e probabl y too gener ic to
be used in a co mpan y that's using the platfor m for other , non-recruiting functio nality, but for
our pur poses,  they'll wor k just fine for no w.
To make eac h profile, go ahead and fol low the steps that we outlined in the pr evious sectio n.
The impor tant things to r emember for these pr ofiles ar e:
•The pr ofiles should be named Hir ing Manager and S tandar d Emplo yee and should be
based o n the standar d profile that best fits y our needs. We used S tandar d User for our
Recruiter pr ofile, and that's pr obabl y a good o ne for S tandar d Emplo yee as wel l. However,
for your organiz ation you might find that Hir ing Manager mor e closely resembles the
Contract or S olutio n Manager pr ofile instead.  It's up to y ou.
•The Recr uiting app for both pr ofiles m ust be set to Visible .
•For the Hir ing Manager pr ofile, set the tabs for P ositio ns, Candidates,  Job A pplic ations,
and Emplo yment Websites to Default On.
•For the S tandar d Emplo yee pr ofile, set the tabs for P ositio ns, Candidates,  and Job
Applic ations to Default On,  but set the tab for Emplo yment Website to Tab Hidden.
•Standar d and custo m object per missio ns should r eflect the r equir ed per missio ns that we
worked o n befor e.
To refresh our memor ies, let's take a loo k at our r equir ed per missio ns summar y table:
146Chapter 8:Securing and S haring Data
Table 27: Summar y of Requir ed P ermissions:  Hir ing Manager , Inter viewer, and S tandar d
Emplo yee
Emplo yment
WebsitesJob
PostingsReviews Job
Applic ationsCandidates Posit ions
Hir ing
Manager• •Read* •Read •Read • •Read Read Read*
(No
SSN)• • • • Create Create* Create Edit
(No
lookup
fields)• • • Edit* Edit* Edit
- - Inter viewer • • • • Read** Read* Read*
(No
SSN)Read
(No
min/max
pay)•Create
•Edit**
- - - - - Standar d
Emplo yee•Read
(No
min/max
pay)
* Onl y for those r ecords that ar e associated with a positio n to whic h the hir ing
manager/inter viewer has been assigned
** Onl y for those r ecords that the inter viewer o wns
This table is a little co nfusing r ight no w, because Inter viewer and S tandar d Emplo yee are still
separ ated into t wo diff erent users.  Let's g o ahead and co mbine them into a single S tandar d
Emplo yee user so that it's a little easier to see what object-le vel per missio ns we need to gr ant.
It's easy to do , because Inter viewers and S tandar d Emplo yees hav e the same per missio ns on
the P ositio n object,  and we alr eady hav e aster isks o n Candidates,  Job A pplic ations, and Re views
that ensur es these users wo n't loo k at an ything to whic h the y're not assigned as an inter viewer:
147Securing and S haring Data
Table 28: Summar y of Requir ed P ermissions:  Combining Inter viewers and S tandar d
Emplo yees
Emplo yment
WebsitesJob
PostingsReviews Job
Applic ationsCandidates Posit ions
Hir ing
Manager• •Read* •Read •Read* • •Read Read Read*
(No
SSN)• • • • Create Create* Create Edit
(No
lookup
fields)• • • Edit* Edit* Edit
- - Standar d
Emplo yee
(Inter viewer)• • • • Read** Read* Read*
(No
SSN)Read
(No
min/max
pay)•Create
•Edit**
* Onl y for those r ecords that ar e associated with a positio n to whic h the hir ing manager/standar d
emplo yee has been assigned
** Onl y for those r ecords that the standar d emplo yee owns
Great, but what about al l of those aster isks and r estrictions on visible fields? Do we need to
take those into account when we set our object-le vel per missio ns?
Not at al l.Those aster isks and field r estrictions represent r ecord- and field-le vel secur ity settings
that we'r e going to hav e to specify else wher e in our app .The o nly things we need to c are about
here are the per missio ns that these users wil l need to hav e access to at least some of the
time—that's the whole point of object-le vel per missio ns:
•For hir ing managers,  that's cr eate, read, and edit o n Positio ns and Re views, read o n
Candidates and Emplo yment Websites,  and r ead and edit o n Job A pplic ations
•For standar d emplo yees, that's r ead o n Positio ns, Candidates,  and Job A pplic ations, and
create, read, and edit o n Re views
148Chapter 8:Securing and S haring Data
Figure 50: Hiring Manager Profile Permissions
Figure 51: Standard Employee Profile Permissions
Fantastic! We've just finished defining pr ofiles and object-le vel per missio ns for al l the users
in our Recr uiting app . However, that's stil l just o ne piece of the secur ity and shar ing puzzle—we
still need to make sur e that sensitiv e data o n these objects is pr otected fr om users who do n't
need access,  and then we need to dr ill down o n the actual r ecords that eac h user should be
allowed to vie w and edit.
Controlling Access to Fields
Now that we'v e restricted access to objects as a whole , it's time to use a finer-toothed co mb to
manage the secur ity of individual object fields. These ar e the settings that al low us to pr otect
sensitiv e fields suc h as a c andidate's social secur ity number without having to hide the fact that
the c andidate object e ven exists.
Introducing Field-Level Security
In the platfor m, we co ntrol access to individual fields with field-level secur ity. Field-le vel secur ity
controls whether a user c an see , edit,  and delete the value for a par ticular field o n an object.
149Securing and S haring Data
Unlike page la youts, whic h only control the visibilit y of fields o n detail and edit pages,  field-le vel
secur ity controls the visibilit y of fields in an y par t of the app , including r elated lists,  list vie ws,
reports, and sear ch results.  Indeed,  in or der to be absolutel y sure that a user c an't access a
particular field,  it's impor tant to use the field-le vel secur ity page for a giv en object to r estrict
access to the field. Ther e are simpl y no other shor tcuts that wil l provide the same le vel of
protectio n for a par ticular field.
Field-Level Security in Our Recruiting App
Just to r efresh our memor ies about what field-le vel secur ity settings we need for our Recr uiting
app, let's take another loo k at our r equir ed per missio ns in the fol lowing table. We'll keep them
organiz ed by r ecruiter, hiring manager , and standar d emplo yee, because it tur ns out that
(surprise!) field-le vel secur ity settings ar e closely related to pr ofiles:
Table 29: Revised S ummar y of Requir ed P ermissions
Emplo yment
WebsiteJob P osting Review Job
Applic ationCandidate Posit ion
Recr uiter •Read •Read •Read •Read •Read •Read
• • • • • • Create Create Create Create Create Create
• • • • • • Edit Edit Edit Edit Edit Edit
• • Delete Delete
Hir ing
Manager• • • • • • Read Read* Read Read Read*
(No
SSN)Read
• • • • Create Create* Create Edit
(No
lookup
fields)• • • Edit* Edit* Edit
- - Standar d
Emplo yee• • • • Read** Read* Read*
(No
SSN)Read
(No
min/max
pay)•Create
•Edit**
* Onl y for those r ecords that ar e associated with a positio n to whic h the hir ing
manager/inter viewer has been assigned
** Onl y for those r ecords that the inter viewer o wns
150Chapter 8:Securing and S haring Data
For field-le vel secur ity settings,  we'll first z ero in o n those r ules that inc lude field r estrictions
in par entheses,  specific ally:
•On the P ositio n object,  hide minim um and maxim um pa y from standar d emplo yees
•On the Candidate object,  hide social secur ity numbers fr om hir ing managers and standar d
emplo yees
•On the Job A pplic ation object,  make the Position  and Candidate  lookup fields r ead-o nly
for hir ing managers.
So let's get do wn to it!
Accessing Field-Level Security Settings
So wher e do y ou access field-le vel secur ity settings? It tur ns out that ther e are actual ly two
ways to get to those settings—either thr ough a pr ofile's detail page , or by c hoosing Your
Name➤Setup➤Secur ity Cont rols➤Field Accessibilit y.
The path that y ou choose depends o n whether y ou're focused solel y on field-le vel secur ity, or
whether y ou want to fidd le with page la yout settings at the same time. The first wa y is the
simplest and r equir es the least number of c licks, but the seco nd is so metimes mor e convenient
when y ou're building a ne w app , because y ou can per form two related tasks in the same page.
Because we hav e two diff erent field r ules that we need to implement for our Recr uiting app ,
we'll define o ne rule with the first method,  and the other with the seco nd.
Try It Out: Restricting Access to a Position's Minimum and Maximum
Salary Fields
Let's get star ted actual ly implementing the first of our field-le vel secur ity rules: On P ositions,
hide minimum and maximum pay fr om st andar d emplo yees.We'll define this r ule by accessing
field-le vel secur ity settings thr ough the S tandar d Emplo yee pr ofile's detail page.
1.Click YourName➤Setup➤Manage U sers➤Profiles , and then select the
Standar d Emplo yee pr ofile.
151Securing and S haring Data
Figure 52: Standard Employee Profile Detail Page
The first thing y ou'll notice about the S tandar d Emplo yee profile's detail page is that it inc ludes
several mor e areas than the edit page that we or iginal ly used to define the pr ofile. These
additio nal ar eas inc lude P age L ayouts (whic h we lear ned about ear lier), Field-L evel Security,
Recor d Type Settings,  Login Hours,  and L ogin IP R anges.  Although we wo n't go into detail
in this boo k about ho w to use an y areas other than F ield-L evel Security (and r ecord types later
on), they're par t of what makes a pr ofile so po werful in our applic ation.You can lear n mor e
about them in the o nline help .
2.In the F ield-L evel Security area, click View next to the P ositio n object.
3.Click Edit.
152Chapter 8:Securing and S haring Data
Figure 53: Field-Level Security Edit Page
Here we see secur ity settings for al l of the fields o n the P ositio n object,  including MinPay
and MaxPay, the t wo fields that we want to r estrict.You'll notice that so me field-le vel secur ity
settings o n some fields c annot be modified—this is bec ause either the y are system-gener ated
fields or the y act as loo kup r elatio nship fields (for eign ke ys) to other r ecords.
Since the secur ity settings c heckboxes can be a little bit co nfusing , let's do a quic k exercise to
map their values ( Visible  and Read-Only ) to the thr ee logic al per missio n settings for a
field: “Hidden,” “Read Onl y,” and “Editable ”:
Table 30: Field-L evel P ermission Mappings
Read-Onl y Visible Permission
Hidden
X X Read Onl y
X Editable
153Securing and S haring Data
After doing this ex ercise, it's easy to see that most fields ar e editable , because their Visible
checkbox is the o nly one selected. To restrict a field fr om ever being vie wed by a user , all we
have to do is deselect both c heckboxes.
4.Next to the MaxPay field,  deselect Visible .
5.Next to the MinPay field,  deselect Visible .
6.Click Save.
We're done!
Try It Out: Restricting Access to a Candidate's Social Security Number
For our seco nd field-le vel secur ity setting ( On Candidat es, hide social secur ity numbe rs from hir ing
manag ers and st andar d emplo yees), let's implement it using the F ield A ccessibilit y page. You'll
see that this method is v ery similar to the last,  but that the F ield A ccessibilit y page giv es us
more power and co ntrol over ho w we define our settings.
1.Click YourName➤Setup➤Secur ity Cont rols➤Field Accessibilit y, and then
select the Candidate object.
Notice that with the F ield A ccessibilit y tool,  we star t off by c hoosing the r elevant object,  rather
than a user pr ofile. Then,  we c an choose to set field-accessibilit y either by selecting a single
field and then seeing its secur ity settings for e very profile ( View by Fields ), or by selecting a
profile and then seeing secur ity settings for e very field ( View by Profile).
2.Click View by Fields , and then select SSN fr om the Field  drop-do wn list.
154Chapter 8:Securing and S haring Data
Figure 54: Field Accessibility Page
The table that appears sho ws us the accessibilit y settings for social secur ity number for eac h
profile.  If you mo ve your mouse o ver the value for FieldAccess , hover text indic ates whether
the secur ity setting is the r esult of a page la yout setting or a field-le vel secur ity setting .
Let's first set our field-le vel secur ity for hir ing managers.
3.Next to the Hir ing Manager pr ofile, click Editable .
155Securing and S haring Data
Figure 55: Access Settings Page
By clicking the value in a pr ofile's FieldAccess  column,  we final ly get to see the r eal reason
why the F ield A ccessibilit y page is so co nvenient:  we c an vie w and edit a field's field-le vel
secur ity and page la yout settings in the same page.
The F ield-L evel Security area inc ludes the same c heckboxes that we discussed pr eviousl y—to
hide the social secur ity number fr om hir ing managers,  we c an simpl y deselect the Visible
checkbox as we did with the MinPay andMaxPay fields o n positio ns.
Befor e we do that,  however, take a loo k at the P age L ayout ar ea. Here you can either c hange
the visibilit y and editabilit y of the field o n the page la yout, or you can choose a diff erent page
layout for the Hir ing Manager pr ofile altogether . Since we ar e focused o n the secur ity of the
SSN field in this ex ercise we do n't need to touc h any of the P age L ayout ar ea settings.  However,
you should r emember that this tool is her e for the futur e, especial ly if y ou ar e ever trying to
figure out wh y a field is or is not visible to a par ticular user .
4.In the F ield-L evel Security area, deselect Visible .
5.Click Save.
To finish up , all we need to do is r epeat the pr ocess for the S tandar d Emplo yee pr ofile.
6.Next to the S tandar d Emplo yee pr ofile, click Editable .
7.In the F ield-L evel Security area, deselect Visible .
8.Click Save.
156Chapter 8:Securing and S haring Data
We hav e just o ne mor e field-le vel secur ity setting to make! In this next o ne, we'll leav e the
field values visible , but pr event them fr om being edited by hir ing managers.
Try It Out: Setting Lookup Fields to Read-Only on a Job Application for
Hiring Managers
Our final field-le vel secur ity rule wil l let hir ing managers see whic h candidate and positio n are
associated with eac h job applic ation, but pr event hir ing managers fr om changing those fields.
1.Click YourName➤Setup➤Manage U sers➤Profiles , and then select the
Hiring Manager pr ofile.
2.In the F ield-L evel Security area, click View next to the Job A pplic ation object.
3.Click Edit.
4.Next to the Candidate  field,  select Read-Only .
5.Next to the Position  field,  select Read-Only .
6.Click Save.
All done! We've just finished the seco nd piece of our secur ity and shar ing puzzle by defining
field-le vel secur ity for the sensitiv e fields in our Recr uiting app . Now, for the final (and most
complic ated) piece of the puzzle , we need to specify the individual r ecords to whic h eac h user
needs access. We need to pr otect our data without co mpromising an y emplo yee's abilit y to
perform his or her job .
Controlling Access to Records
By setting object and field-le vel access r ules for eac h of our thr ee user pr ofiles,  we hav e effectively
defined al l of the objects and fields that an y one of our Recr uiting app users c an access.  In this
sectio n, we'll focus o n setting per missio ns for the actual r ecords themsel ves. Should our users
have open access to e very record, or just a subset? If it's a subset,  what r ules should deter mine
whether the user c an access them? We'll use a var iety of platfor m secur ity and shar ing tools to
address these questio ns and make sur e we get it r ight.
Introducing Organization-Wide Defaults
When dealing with r ecord-level access settings,  the first thing we need to do is to deter mine
the organiz ation-wide defaults (co mmo nly called “org-wide defaults”) for eac h object in our
Recruiting app . Also c alled a shar ing model,  org-wide defaults specify the baseline le vel of
access that the most r estricted user should hav e.We'll use org-wide defaults to loc k down our
157Securing and S haring Data
data to this most r estrictive level, and then we'l l use our other r ecord-level secur ity and shar ing
tools (r ole hier archies, shar ing rules, and manual shar ing) to open up the data to other users
who need to access it.
Org-Wide Defaults in Our Recruiting App
To deter mine the org-wide defaults that we'l l need in our Recr uiting app , we need to answer
the fol lowing questio ns for eac h object:
1.Who is the most r estricted user of this object?
2.Is ther e ever going to be an instance of this object that this user shouldn't be al lowed
to see?
3.Is ther e ever going to be an instance of this object that this user shouldn't be al lowed
to edit?
Based o n our answers to these questio ns, we c an deter mine the shar ing model that we need
for that object as il lustrated in the fol lowing diagr am.
158Chapter 8:Securing and S haring Data
Figure 56: Determining the Sharing Model for an Object
For example , let's co nsider the P ositio n object in our r ecruiting app .To refresh our memor ies,
here's our table of r equir ed per missio ns:
159Securing and S haring Data
Table 31: Revised S ummar y of Requir ed P ermissions
Emplo yment
WebsiteJob P osting Review Job
Applic ationCandidate Posit ion
Recr uiter •Read •Read •Read •Read •Read •Read
• • • • • • Create Create Create Create Create Create
• • • • • • Edit Edit Edit Edit Edit Edit
• • Delete Delete
Hir ing
Manager• • • • • • Read Read* Read Read Read*
(No
SSN)Read
• • • • Create Create* Create Edit
(No
lookup
fields)• • • Edit* Edit* Edit
- - Standar d
Emplo yee• • • • Read** Read* Read*
(No
SSN)Read
(No
min/max
pay)•Create
•Edit**
* Onl y for those r ecords that ar e associated with a positio n to whic h the hir ing
manager/inter viewer has been assigned
** Onl y for those r ecords that the inter viewer o wns
Now let's g o thr ough and answer our list of questio ns for the P ositio n object:
Table 32: Deter mining Org-W ide Defaults for the S tandar d Emplo yee P rofile
Answer Quest ion
A member of the S tandar d Emplo yee pr ofile.
All that the y're allowed to do is vie w a
positio n.1.Who is the most r estricted user of this
object?
No. Although the values for the minim um
and maxim um pa y are hidden fr om standar d2. Is ther e ever going to be an instance of this
object that this user shouldn't be al lowed to
see? emplo yees, they're still allowed to vie w all
positio n records.
160Chapter 8:Securing and S haring Data
Answer Quest ion
Yes. Standar d emplo yees ar en't al lowed to edit
any positio n record.3. Is ther e ever going to be an instance of this
object that this user shouldn't be al lowed to
edit?
According to our flo wchart, answer ing “Yes” to questio n #3 means that the shar ing model for
the P ositio n object should be set to P ublic Read-Onl y.
The same is tr ue for the Emplo yment Website and Job P osting objects,  except hir ing managers
are the most r estricted users instead of standar d emplo yees.We want to al low hir ing managers
to vie w all emplo yment website and job posting r ecords without being able to edit them,  so
the answer to the seco nd questio n is “No” while the answer to the thir d questio n is “Yes;”
therefore, the shar ing model for the Emplo yment Website and Job P osting objects should be
Public Read-Onl y.
Going thr ough the r est of our r ecruiting objects r equir ed per missio ns, we c an easil y figur e out
their shar ing models,  too.The S tandar d Emplo yee pr ofile is the most r estricted user for eac h
object,  and ther e are going to be c andidate , job applic ation, and r eview records that par ticular
emplo yees wo n't be able to vie w. Consequentl y, the shar ing model for the Candidate , Job
Applic ation, and Re view objects should al l be set to P rivate.
Try It Out: Setting Org-Wide Defaults
Now that we'v e figur ed out the org-wide defaults for eac h of our r ecruiting objects,  let's g o
ahead and implement them in our Recr uiting app .
1.Click YourName➤Setup➤Secur ity Cont rols➤Sharing S ettings. If you see
an intr oductor y splash page , click Set Up S haring at the botto m of the page to skip
to the actual tool.
The S haring S ettings page is wher e we co ntrol both org-wide defaults and shar ing rules. We'll
talk mor e about this page when we talk about shar ing rules a little fur ther do wn. For no w, let's
just edit our org-wide default settings.
2.In the Organiz ation Wide Defaults ar ea, click Edit.
161Securing and S haring Data
Figure 57: Org-Wide Defaults Edit Page
This page co ntrols the org-wide defaults for e very object in our organiz ation.You'll notice that
some standar d objects (like leads and c alendars) use a diff erent set of org-wide default values
than we hav e available for our custo m recruiting objects. You can lear n mor e about them in
the o nline help . For no w, let's just set our r ecruiting objects to the org-wide defaults that we
decided o n in the last sectio n.
3.Next to Position  and Employment Website , select P ublic Read Onl y.
4.Next to Candidate  and JobApplication , select P rivate.
Right about no w, you're probabl y wondering wh y you can't set the org-wide defaults for the
Review and Job P osting objects. The r eason is that those objects ar e on the detail side of
master-detail r elatio nships,  and,  as mentio ned in the last c hapter , a detail r ecord auto matic ally
inher its the shar ing setting of its par ent. So in our app , the Re view object is auto matic ally set
to Private, and the Job P osting object is auto matic ally set to P ublic Read Onl y.
You also might be wo ndering about the GrantAccessUsingHierarchies  column of
checkboxes. Leave these selected for no w.We'll discuss hier archies in the next sectio n.
5.Click Save.
Easy! N ow that we'v e locked do wn our data with org-wide defaults,  users ar e curr ently allowed
to wor k on only candidate , job applic ation, and r eview records that the y own, and ar e allowed
162Chapter 8:Securing and S haring Data
to vie w positio n, emplo yment website , and job posting r ecords that an yone owns. Because
those settings ar e way too r estrictive for an y user to get an y benefit out of our app , now we
need to use r ole hier archies, shar ing rules, and manual shar ing to open up c andidate , job
applic ation, and r eview record access to those emplo yees who'l l need it.
Introducing Role Hierarchies
The first wa y that we c an shar e access to r ecords is by defining a r ole hier archy. Similar to an
org c hart, a role hier archy represents a le vel of data access that a user or gr oup of users needs.
Users assigned to r oles near the top of the hier archy (nor mally the CEO , executiv es, and other
management) get to access the data of al l the users who fal l directly belo w them in the hier archy.
The r ole hier archy ensur es that a manager wil l always hav e access to the same data as his or
her emplo yees, regardless of the org-wide default settings.  Role hier archies also helpful ly define
groups of users who tend to need access to the same t ypes of r ecords—we'l l use these gr oups
later when we talk about shar ing rules.
To illustrate, let's take a loo k at a por tion of the r ole hier archy for Univ ersal Co ntainers:
Figure 58: Universal Containers Role Hierarchy
Role hier archies do n't necessar ily need to matc h your org c hart exactl y. Instead,  each role in
the hier archy should just r epresent a le vel of data access that a user or gr oup of users needs.
For example , suppose y our organiz ation emplo ys a cor porate lawy er who needs to access al l of
the records in the app . One easy wa y to acco mplish this is by assigning the lawy er to the CEO
role in y our organiz ation's role hier archy. Since the CEO r ole is placed at the top of the
hierarchy, anyone assigned to that r ole auto matic ally gets ful l access to an y record in the
163Securing and S haring Data
organiz ation. It doesn't matter that tec hnically the lawy er appears belo w the CEO in the r egular
org c hart.
Also, role hier archies do n't necessar ily need to appl y to al l of y our custo m objects. You can use
the GrantAccessUsingHierarchies  checkbox to enable and disable r ecord access
through hier archies o n an object-by-object basis when y ou set y our org-wide defaults.  For our
Recruiting app , however, we want our r ole hier archy to appl y to al l of our custo m objects,  so
leave all of the GrantAccessUsingHierarchies  checkboxes selected.
Comparing Roles and Profiles
Although it's easy to co nfuse pr ofiles with r oles, they actual ly control two very diff erent things.
As we lear ned ear lier in this c hapter , profiles co ntrol a user's object- and field-le vel access
permissio ns. Indeed,  a user c an't be defined without being assigned to a par ticular pr ofile, since
the pr ofiles specifies the apps and tabs that appear when he or she logs in,  amo ng a number
of other useful things.
Roles,  on the other hand,  primarily control a user's r ecord-level access per missio ns thr ough
role hier archy and shar ing rules. Although a r ole assignment isn't exactl y requir ed when we
define a user , it would be foolish of us not to assign a r ole since it makes it so m uch easier to
define our r ecord-level per missio ns. Indeed,  trying to define r ecord-level per missio ns without
assigning a r ole to a user would be a lot like tr ying to tr avel from New York to S an Francisco
by car when ther e's an air plane available—ther e's just a m uch mor e efficient wa y of doing it!
Because pr ofiles co ntrol object- and field-le vel access wher eas roles influence r ecord-level
access,  a user is t ypically assigned to o ne of eac h.To help y ou remember whic h controls what,
remember: Roles co ntrol Records.
Role Hierarchies in Our Recruiting App
Given the Univ ersal Co ntainers r ole hier archy that's pictur ed in the Univ ersal Co ntainers Role
Hierarchy image , let's think about ho w implementing this hier archy will open up cer tain kinds
of record-level per missio ns to var ious users of our Recr uiting app . Remember , since defining
our org-wide defaults,  our hir ing managers ar e curr ently allowed to o nly view all positio n, job
posting , and emplo yment website r ecords, and to vie w and update other r ecruiting r ecords that
they own.That doesn't make our app al l that useful.  However, once we implement our r ole
hierarchy, we'll auto matic ally grant se veral kinds of r ecord-level per missio ns to var ious users.
For example:
164Chapter 8:Securing and S haring Data
•The CEO , Cynthia Capobianco , will be able to vie w and update e very record that an yone
else in the organiz ation can vie w and update.
•The VP of De velopment,  Andrew Goldberg , will be able to vie w and update an y record
that his managers or his managers' emplo yees can vie w or update.
•The VP of Human Resour ces, Megan S mith,  will be able to vie w and update an y record
that P hil K atz, her r ecruiting manager , or Mar io Ruiz, Phil's r ecruiter, can vie w and update.
•The Recr uiting Manager , Phil K atz, will be able to vie w and update an y record that is
owned by Mar io Ruiz, his r ecruiter.
•The S oftware Development manager , Ben S tuart, will be able to vie w and update an y record
that is o wned by Melissa L ee,Tom Zales, or Cr aig Kingman,  his sof tware engineers.
•The dir ector of Q A, Clar k Kentman,  will be able to vie w and update an y record that is
owned by F lash S tevenson or Harr y Potter ham,  his Q A Engineers.
•The dir ector of P roduct Management,  Frank Linstr om, will be able to vie w and update
any record that is o wned by A my L ojack or A ndy Macr ola, his pr oduct managers.
As we c an see , the r ole hier archy is v ery powerful in opening up data for people high up in the
role hier archy tree! Ho wever, let's loo k at so me of the gaps that we stil l have in our r ecord-level
permissio ns:
•Megan S mith (and her whole r ecruiting team) wo n't be able to vie w any reviews that ar e
owned by members of A ndrew Goldberg's De velopment team bec ause she doesn't hav e a
direct line do wn to an y De velopment r oles in the r ole hier archy.
•Ben S tuart, the sof tware development manager , also wo n't be able to see an y reviews that
were written by members of the Q A or P roduct Management gr oups,  even if Q A engineers
or pr oduct managers inter viewed c andidates for a sof tware engineer ing positio n in his
group.
•Melissa L ee, a sof tware engineer , won't be able to see the r ecords for c andidates that she's
supposed to inter view.
Clear ly we'l l need to use other r ecord-level shar ing methods to open up data bet ween peers in
the same gr oup, and also bet ween gr oups that appear in diff erent br anches of the r ole hier archy
(we'l l get to those later in this c hapter).  However, the r ole hier archy does giv e us a g ood star t
toward opening up r ecord access,  so let's take a loo k now at ho w to define it.
Try It Out: Defining a Role Hierarchy
Implementing a r ole hier archy in the platfor m is easy o nce y ou hav e an idea of what the
hierarchy should loo k like.  It's best to just star t with y our co mpan y's org c hart and then
consolidate diff erent job titles into single r oles wher ever possible.  For example , if Ben S tuart's
software development gr oup has a staff sof tware engineer and a junior sof tware engineer , these
positio ns can be co nsolidated into a single S oftware Engineer r ole in the hier archy.
165Securing and S haring Data
Once that's al l squar ed awa y, we c an get star ted actual ly defining the r ole hier archy itself . For
our ex ercise, we'll go ahead and use the r ole hier archy that we talked about in the pr evious
sectio ns.
1.Click YourName➤Setup➤Manage U sers➤Roles . If you see an intr oductor y
splash page c alled Understanding Roles,  click Set Up Roles  at the botto m of the
page to skip to the actual tool.
Figure 59: Empty Role Hierarchy Page in Tree View Mode
The default vie w for this page is the tr ee vie w, as indic ated in the dr op-do wn list o n the far
right side of the Role Hier archy title bar .When cr eating a r ole hier archy, it's pr obabl y easiest
to stic k with this or the list vie w, because the y both make it easy to see ho w the r oles al l fit
together in the hier archy.The sor ted list vie w is best if y ou kno w the name of a r ole that y ou
want to find but ar en't sur e wher e it fits in the hier archy, or if y ou do n't want to c lick open al l
the tr ee nodes.  For our pur poses,  we'll stick with the tr ee vie w for no w.
When y ou first star t defining a r ole hier archy, the tr ee vie w displa ys a single placeholder node
with the name of y our organiz ation. From this point,  we need to add the name of the r ole that
is highest up in the hier archy—in our c ase, the CEO .
Note: If you're building y our Recr uiting app with a fr ee De veloper Editio n
organiz ation, you ma y hav e a role hier archy predefined as a sample. That's alr ight.
You can stil l follow alo ng and cr eate so me mor e roles.
2.Just under Univ ersal Co ntainers,  click Add Role .
3.In the RoleName  text bo x, enter CEO.
4.In the Thisrolereports to text bo x, click the loo kup ico n 
 and c lick Select
next to the name of y our organiz ation.
By choosing the name of the organiz ation in the Thisrolereports to text bo x, we're
indic ating that the CEO r ole is a top-le vel positio n in our r ole hier archy and doesn't r eport to
anyone.
166Chapter 8:Securing and S haring Data
5.In the RoleNameasdisplayed onreports  text bo x, enter CEO.This text
is used in r eports to indic ate the name of a r ole. Since y ou ma y not want a lo ng role
name , like Vice P resident of P roduct De velopment,  taking up too m uch space in
your r eport columns,  it's advisable to use a shor tened,  yet easil y identifiable ,
abbreviatio n.
6.Leave any other optio ns, such as Opportunity Access , set to their defaults. These
access optio ns do n't hav e anything to do with our Recr uiting app , and o nly appear
if you hav e the org-wide defaults for a standar d object set to a le vel mor e restrictive
than P ublic Read/W rite.
7.Click Save.
Figure 60: CEO Role Detail Page
Now that we'v e created our first r ole, we c an assign the appr opriate user to it.
8.In the CEO r ole detail page , click Assig n Users to Role .
9.In the Available Users  drop-do wn list,  select Al l Unassigned.
10.Choose a user fr om the list (in our c ase, Cynthia Capobianco),  and c lick Add to
move her to the Selected UsersforCEO list.
11.Click Save.
If we r eturn to the main Roles page by c licking YourName➤Setup➤Manage U sers➤
Roles , we c an no w see our ne w CEO r ole in the hier archy. Defining the r est of the r oles is
just an ex ercise that y ou can do o n your o wn accor ding to the Univ ersal Co ntainers Role
Hierarchy diagr am (If y ou do n't define the r ole hier archy, some of the tests that we talk about
later wo n't wor k as descr ibed.)
167Securing and S haring Data
Note:Ther e's no need to assign users to e very role at this point—we'l l do that later
when we test out our app .
Tip:To speed up the pr ocess of adding a ne w role, click Add Role  directly under the
name of the r ole to whic h the ne w role should r eport.When y ou do this,  the This
rolereports to text bo x is auto matic ally filled in with the name of the appr opriate
role.
Not too har d, right? With org-wide defaults and a r ole hier archy in place , we're actual ly pretty
close to finishing up our r ecord-level access per missio ns. All we hav e left to do is shar e
recruiting-r elated r ecords bet ween gr oups that appear in separ ate br anches of the r ole hier archy,
and bet ween peers in a single gr oup. Fortunatel y, we c an acco mplish both of those tasks with
a combinatio n of shar ing rules and manual shar ing.We just need to figur e out what's lef t that
needs to be shar ed, and with who m.
What's Left to be Shared?
So what is left to be shar ed? Af ter reviewing our table of r equir ed per missio ns, it tur ns out it's
just a f ew mor e things (r emember , since users al ways hav e access to the r ecords that the y own,
we need to worr y only about the r ead and update per missio ns for our r ecord-level access
settings):
•Recruiters need r ead and update access o n every positio n, candidate , job applic ation, and
review record that exists in the app .
•Hiring managers need:
-Read and update access o n positio n and job posting r ecords on whic h the y're the hir ing
manager
-Read access o n candidate r ecords for whic h the y're the hir ing manager
-Read and update access o n every job applic ation and r eview record
•Inter viewers need r ead access o n the c andidate and job applic ation records for people the y're
inter viewing , and the abilit y to update their r eviews.
That shouldn't be too har d! Let's g o do it.
Introducing Sharing Rules
First let's see what we c an do with shar ing rules. Sharing rules let us make auto matic ex ceptio ns
to org-wide defaults for par ticular gr oups of users. We've already defined se veral specific gr oups
168Chapter 8:Securing and S haring Data
with the r oles that we cr eated in the pr evious sectio n, but we c an also make up other gr oups
as needed.
The thing to r emember with shar ing rules is that,  like r ole hier archies, we c an use them o nly
to open up r ecord access to mor e users.  Sharing rules and r ole hier archies c an ne ver be str icter
than our org-wide default settings.
Sharing Rules in Our Recruiting App
Sharing rules wor k best when the y're defined for a par ticular gr oup of users that we c an
deter mine or pr edict in advance , rather than a set of users that is fr equentl y changing . For
example , in our Recr uiting app , we need to shar e every positio n, candidate , job applic ation,
and r eview with e very recruiter. Since r ecruiters al l belo ng to either the Recr uiting Manager
or Recr uiter r oles in the r ole hier archy, we c an easil y use a shar ing rule to shar e those objects
with the Recr uiting Manager r ole and its subor dinates.
Alter nativ ely, consider another use c ase fr om our Recr uiting app:  inter viewers need r ead access
on the c andidates and job applic ations for people the y're inter viewing . In this c ase, the set of
inter viewers is a lot har der to pr edict in advance—hir ing managers might use diff erent sets of
inter viewers depending o n the positio n for whic h the y're hiring, and the inter viewers might
come fr om diff erent gr oups in the r ole hier archy. As a r esult,  this use c ase pr obabl y shouldn't
be hand led with shar ing rules—the team of inter viewers for an y given manager is just too har d
to pr edict.
Let's g o thr ough the set of r equir ed per missio ns we stil l need to implement and pic k out the
ones that would wor k best with shar ing rules:
Should we use a shar ing r ule? Use Case
Yes. As we discussed pr eviousl y, it's easy to
pick out the gr oup of r ecruiters in our r ole
hierarchy.Recruiters need r ead and update access o n
every positio n, candidate , job applic ation, and
review record that exists in the app .
No. It's too har d to pr edict whic h positio ns
will be assigned to whic h hir ing manager .Hiring managers need r ead and update access
on positio n and job posting r ecords on whic h
they're the hir ing manager . We'll need to hand le this use c ase so me other
way.
No. Again,  it's too har d to pr edict whic h
positio ns wil l be assigned to whic h hir ing
manager .Hiring managers need r ead access o n
candidate r ecords on whic h the y're the hir ing
manager .
169Securing and S haring Data
Should we use a shar ing r ule? Use Case
Yes. Since we'r e not r estricting whic h job
applic ations and r eviews a hir ing manager getsHiring managers need r ead and update access
on every job applic ation and r eview record.
to read and update , we c an easil y pick out al l
of the hir ing managers fr om our r ole hier archy
and define a shar ing rule for them.
No. As we discussed pr eviousl y, it's har d to
predict who wil l be a member of an inter view
team for a par ticular positio n.Inter viewers need r ead access o n the c andidate
and job applic ation records for people the y're
inter viewing .
Great! N ow that we kno w the r equir ed per missio ns we want to implement with shar ing rules,
let's g o ahead and define them.
Try It Out: Defining a Public Group for Reviewers
Befor e we div e head first into cr eating our shar ing rules, we need to make sur e that we hav e
the appr opriate public gr oups set up . A public group is a col lectio n of individual users,  other
groups,  individual r oles, and/or r oles with their subor dinates that al l have a functio n in co mmo n.
For example , users with the Recr uiter pr ofile as wel l as users in the SW De v Manager r ole
both r eview job applic ations. Using a public gr oup when defining a shar ing rule makes the r ule
easier to cr eate and,  more impor tant, easier to understand later , especial ly if it's o ne of man y
sharing rules that y ou're trying to maintain in a large organiz ation.You'll need to cr eate a
public gr oup if y ou ever want to define a shar ing rule that enco mpasses mor e than o ne or t wo
groups or r oles, or an y individual.
Looking at the r equir ed per missio ns that we want to implement,  there are just t wo objects that
need a public gr oup for their shar ing rules: Job A pplic ation and Re view.The g ood ne ws is that
we can co ver these objects in a single gr oup bec ause the Re view object is o n the detail side of
a master-detail r elatio nship , so it inher its the shar ing settings we appl y to the Job A pplic ation
object.  Since both r ecruiters and hir ing managers need r ead and update access to job applic ations
and r eviews, let's g o ahead and make a public gr oup c alled Re viewers that enco mpasses r ecruiters
and hir ing managers.
1.Click YourName➤Setup➤Manage U sers➤Public Gr oups .
2.Click New.
170Chapter 8:Securing and S haring Data
Figure 61: New Public Group Page
The N ew Public Gr oup page al lows you to c hoose other public gr oups,  individual r oles,
individual r oles inc luding the r oles' subor dinates,  or individual users.
3.In the GroupName  text bo x, enter Reviewers .
4.In the Search  drop-do wn list,  choose Roles.
5.In the Available Members  list, select SW De velopment Manager , Director
Product Management,  and Dir ector Q A, then c lick Add.
6.Go bac k up to the Search  drop-do wn list,  and this time c hoose Role and
Subordinates.
7.In the Available Members  list, select Recr uiting Manager , and c lick Add.
8.Click Save.
Easy! N ow we'r e ready to define our shar ing rules.
Try It Out: Defining a Sharing Rule for Job Application and Review Records
Since we just defined our Re viewers public gr oup, let's g o use it to define our shar ing rule for
review records.
1.Click YourName➤Setup➤Secur ity Cont rols➤Sharing S ettings.
171Securing and S haring Data
Remember this page? We wer e last her e when we defined our org-wide defaults.
2.In the Managesharing settings for drop-do wn list,  choose Job A pplic ation.
Choosing an object in this dr op-do wn list al lows us to focus in o n the org-wide defaults and
sharing rules for a single object at a time r ather than loo king at al l of them in a lo ng page—a
really useful thing if y ou've got a large organiz ation with se veral custo m objects.
If you had c hosen Re view instead of Job A pplic ation, you would not hav e the optio n of cr eating
sharing rules, since y ou cannot cr eate shar ing rules for a detail r ecord in a master-detail
relatio nship . However, since y ou chose Job A pplic ation, a Sharing R ules r elated list appears.
We'll use that to cr eate the shar ing rules that wil l appl y to both the Job A pplic ation and the
Review objects.
3.In the S haring R ules ar ea, click New.
4.For the r ule type, make sur e Basedonrecordowner  is selected.
5.In the JobApplication: ownedbymembers of drop-do wn list,  select P ublic
Groups.
6.Next to that dr op-do wn list,  choose Entir e Organiz ation.
Just as we talked about alr eady, you can define a shar ing rule o nly for a single public gr oup,
role, or role with al l of its subor dinates.  By default,  the platfor m inc ludes a default public gr oup
that enco mpasses e very user in y our organiz ation.
7.In the Sharewith  drop-do wn list,  select P ublic Gr oups.
8.Next to that dr op-do wn list c hoose Re viewers.
9.In the AccessLevel  drop-do wn list,  select Read/W rite.
10.Click Save.
11.Click OK in the dialog bo x that sa ys this oper ation could take signific ant time.
And that's it! We've just cr eated a r ule that shar es reviews w ritten and o wned by an y member
of the organiz ation with al l recruiters and hir ing managers.  Since r eviewers and hir ing managers
all need the po wer to r ead and update r eviews, we hand led everyone with a single shar ing rule
and a public gr oup.
To finish up her e, go ahead and cr eate t wo mor e owner-based shar ing rules accor ding to the
following table:
172Chapter 8:Securing and S haring Data
Table 33: Addit ional S haring R ules
Access L evel Should be shar ed with... Owned b y... These
recor ds...
Read/W rite The r ole and subor dinates of
the Recr uiting ManagerThe r ole and subor dinates of
the Recr uiting ManagerCandidate
Read/W rite Reviewers The r ole and subor dinates of
the Recr uiting ManagerEmplo yment
Website
The shar ing rule for the Emplo yment Website object is necessar y to let hir ing managers post
jobs, even though the y will never be updating emplo yment website r ecords dir ectly (the org-wide
defaults wil l prevent that). Without the r ule, hiring managers c an see emplo yment website
records but c annot cr eate job postings. This is bec ause the Job P osting object is a junctio n
object (as y ou ma y recall from the last c hapter),  and the Emplo yment Website object is o ne
of the Job P osting object's t wo master-detail r elatio nships.  Sharing access to a junctio n object
record is deter mined by a user's shar ing access to both associated master r ecords (in this c ase,
the associated positio n and emplo yment website r ecords) and the S haring S etting optio n on
the relatio nship field.  For example , if the shar ing setting o n both par ents is Read/W rite, then
the user m ust hav e Read/W rite access to both par ents in or der to hav e Read/W rite access to
the junctio n object.
In the shar ing rule for the Emplo yment Website object,  we opted to use the existing Re viewers
public gr oup. Doing this sav ed us a f ew clicks without gr anting access to an y users who shouldn't
be loo king at emplo yment website r ecords.
Beyond the Basics
Did y ou kno w that y ou can use cr iteria-based shar ing rules to open up r ecord access to
users?
Say you want to shar e records based o n field values in r ecords instead of r ecord owners.
You can set up y our shar ing rules based o n field value cr iteria and appl y filter logic to
open up specific r ecord access to users.
To find out mor e, see “Criteria-Based S haring R ules O verview” in the Salesfor ce online
help.
173Securing and S haring Data
Introducing Manual Sharing
Now let's talk about what we hav e left to do to finish defining our shar ing model.  After
implementing our shar ing rules, the fol lowing r equir ed per missio ns remain:
•Hiring manag ers need r ead and updat e access on position r ecords on whic h the y're the hir ing
manag er.
•Hiring manag ers need r ead access on c andidat e records on whic h the y're the hir ing manag er.
•Interviewers need r ead access on the c andidat e and job a pplic ation r ecords for people the y're
interviewing .
We didn't implement those r equir ed per missio ns with shar ing rules bec ause it was too har d
for us to co me up with a co nsistent gr oup of users who would need access to a par ticular set
of records. Real ly, this is wher e the job of the r ecruiter co mes into pla y. A recruiter like Mar io
Ruiz o wns the positio n, candidate , and job applic ation records for jobs that he's tr ying to fil l,
and he also kno ws the hir ing manager and inter viewers who should be assigned to them.
Fortunatel y, we hav e one final t ype of r ecord-access setting that al lows Mar io to shar e specific
records with other specific users:  manual shar ing.With manual shar ing, Mar io can gr ant read
or read/w rite access o n records that he o wns to an y other user , role, or public gr oup. Although
it isn't auto mated like org-wide defaults,  role hier archies, or shar ing rules, manual shar ing giv es
Mario the flexibilit y to shar e par ticular r ecords with the e ver-changing gr oups of inter viewers
and hir ing managers with who m he has to deal e very day.
Try It Out: Defining a Manual Sharing Rule
Let's pr etend that we'r e a recruiter like Mar io and we need to shar e a par ticular c andidate
record that we o wn with another r ole, group, or user:
1.On the detail page for the c andidate , click Sharing.
Figure 62: Sharing Detail Page
174Chapter 8:Securing and S haring Data
Since we o wn this c andidate r ecord, we get to see details about who else c an see the r ecord
and wh y. If we didn't o wn this r ecord, there would be a message about not having sufficient
privileges.
Tip: If we wanted to vie w the names of eac h user who has access to the r ecord rather
than just the names of the r oles and public gr oups,  we could c lick Expand List  in this
page.  Although the oper ation can take so me time depending o n the number of users
in our organiz ation, it's helpful to deter mine whether we need to define a manual
sharing rule for a par ticular user or if he or she alr eady has access.
2.Click Add.
3.In the Search  drop-do wn list,  choose whether we want to manual ly shar e the r ecord
with a user , public gr oup, role, or role and subor dinates.
4.In the Currently NotShared  list, select the user , public gr oup, or role that
should hav e access to the r ecord, and c lick Add.
5.In the AccessLevel  drop-do wn list,  specify whether the user , public gr oup, or
role should hav e read or r ead/w rite access to the r ecord.
6.Click Save.
Not too har d! When we r oll out our Recr uiting app to users,  we'll hav e to tr ain our r ecruiters
to take these steps for the positio n, candidate , and job applic ation records that their hir ing
managers and inter viewers need to access.  Once this tr aining is co mplete , we wil l hav e
implemented al l of the r equir ed shar ing and secur ity settings that we discussed at the beginning
of the c hapter—wel l done!
Displaying Field Values and Page Layouts According
to Profiles
Befor e we giv e our secur ity and shar ing model a thor ough testing , let's le verage the wor k we'v e
done to fur ther enhance our app's usabilit y and,  at the same time , give our data integr ity a little
boost.
Both usabilit y and data integr ity are adv ersely affected by irr elevant data. The less irr elevant
data we displa y to users,  the better off e veryone wil l be. Not only can irr elevant data be co nfusing
and impede a user's efficienc y, but it also makes he or she mor e prone to enter ing incorr ect
values.  By taking awa y unnecessar y choices,  we r educe the r isk of making avoidable mistakes.
Although we'v e already put plent y of thought into our app's usabilit y, there's al ways room for
impr ovement. We won't go into a detailed usabilit y anal ysis her e, but let's make t wo minor
175Securing and S haring Data
modific ations to get a f eel for so me of the wa ys you can impr ove the usabilit y and data integr ity
of your apps in the futur e.
The modific ations we'r e going to make in volve positio n records. Curr ently, each positio n
record displa ys the same data to hir ing managers and r ecruiters,  even though ther e are a few
items o n the positio n record that ar e of no use to r ecruiters who cr eate positio ns for depar tments
other than De velopment.  For example , a recruiter who is cr eating a positio n for a S r. Financial
Analyst would hav e no use for the Requir ed Programming L anguages sectio n.
By the same to ken, there are some optio ns on positio n records that hav e nothing to do with
technical positio ns, such as the Human Resour ces and Warehousing values in the Functional
Area  picklist. Wouldn't it be nice if we could cr eate t wo types of positio n records: one with
IT-related data for I T managers,  and another for no n-IT perso nnel?
Fortunatel y, we c an with record types! Recor d types al low you to sho w diff erent pic klist values
and page la youts to diff erent users based o n their pr ofiles.
To addr ess the issues discussed abo ve, we'll create t wo positio n record types.The first positio n
record type wil l be for I T positio ns and wil l include the Requir ed Programming L anguages
sectio n of the page la yout. Additio nally, it wil l exclude al l of the optio ns in the Functional
Area  picklist ex cept for Infor matio n Technolog y and Miscel laneous. The seco nd positio n
record type wil l be for al l non-IT positio ns and wil l include al l of the Functional Area
picklist values ex cept for Infor matio n Technolog y, but wil l omit the Requir ed Programming
Languages sectio n.
We'll give Recr uiters the optio n of c hoosing either r ecord type when cr eating a positio n, since
recruiters at Univ ersal Co ntainers wor k with e very depar tment,  not just De velopment.  However,
since our hir ing managers al l wor k in the De velopment depar tment,  we'll restrict them to o nly
creating positio ns that use the r ecord type for I T positio ns.
Down the r oad, if you want to inc lude hir ing managers fr om other depar tments in y our
recruiting app , you can reconfigur e the r ecord types o n the P ositio n object to let al l hiring
managers c hoose whic h record type to use , or cr eate mor e profiles.  For no w, though,  let's use
our app the wa y it's curr ently set up , and focus our attentio n on lear ning r ecord types.
Try It Out: Creating Record Types
Let's star t by cr eating the positio n record type for standar d, non-IT positio ns.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Recor d Types related list,  click New.
176Chapter 8:Securing and S haring Data
4.In the RecordTypeLabel  field,  enter Standard Position .When y ou mo ve
your cursor , the value of the RecordTypeName  field c hanges to
Standard_Position .
5.In the Description  field,  enter Recordtypeforallnon-IT
positions .
6.Select the Active  checkbox.
The botto m of the scr een lists al l your pr ofiles.  Here is wher e we c an deter mine whic h profiles
have access to this r ecord type. All of them ar e selected by default,  but we do n't want hir ing
managers to use this r ecord type.
7.Deselect the Enable for P rofile checkbox next to Hir ing Manager .
8.Click Next.
9.Leave the Applyonelayouttoallprofiles  radio butto n selected,  and
select P ositio n Layout in the adjacent dr op-do wn list.
10.Click Save.
The S tandar d Positio n record type detail page appears. The page lists the pic klist fields found
on the r ecord type's associated page la yout, the P ositio n Layout.
11.Click Edit next to the Functional Area  field.
Since this is the r ecord type for al l non-IT positio ns, let's r emove Infor matio n Technolog y
from the Functional Area  picklist.
12.In the S elected Values bo x, select Infor matio n Technolog y and use the arr ows to
move it to the A vailable Values bo x.
13.Leave the Default  drop-do wn list set to N one, and c lick Save.
You're done cr eating y our first r ecord type, but it's not quite co nfigur ed the wa y we want it.
While it o mits the Infor matio n Technolog y value in the Functional Area  picklist,  it stil l
displa ys the Requir ed Programming L anguages sectio n.We'll fix this later when we modify
the page la youts for our r ecord types, but first we hav e to cr eate o ne mor e record type.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the Recor d Types related list,  click New.
4.In the RecordTypeLabel  field,  enter ITPosition .When y ou mo ve your
cursor , the value of the RecordTypeName  field c hanges to IT_Position .
5.In the Description  field,  enter RecordtypeforallITpositions .
6.Select the Active  checkbox.
177Securing and S haring Data
Once again,  the botto m of the scr een lists y our org's pr ofiles,  although this time the y are
deselected by default.  Let's make this the default r ecord type for the Hir ing Manager pr ofile.
We'll also enable the r ecord type for r ecruiters,  but we wo n't make it the default for them.
7.Next to Hir ing Manager , select the EnableforProfile  and MakeDefault
checkboxes.
8.Next to Recr uiter, select the EnableforProfile  checkbox.
9.Click Next.
We are again giv en the optio n to appl y diff erent la youts to diff erent pr ofiles. We still need to
create the page la yout for this r ecord type, though,  so we'l l have to appl y the page la youts later .
10.Leave the Applyonelayouttoallprofiles  radio butto n selected,  and
select P ositio n Layout in the adjacent dr op-do wn list.
11.Click Save.
The I T Positio n record type detail page appears.
12.Click Edit next to the Functional Area  field.
Since this is the r ecord type for al l IT positio ns, let's r emove all the optio ns from the
Functional Area  picklist ex cept for Infor matio n Technolog y and Miscel laneous.
13.Use the arr ows to mo ve the values until the A vailable Values bo x only contains
Infor matio n Technolog y and Miscel laneous.
14.In the Default  drop-do wn list,  select Infor matio n Technolog y.
15.Click Save.
Both r ecord types ar e now in place , and both ar e omitting the pic klist values the y're supposed
to omit. It's time to co nfigur e the page la youts for these r ecord types.
We'll need a separ ate page la yout for eac h record type. Lucky for us,  we alr eady hav e one page
layout for the P ositio n object (P ositio n Layout), so we just need to cr eate o ne mor e.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the P age L ayouts r elated list,  click New.
4.In the Existing PageLayout  drop-do wn list,  select P ositio n Layout.
Selecting the existing page la yout cr eates a copy o n whic h we c an base our ne w page la yout.
This sav es us fr om having to cr eate the la yout fr om scr atch.
5.In the PageLayoutName  field,  enter ITPosition Layout , and c lick Save.
178Chapter 8:Securing and S haring Data
We're done creating our ne w IT positio n page la yout. Now, let's edit both our ne w and or iginal
page la youts so the y displa y relevant data.  Since we'r e on the I T Positio n page la yout, we'll
start with that o ne.
This page la yout alr eady inc ludes the Requir ed Programming L anguages sectio n, so we do n't
need to add that;  however, we do want to add the RecordType  field to the page la yout so
users wil l instantl y be able to tel l what t ype of positio n record the y're editing .
6.Select the F ields c ategory in the palette , then dr ag the RecordType  field to just
below the LastModified By field.
7.Click Save.
Now, let's edit the P ositio n Layout page la yout.This is the la yout we'l l use for our S tandar d
Positio n record type, so we'l l want to r emove the Requir ed Programming L anguages sectio n.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the P age L ayouts r elated list,  click Edit next to P ositio n Layout.
4.Click the X (
 ) in the upper r ight cor ner of the Requir ed Programming L anguages
sectio n.
We'll want to add the RecordType  field to this page la yout as wel l.
5.Select the F ields c ategory in the palette , then dr ag the RecordType  field and dr ag
it to just belo w the LastModified By field.
6.Click Save.
We're on the v erge of finishing! Ther e's just o ne mor e easy task to co mplete:  assigning our
Positio n page la youts to our ne w record types.
Assigning page la youts is easy bec ause y ou can make al l of the assignments for an object o n a
single page.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In either the P age L ayouts r elated list or Recor d Types related list,  click Page La yout
Assig nment .
4.Click Edit Assig nment .
A table sho ws the P ositio n page la yout assignments for al l of the diff erent pr ofile and positio n
record type co mbinatio ns. In the table , you can select the pr ofile and positio n record type
combinatio ns you want to c hange.  Use SH IFT+click to select a r ange of cel ls or CTRL+c lick
to select m ultiple cel ls at o nce. Use the dr op-do wn list abo ve the table to indic ate the page
layout to whic h you want to r eassign y our selectio ns.
179Securing and S haring Data
5.Click the I T Positio n column heading .This selects al l of the values in the I T Positio n
record type column.
6.Select I T Positio n Layout in the PageLayoutToUse drop-do wn list.
7.Click Save.
Your r ecord types ar e good to g o!
Putting It All Together
Congratulatio ns! We've just implemented al l of our r equir ed secur ity and shar ing settings,  first
by defining object-le vel access with pr ofiles,  then by secur ing field-le vel access with field-le vel
secur ity, and final ly by defining r ecord-level access using org-wide defaults,  role hier archies,
sharing rules, and manual shar ing.
We lear ned about the diff erence bet ween object-,  field-,  and r ecord-level secur ity, and ho w
profiles and r oles wor k together to first deter mine the objects and tabs that a user c an possibl y
use, and then the specific r ecords that the user c an actual ly access and edit. We also lear ned
ways to set up other pr ofile-based f eatur es like r ecord types to impr ove both our data integr ity
and our app's usabilit y.
Let's no w try it out for oursel ves.To do so , we'll first hav e to define a number of users,  and
then we c an pla y around with cr eating r ecords and seeing who has access to what.
Try It Out: Creating Users for Our Recruiting App
To really put our Recr uiting app thr ough its paces,  we'll first need to define the fol lowing users
and assign a couple of them to so me of the r ecruiting r ecords that we impor ted ear lier.
Note: If you're implementing the Recr uiting app in a De veloper Editio n organiz ation,
you'll hav e only a few additio nal users to pla y with besides the S ystem A dministr ator
user.You can stil l try out al l of the use c ases that we descr ibe her e, but y ou'll hav e to
update the user's pr ofile and r ole for whate ver use c ase you're wor king o n.
Table 34: Recr uiting App U sers
Owner of Role Profile Title User's F irst
and Last
Name
Recruiting
ManagerRecruiter Recruiting
ManagerPhil K atz •DBA positio n
180Chapter 8:Securing and S haring Data
Owner of Role Profile Title User's F irst
and Last
Name
•Mary Jane , candidate for DB A
•Job A pplic ation linking the DB A
positio n with Mar y Jane
Recruiter Recruiter Senior
RecruiterMario Ruiz •Documentatio n Writer positio n
•George Sc hnell, candidate for
Documentatio n Writer
•Job A pplic ation linking the
Documentatio n Writer positio n
with George Sc hnell
SW De v
ManagerHiring
ManagerSoftware
Development
ManagerBen S tuart
SW
EngineerStandar d
Emplo yeeStaff
Software
EngineerMelissa L ee
Product
ManagerStandar d
Emplo yeeSenior
Product
ManagerAmy
Lojack•Review for the job applic ation
associated with the DB A positio n*
* You'll need to cr eate this r eview record bec ause it isn't par t of the sample impor t data.
Let's walk thr ough the cr eatio n of P hil K atz.Then y ou can finish the other four users o n your
own:
1.Click YourName➤Setup➤Manage U sers➤Users.
2.Click New U ser.
3.Fill out the fields in the U ser edit page accor ding to Recruiting A pp U sers.
Because we'r e defining this user to test the secur ity and shar ing settings of our app , enter a r eal
email addr ess that y ou hav e access to in the Email  field and then a “fake” email addr ess in the
Username  field (for example , phil.katz@r ecruiting .com).We'll use the “fake” value in the
Username  field to log in to the app as P hil K atz, but we'l l get P hil's auto matic ally gener ated
passwor d at the r eal email account that y ou specified. Without that passwor d, we'd ne ver be
181Securing and S haring Data
able to log in! (F or a r eal user , both Email  and Username  should gener ally hav e the same
value.)
Figure 63: New User Edit Page
Tip:When cr eating a ne w user , you ar e also r equir ed to cr eate the user's co mmunity
nickname. The co mmunity nic kname is used to identify the user in the Salesfor ce
CRM Ideas  app, whic h is a co mmunity of users who post,  vote for , and co mment o n
ideas.  Consider it an o nline suggestio n box that inc ludes discussio ns and popular ity
rankings for an y subject. The co mmunity nickname c an co ntain up to 40 alp hanumer ic
characters.  For mor e infor matio n, see the Salesfor ce online help .
4.Click Save.
Now that we'v e created the P hil K atz user , let's giv e him o wnership of the DB A positio n and
its associated job applic ation and c andidate r ecords.
5.Click the P ositio ns tab .
6.From the View  drop-do wn list,  select Al l and c lick Go.
Tip:If you want to see mor e than just the Position Title  field in this vie w, click
Edit next to the View  drop-do wn list and add additio nal fields in the S elect F ields to
Displa y sectio n.
7.Click DBA .
8.Next to the Owner  field,  click Change .
9.Click the loo kup ico n 
 and c hoose P hil K atz.
10.Click Save.
182Chapter 8:Securing and S haring Data
11.In the Job A pplic ations related list,  click the name of the listed job applic ation and
repeat S teps 8-10.
12.Click the ID of the associated c andidate o n the Job A pplic ation detail page and
repeat S teps 8-10.
All done! N ow create the other four users in Recruiting A pp U sers and assign them o wnership
of the indic ated r ecords.To fully complete this,  note that y ou'll hav e to cr eate A my L ojack's
review.
Try It Out: Verifying that Everything Works
Now that we'v e got data assigned to actual users,  let's g o thr ough our Recr uiting app and see
how the secur ity and shar ing per missio ns that we defined in this c hapter pla y out:
1.First log in as Mar io Ruiz—v erify that he c an see and edit both positio ns, all three
candidates,  all three job applic ations, and A my L ojack's review.Verify that the New
butto ns are ther e for al l recruiting objects. Verify that he c an cr eate positio ns using
either positio n record type.
2.Log in as Melissa L ee—v erify that she c an vie w positio ns but that ther e's no New
butto n.Verify that she c an't see an y candidates,  reviews, job applic ations, or
emplo yment websites.
3.Log in as Ben S tuart—verify that he c an vie w positio ns and that ther e's a New
butto n, but no r ecord type selectio n.Verify that he c an vie w but not edit emplo yment
websites. Verify that he c an't see an y candidates. Verify that he c an vie w job
applic ations, but not edit their loo kup fields. Verify that he c an vie w reviews and
that ther e's a New butto n. (What do r eviews loo k like? Can he see the names of the
candidates and job applic ations on them?)
4.Log in again as Mar io Ruiz—hav e him manual ly shar e read/w rite access o n the SW
Engineer positio n with Ben.  Hav e him manual ly shar e read access o n the c andidate
with Melissa and Ben.  Hav e him manual ly shar e read access o n the job applic ation
with Melissa and r ead/w rite access o n the job positio n with Ben.
5.Log in again as Melissa L ee—v erify that she c an no w see the c andidate and job
applic ation that Mar io just shar ed with her but that she c an't see the c andidate's
social secur ity number . Hav e her cr eate a r eview for that c andidate.
6.Log in again as Ben S tuart—verify that he c an edit the Jr . Software Engineer positio n.
Verify that he c an read and update Melissa's r eview.Verify that he c an update the
job applic ation to suggest that the y hire the c andidate.
How did we do? If al l of these use c ases wor ked corr ectly, you've just successful ly set up secur ity
and shar ing for our Recr uiting app! Ho wever, there is o ne cr itical secur ity-related issue that
183Securing and S haring Data
we hav e yet to addr ess: who wil l be r esponsible for o verseeing the oper ation of the Recr uiting
app and its r elated data when the app g oes liv e?
Delegating Data Administration
As with near ly all Force.co m apps,  our Recr uiting app does not r equir e tedious o ngoing
administr ation or a watc hful e ye mo nitor ing its dail y oper ation. Once the app is deplo yed, it
just wor ks! But fr om time to time , a decisio n or issue ar ises that r equir es human inter ventio n,
and so me basic manual administr ation is r equir ed, like:
•A hir ing manager is r etiring and has for ty open positio ns that need to be tr ansferred to
another manager
•A curr ent Recr uiting app user needs immediate access to pr ivate data o wned by another
user who happens to be o n vac ation
•Duplic ate records hav e piled up in the Recr uiting app and need to be r emoved
•A ne w emplo yee just g ot hir ed and needs access to the Recr uiting app
To hand le these situatio ns, someone might need to o verride the secur ity and shar ing
configur ations we just cr eated. Who should hav e suc h powers within our app , and ho w can
these po wers be gr anted?
Obviousl y, your co mpan y's pr imary Salesfor ce administr ator c an hand le just about an y issue
that users ma y encounter in Salesfor ce. Primary administr ators ar e assigned to the S ystem
Administr ator pr ofile, whic h auto matic ally grants se veral global administr ative per missio ns,
including:
•“View Al l Data ”—V iew all data o wned by other users in y our organiz ation
•“Modify Al l Data ”—Modify al l data o wned by other users in y our organiz ation, mass
update and mass delete r ecords, and undelete r ecords that other users deleted
•“Custo mize Applic ation”—Custo mize just about an ything in Salesfor ce, from page la youts
to the data model
•“Manage U sers”—A dd and r emove users,  reset passwor ds, assign pr ofiles,  and mor e
For smal ler co mpanies,  it makes sense to hav e a single administr ator be the “go-to” perso n for
all Salesfor ce issues.  But for medium to large co mpanies,  assigning al l Salesfor ce responsibilities
to one perso n is not pr actical, especial ly when y ou co nsider that a co mpan y can run its entir e
business in the c loud using a diff erent Force.co m app to suit eac h of its business needs. This
could add up to doz ens of apps and hundr eds or thousands of users! Your pr imary Salesfor ce
administr ator wil l likel y go insane unless other folks c an help with the administr ation. At the
same time , every administr ative privilege y ou gr ant incr eases the r isk of exposing y our co mpan y's
sensitiv e data,  so you need pr ecise co ntrol over the amount of access y ou enable.
184Chapter 8:Securing and S haring Data
To preserve both y our administr ator's sanit y and y our co mpan y's secur ity, the Force.co m
platfor m provides t wo wa ys to quic kly delegate r estricted data administr ation access:  object-le vel
permissio ns and delegated administr ation groups.
Overriding Sharing with Object-Level Permissions
Belie ve it or not,  we alr eady delegated a f ew administr ative responsibilities a f ew pages ag o
when we cr eated the Recr uiter pr ofile.  If you go bac k to that sectio n, you'll see that we selected
the “View Al l” and “Modify Al l' object-le vel per missio ns for job postings and emplo yment
websites.  As y ou might expect, “View All” lets users vie w all of the r ecords of that object,  while
“Modify Al l” lets users r ead, edit,  and delete al l of the r ecords of that object.  So how does
selecting these per missio ns diff er from just selecting the “Create,”“Read,” “Edit,”  and “Delete ”
profile per missio ns individual ly? And ho w do “View Al l” and “Modify Al l” help y ou delegate
administr ation?
The ke ywor d her e is “all.”When y ou select “View Al l” or “Modify Al l” next to an object o n a
profile edit page , you gr ant those users access to all records of that object r egardless of the
sharing and secur ity settings.  In essence , the “View Al l” and “Modify Al l” permissio ns ignor e
the shar ing model,  role hier archy, and shar ing rules that the “Create,”“Read,” “Edit,”  and
“Delete ” permissio ns respect.  Furthermore,“Modify Al l” also giv es a user the abilit y to mass
transfer, mass update , and mass delete r ecords of that specific object,  and appr ove suc h records
even if the user is not a designated appr over.These tasks ar e typically reserved for administr ators,
but bec ause “View Al l” and “Modify Al l” let us selectiv ely override the sy stem,  responsibilities
that ar e usual ly reserved for the administr ator c an be delegated to other users in a highl y
controlled fashio n.
Note:We'll lear n mor e about appr oving r ecords in the next c hapter . Other
administr ative actio ns, such as mass updates,  are covered in the Salesfor ce online help .
You ma y wonder if the “View Al l” and “Modify Al l” object-le vel per missio ns are similar to
the “View All Data ” and “Modify Al l Data ” global administr ation per missio ns discussed abo ve.
It is tr ue that the y all ignor e the shar ing model,  hierarchy, and shar ing rules, but bear in mind
that object-le vel per missio ns only appl y to r ecords of a specific object,  wher eas global
administr ation per missio ns appl y to r ecords of e very object in y our organiz ation. As a r ule of
thumb , when global administr ation per missio ns are too per missiv e for a par ticular pr ofile, use
the object-le vel per missio ns instead to co ntrol data access o n an object-by-object basis.
Tip:To quic kly see a list of the pr ofiles with per missio ns that o verride the shar ing
model,  click YourName➤Setup➤Secur ity Cont rols➤Sharing S ettings, then
select an object in the Manage shar ing sett ings for  drop do wn list. The page displa ys
185Securing and S haring Data
a Sharing O verrides r elated list that sho ws the pr ofiles that c an access the object,  as
well as the global and object-le vel per missio ns that ar e enabling the access.
Because we alr eady applied object-le vel per missio ns when we cr eated the Recr uiter pr ofile,
there's no need to walk thr ough the pr ocess again her e; however, you can pr obabl y imagine
other wa ys in whic h the “View All” and “Modify Al l” permissio ns might be useful for this app .
For example , as we discussed befor e, certain laws ma y requir e your co mpan y to keep al l positio n,
candidate , and job applic ation records for a specific amount of time. This law is wh y we opted
not to giv e recruiters the abilit y to delete those r ecords.When that legal time limit expir es,
though,  your co mpan y ma y want to hir e a co ntractor who specializ es in data c leansing to
remove old r ecruiting data fr om the sy stem.  By cr eating a pr ofile with the “Modify Al l”
object-le vel per missio n on positio ns, candidates,  and job applic ations, you can quic kly give the
contractor the per missio ns needed to get the job do ne without exposing the r est of y our
compan y's data.
Delegated Administration Groups
We just saw ho w the “View Al l” and “Modify Al l” object-le vel per missio ns can be used to take
a consider able load off of the pr imary administr ator's shoulders;  however, there are still a few
other administr ative responsibilities that y ou might want to delegate but c an't with object-le vel
permissio ns. For example , you might not want to bur den the pr imary administr ator with the
tasks of manual ly adding e very new emplo yee to Salesfor ce or resetting a user's passwor d every
time it's forg otten.  Also , as time passes,  your co mpan y ma y need a ne w field or t wo added to
review records, or a ne w record type for positio ns. Sometimes,  it's mor e efficient to delegate
basic administr ative tasks like these to members of a gr oup so the pr imary administr ator c an
focus o n other things.
A delegated administ ration g roup is a gr oup of no n-administr ator users with limited administr ative
privileges. These pr ivileges c an inc lude:
•Creating and editing users and r esetting passwor ds for users in specified r oles and al l
subor dinate r oles
•Assigning users to specified pr ofiles
•Logging in as a user who has gr anted login access to an administr ator
•Managing custo m objects cr eated by the pr imary administr ator
Let's define a delegated administr ation group in our Recr uiting app that enables its members
to manage our Recr uiting app's users and make adjustments to the app's custo m objects without
having access to al l of the other data in Salesfor ce.
186Chapter 8:Securing and S haring Data
Try It Out: Defining the Recruiting Manager Administration Group
We'll star t by cr eating the delegated administr ation group:
1.Click YourName➤Setup➤Secur ity Cont rols➤Deleg ated Administ ration.
2.Click New.
3.In the Delegated GroupName  text bo x, enter Recruiting AppAdmins .
4.Select the EnableGroupforLoginAccess  checkbox.
The EnableGroupforLoginAccess  optio n allows the delegated administr ators in
this gr oup to log in as a user who has explicitl y granted login access to administr ators for a
specific per iod of time. This c an be useful for tr oubleshooting pr oblems that might ar ise for
the user .
5.Click Save.
The Delegated Gr oup detail page appears. We can use the Delegated A dministr ators r elated
list to specify the users to inc lude in this gr oup.
6.Click Add in the Delegated A dministr ators r elated list.
7.In the first empt y text bo x, enter PhilKatz , the Recr uiting Manager at Univ ersal
Containers.
Note: Members of delegated administr ator gr oups m ust be assigned to a
profile that has the “View Setup and Co nfigur ation” permissio n.
Each delegated administr ation group c an hav e up to fiv e members,  but we'r e only going to
include our Recr uiting Manager in this gr oup, due to the focus of our app .
8.Click Save.
We're bac k on the Delegated Gr oup detail page. The U ser A dministr ation related list lets us
specify the kinds of users this gr oup c an manage.
9.Click Add in the U ser A dministr ation related list.
Instead of selecting individual users to manage , we'll select them by their r oles. For eac h role
we select,  its subor dinate r oles ar e auto matic ally selected too . (Flip bac k to the Univ ersal
Containers r ole hier archy on page 163 if you can't r emember whic h roles ar e subor dinate.) We
don't want to let members of this gr oup administer the Salesfor ce accounts of ex ecutiv es at
Univ ersal Co ntainers,  but the gr oup should be able to administer the Recr uiting app for
recruiters,  directors,  managers,  and their subor dinates.
187Securing and S haring Data
10.In the first empt y text bo x, enter Recruiter .
11.In the seco nd text bo x, enter Director Product Management .
12.In the thir d text bo x, enter Director QA.
13.In the four th text bo x, enter SWDevManager .
14.Click Save.
The Assignable P rofiles r elated list lets us specify the pr ofiles this gr oup c an assign to the users
they manage.  Note that delegated administr ators c annot modify these pr ofiles;  they can only
assign users to them.
15.Click Add in the Assignable P rofiles r elated list.
16.In the first empt y text bo x, enter Recruiter .
17.In the seco nd text bo x, enter HiringManager .
18.In the thir d text bo x, enter Standard Employee .
19.Click Save.
The Custo m Object A dministr ation related list lets us specify the custo m objects that delegated
administr ators of this gr oup c an administer .The delegated administr ators c an manage just
about e very aspect of the custo m object,  such as modify ing page la youts, adding fields,  and
even deleting the object;  however, they cannot set per missio ns for the custo m object o n profiles,
manage wor kflow and shar ing for the object,  and modify r elatio nships to other objects.
20.Click Add in the Custo m O bject A dministr ation related list.
Let's giv e the members of this delegated administr ator gr oup (in this c ase, Phil) the abilit y to
modify the P ositio n object. That wa y, if positio n records need another field or hir ing managers
request another r ecord type in the futur e, Phil can hand le it. (Of course , we'll also want to
warn Phil that he should be c areful not to delete the P ositio n object altogether—custo m object
administr ative rights giv e him that po wer as wel l!)
21.In the first empt y text bo x, enter Position .
22.Click Save.
That w raps up the co nfigur ation of our delegated administr ation group! O ur Recr uiting app
now has a delegated administr ator who c an pr ovide our pr imary Salesfor ce administr ator with
some relief.
Try It Out: Verifying that Delegated Administration Works
To see what a delegated Recr uiting A pp administr ator c an and c an't do , log in as P hil K atz.
1.Click YourName➤Setup➤Manage U sers➤Users.
188Chapter 8:Securing and S haring Data
Notice that the Edit link appears next to an y user assigned to a r ole or subor dinate r ole for
whic h our delegate administr ator gr oup c an manage users. The Edit link does not appear to
users assigned to other r oles, such as Cy nthia Capobianco , the CEO .
You'll also see the New U ser,Reset P asswor d(s), and Add Mult iple U ser(s)  butto ns are now
available to P hil. Let's see what happens if P hil adds a ne w user .
2.Click New U ser.
The U ser Edit page appears.  At first glance , this page loo ks just like the U ser Edit page we
saw when we added users while logged in as the sy stem administr ator. If you loo k closely at
the optio ns available in the Role  and Profile  drop-do wn lists,  though,  you'll notice a
difference—the optio ns are limited to what we specified when we cr eated our delegated
administr ation group. For example , Phil can't cr eate a user with an ex ecutiv e role, nor c an he
assign a user to an y profile other than Recr uiter, Hiring Manager , or S tandar d Emplo yee.
We don't need to cr eate an y mor e users r ight no w, so just c lick Cancel .
The last thing to v erify is P hil's abilit y to modify the P ositio n object.
3.Click YourName➤Setup➤Create➤Objects .
We see that the Edit and Del links ar e available next to the P ositio n object. This means that
Phil no w has the abilit y to both edit and delete the P ositio n object.  Our testing is co mplete!
Beyond the Basics
Did y ou kno w that y ou can set up single sign-o n bet ween y our organiz ation and other
author ized Web resour ces?
Say you want y our emplo yees to o nly hav e to r emember o ne passwor d when the y sign o n
to the r ecruiting app , as wel l as y our co mpan y website. You can wor k with an identit y
provider , exchange infor matio n with them,  then co nfigur e Salesfor ce for single sign-o n.
To find out mor e, see “About S ingle S ign-o n” in the Salesfor ce online help .
189Securing and S haring Data
Summing Up
This c hapter has co vered quite a bit of gr ound! We discussed the diff erences bet ween object-,
field-,  and r ecord-level secur ity.We lear ned ho w profiles and r oles wor k together to first
deter mine the objects and tabs that a user c an possibl y use , and then the specific r ecords that
the user c an actual ly access and edit. We also disco vered wa ys to set up other pr ofile-based
featur es like r ecord types to impr ove both our data integr ity and our app's usabilit y. Finally,
we tested e verything , and delegated the administr ation of our Recr uiting app in an efficient
and secur e way. Now that we'v e got secur ity squar ed awa y, let's g o incor porate so me business
logic into our app with wor kflow rules.
190Chapter 8:Securing and S haring Data
Chapter 9
Collaborating with Chatter
In the last c hapter , we established a secur ity and shar ing
model to deter mine who gets to see whic h data in theIn this c hapter ...
•Introducing Chatter expanded Recr uiting app .We've seen ho w easy it is to
•Tracking F ields o n Your
Custo m O bjectsrestrict access to fields and r ecords using the Force.co m
platfor m. Now that our applic ation is secur e, let's make it
easier for r ecruiters,  inter viewers,  and hir ing managers to •Following Recor ds
collabor ate o n the hir ing pr ocess.  By using Chatter , we•Summing Upprovide them a fun,  fast, and eff ective way to get and shar e
infor matio n.
In this c hapter , we'll intr oduce so me of Chatter 's basic
featur es—like f eed tr acking and fol lowing r ecords—and
show ho w Chatter  makes col labor ation a piece of c ake.
191
Introducing Chatter
Chatter  makes y our app col labor ative like ne ver befor e. Once y ou enable Chatter  for y our
organiz ation, you can tur n on feeds for most standar d objects and al l custo m objects,  allowing
you to see r eal-time updates whene ver an ything c hanges.  Users c an post to f eeds,  comment
on other posts,  share files and links,  work together o n documents,  and mor e.With feed tr acking,
when a value c hanges for cer tain fields, Chatter  posts an update to the f eed, instantl y aler ting
everyone fol lowing that r ecord.With @mentio ns, users c an mentio n a perso n's name to make
sure that perso n sees their update.  And with hashtags,  users c an add topics to posts and
comments so other people c an find their updates mor e easil y.
Chatter  users also hav e their o wn feeds,  wher e the y can post status updates and see updates
from the people and r ecords the y're following . Users c an also get together to for m public or
private gr oups for mor e focused col labor ation.Chatter  makes it easy to co nnect with the people
and infor matio n you care about most.
For mor e infor matio n, see the “Chatter O verview” topic in the Salesfor ce online help .
Try It Out: Enabling Feed Tracking on Positions and Job Applications
The r ecruiters at Univ ersal Co ntainers ma y want to kno w when a positio n's status or loc ation
changes.  Hiring managers ma y want to kno w when a job applic ation is submitted.  Let's tr ack
these fields for them in Chatter .
To enable Chatter  for y our organiz ation:
1.Click YourName➤Setup➤Customiz e➤Chatter➤Settings.
2.Click Edit.
3.Select the Enable  checkbox.
4.Click Save.
192Chapter 9:Collabor ating with Chatter
Figure 64: Chatter Settings Dialog
Now, let's tr ack changes to the Status  and Location  fields for positio ns:
1.Click YourName➤Setup➤Customiz e➤Chatter➤Feed Tracking.
2.Select the P ositio n object.
3.Select the EnableFeedTracking  checkbox.
4.Select the Status  and Location  fields.  If either of these fields c hanges for a
positio n, that positio n's feed wil l be updated,  alerting the r ecruiters fol lowing it.
5.Click Save.
193Collabor ating with Chatter
Figure 65: Chatter Feed Tracking for Positions
Similar ly, the hir ing manager wants to be notified when a Job A pplic ation's Status  changes.
Let's tr ack that field:
1.Click YourName➤Setup➤Customiz e➤Chatter➤Feed Tracking.
2.Select the Job A pplic ation object.
3.Select the Status  field. When the value c hanges—fr om New to Re view Resume ,
say—the Job A pplic ation feed is updated,  and hir ing managers fol lowing that
applic ation are notified.
4.Click Save.
Look at What We've Done
We chose to tr ack updates to the Status  and Location  fields o n the P ositio n object.  If
people want to see field updates for a positio n, they can vie w the f eed o n that r ecord's detail
page.  For example , when the r ecruiter helping to staff the Technical Public ations depar tment
looks at the Documentatio n Writer r ecord, she'l l see that the loc ation has c hanged to S an
Francisco , CA.
194Chapter 9:Collabor ating with Chatter
Figure 66: Chatter Location Field Update in a Position Feed
Feed tr acking is gr eat, but who wants to keep g oing to the r ecord detail page to see updates?
Next, we'll show ho w easy it is to fol low records, whic h brings the updates to y ou.
Tracking Fields on Your Custom Objects
Chatter  can track field updates for most objects,  including custo m objects,  and auto matic ally
push that infor matio n to the r ecord's feed. Simply enable f eed tr acking o n an object,  then
choose the fields to tr ack.
Following Records
Chatter  lets y ou fol low just the users,  groups,  documents,  and r ecords that y ou're inter ested
in. Updates o n the people and infor matio n you care about ar e posted to y our perso nal feed.
You can also enable email aler ts for actio ns, like so meone co mmenting o n your post,  as wel l
as get dail y or weekl y digests for y our o wn, as wel l as gr oup f eeds.
Try It Out: Following a Job Application Record
For our Recr uiting app , we kno w that hir ing managers want to keep tr ack of job applic ations
for their open positio ns. All they hav e to do is fol low those r ecords.
To try it y ourself , just open the detail page for a job applic ation and c lick Follow. It's that
simple!
195Collabor ating with Chatter
Figure 67: Following a Job Application Record
All tracked field updates,  as wel l as other users' posts and co mments o n the r ecords you're
following , are posted to y our perso nal feed. Use Chatter  to co nnect the r ight people to the
right r ecords, and star t collabor ating in r eal time o n the hir ing pr ocess.
Beyond the Basics
Did y ou kno w you can use Chatter  to col labor ate outside of y our br owser?
Say you want to keep an e ye on Chatter  updates,  but y ou can't log in thr ough a br owser.
For example , maybe you're at the air port with y our cel l phone but do n’t hav e a laptop , or
perhaps y ou're creating a slide dec k on your laptop and ther e's not enough scr een r oom
for your br owser. In these c ases, it helps to hav e a Chatter  client app instal led.
Chatter  client apps let y ou access Chatter  data thr ough mediums other than a Web
browser. For example , the Chatter  mobile app lets y ou access Chatter  from your iP hone,
iPad, iTouch, Blac kberr y, or A ndroid de vice. Download it for fr ee from the A pple A pp
Store, Blac kBerr y App World, or A ndroid Mar ket.
Professionals who use Chatter  extensiv ely should also do wnload Chatter Desktop —a
Chatter  client app that integr ates y our co mputer with Chatter .Chatter Desktop  makes
196Chapter 9:Collabor ating with Chatter
collabor ation easier than e ver.Want aler ts when people y ou're following post so mething
new? Just instal l Chatter Desktop  and watc h it displa y pop-up notific ations for eac h
update.  Need to shar e a file with y our co workers? Just dr ag it to the Chatter Desktop
interface.
To instal l Chatter Desktop , simpl y log in to Salesfor ce and c lick YourName➤Setup
➤Desktop Integ ration➤Chatter Desktop .
Summing Up
We've added Chatter  right into our Recr uiting app , but we'v e bar ely scratched the sur face.
With Chatter , you can giv e your users the po wer to sta y on top of e verything that's happening
in your co mpan y. And bec ause it's par t of the Force.co m platfor m, you can incor porate real-time
feed updates,  user pr ofiles,  groups,  and mor e into al l of y our custo m applic ations.
If you dig a little fur ther, you can lear n how to pr ogramatic ally add posts and co mments,  add
feeds to custo m pages,  and e ven expose Chatter  actio ns for integr ation with exter nal sy stems.
These advanced subjects ar e beyond the scope of this boo k, but y ou can find out mor e on the
Chatter  Developer Resour ce page at developer.force.com/chatter .
197Collabor ating with Chatter

Chapter 10
Using Custom Workflow and Approval
Processes
Robust applic ation? Chec k. Secure data access? Chec k. Fast,
fun, and col labor ative? Chec k! Our hir ing team at Univ ersalIn this c hapter ...
•Introducing Workflow Containers has ne ver been mor e productiv e.The last c hapter
•Workflow in O ur
Recruiting A ppdemo nstrated ho w easy it is to col labor ate in r eal time with
Chatter . Now it's time to find wa ys to make our app mor e
powerful. •Creating Workflow Rules
That Assign TasksUp to this point,  we'v e created little mor e than a glor ified
database—it holds the infor matio n we need and lets us•Creating a Workflow Rule
That Updates F ieldssearch for r ecords based o n var ious cr iteria, but it doesn't
•Creating a Workflow Rule
That S ends Email Aler tshelp our r ecruiters and hir ing managers do their jobs mor e
effectively.Ther e's no auto matio n that lets a r ecruiter kno w
when the status of a c andidate has c hanged or when a ne w •Introducing A pprovals
positio n has been enter ed into the sy stem. Chatter  will let •Summing Up
them kno w about the r ecords the y're following , but we want
to build auto matio n into our app to keep the pr ocesses
moving for ward.
Once again,  the Force.co m platfor m helps us out with mor e
built-in functio nality. In this c ase, the tools that we'l l use to
solve our pr ocess auto matio n problem ar e called workflow
and approval pr ocesses .We'll take a loo k at the var ious wa ys
that we c an use wor kflow first,  and then we'l l tackle an
approval pr ocess at the end of the c hapter .
199
Introducing Workflow
Workflow is a Force.co m platfor m business-logic engine that al lows us to auto matic ally send
email aler ts, assign tasks,  or update field values based o n rules that we define.  Any time that
changes to a r ecord meet the co nditio ns in a wor kflow rule, the platfor m auto matic ally performs
any actio ns associated with the r ule.
For example , let's sa y Ben S tuart, a sof tware development manager , has decided to extend an
offer to Ethan Tran, a bright y oung c andidate who's inter ested in the Jr . Software Engineer
positio n. At Univ ersal Co ntainers,  it's a r ecruiter's job to extend off ers, but in this c ase, Mar io
Ruiz, the r ecruiter r esponsible for the Jr . Software Engineer positio n, doesn't kno w whether
or not Ben has made a decisio n unless Ben emails or c alls him dir ectly.
Instead of r elying o n Ben to r emember to tel l Mar io, we c an set up a simple wor kflow that
triggers the assignment of the appr opriate task whene ver the status o n a job applic ation record
is set to Extend an Off er or Rejected.  As soo n as Ben c hanges the status of the c andidate's job
applic ation, workflow creates the appr opriate task and sends Mar io a notific ation email,  as
shown in the fol lowing diagr am.
Figure 68: Automatically Assigning a Task to a Recruiter Using Workflow
Pretty powerful, isn't it? In gener al, if we c an co me up with a standar d rule that specifies when
a particular e vent should happen,  we can make it happen auto matic ally with wor kflow.Workflow
200Chapter 10:Using Custo m Workflow and A pproval P rocesses
is one of the secr et ingr edients that's g oing to tr ansfor m our Recr uiting app fr om a glor ified
database into a ful ly functio nal tool that e veryone finds useful.
Now that we'v e got a gener al idea of what wor kflow's al l about,  let's take a c loser loo k at the
individual co mponents that make up wor kflow: rules, tasks,  field updates,  and aler ts.
Introducing Workflow Rules
In gener al, a workflow r ule is the main co ntainer for a set of wor kflow instr uctio ns. It inc ludes
the cr iteria for when the wor kflow should be activated,  as wel l as the par ticular tasks,  alerts,
and field updates that should take place when the cr iteria for that r ule ar e met.
Every wor kflow rule m ust be based o n a single object y ou choose when y ou define the r ule.
This object influences the fields that ar e available for setting wor kflow activatio n criteria.
For example , if we define a wor kflow rule for the Job A pplic ation object,  we'll be able to set
workflow activatio n criteria based o n the values of fields like JobApplication Number
and Status .We can also set wor kflow activatio n criteria based o n standar d fields,  like Record
Owner  or Created Date , as wel l as fields based o n the curr ently activ e user when a r ule is
evaluated,  such as their Role  or TimeZone .
We'll look at al l the wa ys that we c an set wor kflow activatio n criteria when we get to building
our o wn wor kflow rules a little later . For no w, just understand that the platfor m makes it v ery
easy to cr eate detailed wor kflow rules that target specific situatio ns.
Introducing Workflow Actions: Tasks, Field Updates, and Alerts
When a wor kflow rule is tr igger ed, the fol lowing t ypes of actio ns can occur:
Workflo w Tasks
A workflow t ask assigns a task to a user accor ding to a par ticular template.
Just as in Micr osoft Outloo k, tasks inc lude infor matio n about so mething
that needs to be do ne by a cer tain time , such as making a telep hone call
or returning a libr ary boo k. Assigned tasks appear in a user's My Tasks
related list o n their Ho me tab and gener ate reminder messages that pop
up when a user logs in.
When we define a wor kflow task,  we pr ovide default values for the
Assignee ,Subject ,Status ,Priority , and DueDate  fields for
tasks that ar e gener ated by an associated wor kflow rule.We can also make
sure that a notific ation email is sent to the assignee when a task is
automatic ally gener ated.
201Using Custo m Workflow and A pproval P rocesses
Workflo w F ield Updates
A workflow fie ld updat e changes the value of a par ticular field o n the r ecord
that initial ly trigger ed the wor kflow rule.
Workflo w Email Aler ts
A workflow email ale rt sends an email accor ding to a specified email
template.  Unlike wor kflow tasks,  whic h can only be assigned to users of
the app , workflow aler ts can be sent to an y user or co ntact,  as lo ng as the y
have a valid email addr ess.
Note:A four th type of actio n, a workflow outbound messag e, sends data to an exter nal
Web ser vice, such as another applic ation in the c loud.  Outbound messages ar e used
primarily with applic ation programming inter faces,  so we wo n't be using them in this
chapter .
A wor kflow rule can inc lude an y combinatio n of these actio ns when the r ule is tr igger ed. For
example , one rule might send out an aler t and update t wo fields o n a par ticular r ecord.The
actio n that o ne wor kflow rule takes c an also tr igger the ex ecutio n of another wor kflow rule.
Workflow in Our Recruiting App
Now that we'v e oriented oursel ves to the diff erent co mponents in volved with wor kflow, let's
take a loo k at our Recr uiting app and see ho w we c an use wor kflow to help us build out the
requir ements that we talked about in About the S ample Recr uiting A pp on page 17.Then
we'll spend time implementing the r ules that we co me up with her e.
We've already talked about o ne instance wher e wor kflow wil l give us a big advantage:
automatic ally assigning a task to a r ecruiter when the status of a job applic ation record changes
to Reject or Extend an Off er.This wil l be a gr eat star t, but what else c an we do?
If we loo k bac k at our last c hapter o n secur ity and shar ing, recall that we wanted to gr ant both
recruiters and hir ing managers per missio n to cr eate ne w positio ns, but that ultimatel y we al ways
wanted a r ecruiter to o wn those r ecords bec ause fil ling them is the r ecruiter's job r esponsibilit y.
We hinted in the secur ity and shar ing c hapter that we could acco mplish this with wor kflow,
and indeed we c an! We'll simpl y need to use a wor kflow field update to c hange the r ecord
owner of a positio n record to a r ecruiter if it was or iginal ly created by a hir ing manager .To
prevent a single r ecruiter fr om getting o verloaded with al l these additio nal positio ns, we'll also
use another platfor m featur e,queues , to div vy up the or phaned positio n records fair ly.We'll
place the r ecord in a queue of other positio n records without o wners,  and then let individual
recruiters c laim the positio ns the y want.
202Chapter 10:Using Custo m Workflow and A pproval P rocesses
For a thir d way of using wor kflow, let's think about ho w positio n availabilit y is adv ertised
throughout Univ ersal Co ntainers.  Like man y organiz ations, Univ ersal Co ntainers pr efers to
fill positio ns with emplo yee referrals, but emplo yees of ten ar en't awar e of whic h positio ns are
currently open. We can use a wor kflow aler t to auto matic ally send email to e very emplo yee
whene ver a ne w positio n opens up .This wa y emplo yees lear n about positio ns as the y beco me
available and c an immediatel y think of fr iends and famil y members who might be inter ested.
Sound g ood? While ther e are probabl y man y mor e ways to use wor kflow to build a kil ler
on-demand Recr uiting app in the c loud,  let's stic k with these thr ee for no w since the y'll give
us a g ood example of eac h of the thr ee types of wor kflow actio ns that ar e available. To
summar ize what we'l l be building:
1.A wor kflow task that assigns a task to a r ecruiter when the status of a job applic ation
changes to Rejected or Extend an Off er
2.A wor kflow field update that r eassigns o wnership of a positio n that's cr eated by a
hiring manager to a queue of positio n records without o wners,  so that individual
recruiters c an claim o wnership of the positio ns the y want
3.A wor kflow aler t that sends an email to e very emplo yee when a ne w positio n is
created
Now let's get star ted!
Creating Workflow Rules That Assign Tasks
For our first use of wor kflow, we want to cr eate t wo rules: one that assigns a “Send Rejectio n
Letter ” task to the r elevant r ecruiter whene ver the Status  field of a job applic ation record is
set to Rejected,  and o ne that assigns an “Extend Off er” task to the r elevant r ecruiter whene ver
the Status  field of a job applic ation record is set to “Extend an Off er.” Let's star t with the
“Send Rejectio n Letter ” workflow rule.
Try It Out: Creating the “Send Rejection Letter” Workflow Rule
To make this r ule entir ely functio nal, we'll need to define both a wor kflow rule, whic h specifies
the cr iteria for when the r ule should be ex ecuted,  and a wor kflow task that inc ludes the “Send
Rejectio n Letter ” task template.  Although we c an define wor kflow components in an y order,
let's star t with defining the wor kflow rule itself . It'll save us a couple of c licks a little later when
we define the r ule's associated wor kflow task.
1.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Workflo w
Rules.
203Using Custo m Workflow and A pproval P rocesses
2.If you see an intr oductor y splash page , simpl y click Cont inue.
3.Click New R ule.
The first thing we need to do is select the object that wil l be associated with our wor kflow rule.
As we talked about ear lier, every wor kflow rule m ust be associated with a single object to
deter mine the fields that we c an use to set cr iteria. Since we need to tr igger this wor kflow rule
when the Status  field of a job applic ation record is set to “Reject,”  we need to select Job
Applic ation her e:
4.In the S elect object dr op-do wn list,  choose Job A pplic ation, and c lick Next.
Now it's time to set our wor kflow rule details:
5.In the RuleName  text bo x, enter SendRejection Letter .
6.In the Description  text bo x, enter Sendarejection letterwhena
hiringmanager changes thestatusofajobapplication to
Rejected .
Now use the Evaluatio n Criteria area to specify when this r ule should be e valuated. We can
choose Whenarecordiscreated, orwhenarecordiseditedanddid
notpreviously meettherulecriteria  (whic h repeated ly triggers the r ule every
time a r ecord is sav ed only until the r ule's cr iteria are met),Onlywhenarecordis
created  (whic h ignor es updates to existing r ecords), or Everytimearecordis
created oredited  (whic h repeated ly triggers the r ule every time the r ecord is sav ed).
Since we do n't want to assign duplic ate tasks to a r ecruiter e very time the r ecord is sav ed, we'll
choose the first optio n.
7.Under “Evaluate r ule,” select Whenarecordiscreated, orwhena
recordiseditedanddidnotpreviously meettherulecriteria .
To finish up defining the r ule, we need to specify the co nditio ns that wil l trigger ex ecutio n of
the rule's associated actio ns.We can do this by defining a set of cr iteria that tr igger the wor kflow
rule when met,  or we c an cr eate a for mula that tr iggers the wor kflow rule if it e valuates to
True.While cr eating a for mula pr ovides mor e flexibilit y, setting the cr iteria is easier . For this
rule, we c an ac hieve our objectiv e by setting the cr iteria, so let's do that.
Every wor kflow rule requir es at least o ne row of filter cr iteria, but we c an set as man y filters
as we want using additio nal rows.
8.In the first r ow of R ule Cr iteria filters:
•Set the Field  column to Status .
•Set the Operator  column to equals .
•Set the Value  column to Rejected .
204Chapter 10:Using Custo m Workflow and A pproval P rocesses
9.Click Save & N ext.
Figure 69: Creating a New Workflow Rule
At this point,  we'v e just defined our “Send Rejectio n Letter ” workflow rule. If we c anceled out
of the wor kflow wiz ard and c licked YourName➤Setup➤Create➤Workflo w &
Appr ovals➤Workflo w R ules, we'd see it in the list vie w. However, because wor kflow rules
aren't al l that useful without an associated actio n, the wor kflow wiz ard takes us dir ectly to a
screen wher e we c an define the “Send Rejectio n Letter ” workflow task.  Let's wor k thr ough
that no w.
Try It Out: Creating the “Send Rejection Letter” Workflow Task
The S pecify Workflow Actions step of the wor kflow wiz ard allows you to specify the wor kflow
tasks,  field updates,  and aler ts that should occur when the co nditio n of our wor kflow rule is
met.
205Using Custo m Workflow and A pproval P rocesses
Figure 70: Specifying Workflow Actions
You can either define actio ns that occur immediatel y after the co nditio n is met,  or you can
define actio ns that occur befor e or af ter a cer tain amount of time has elapsed (for example ,
seven da ys befor e the value of the HireBy field,  or thr ee da ys after the wor kflow rule is
trigger ed).We'll talk mor e about these time-dependent wor kflow a ctions  a little later . For no w,
we just need to define a single wor kflow task that ex ecutes as soo n as our r ule cr iteria is met:
1.In the Immediate Workflow Actions area, click Add Workflo w Act ion and select
New Task.
Did y ou notice that the Object  field is alr eady fil led in with Job A pplic ation? Her e's wher e
we sav ed oursel ves a couple of c licks—if we'd star ted building our wor kflow task befor e our
workflow rule, we would hav e needed to specify the object with whic h the task would be
associated. That's bec ause, like wor kflow rules, workflow actio ns need to be associated with a
single object.
In this c ase, we g ot to skip a page bec ause the object with whic h a wor kflow actio n is associated
must matc h the object of a wor kflow rule that uses it.  For example , if we had a wor kflow rule
associated with the Candidate object,  any task,  field update , or aler t that's tr igger ed by our
candidate wor kflow rule m ust also be associated with the Candidate object.  Because we star ted
building our “Send Rejectio n Letter ” workflow task in the wiz ard right af ter defining our “Send
Rejectio n Letter ” workflow rule, the platfor m kne w that the object associated with our task
had to matc h the r ule that we'd alr eady built. That's wh y our ne w wor kflow task is alr eady
associated with the Job A pplic ation object.
The r est of the fields o n this edit page make up the template for an y “Send Rejectio n Letter ”
tasks that our wor kflow rule wil l gener ate.
206Chapter 10:Using Custo m Workflow and A pproval P rocesses
2.Next to the Assigned To field,  click the loo kup ico n (
 ).
Here we c an choose the assignee of the task either by specify ing a par ticular user , role, or the
owner of the job applic ation record that tr igger ed the wor kflow rule in the first place.  Since
recruiters al ways own the job applic ation records of the positio ns that the y're responsible for ,
and r ecruiters ar e responsible for sending r ejectio n letters at Univ ersal Co ntainers,  let's select
the record owner:
3.In the Type  drop-do wn list,  choose O wner .
4.Click Job Applic ation O wner .
Caut ion:If you thought that c hoosing the Recr uiter r ole for the Assigned To field
might hav e been another valid optio n, be careful. If the assignee of a wor kflow task is
a role that co ntains mor e than o ne assigned user , the perso n who tr igger ed the r ule
will beco me the task assignee instead.  For this r eason, you ne ver want to assign
workflow tasks to r oles unless y ou're sure that o nly one user wil l ever be assigned to
them at a time.
The r est of the wor kflow task fields ar e easy :
5.In the Subject  text bo x, enter SendRejection Letter .
6.In the DueDate  drop-do wn lists,  choose R ule Trigger Date plus 2 da ys.
This DueDate  setting wil l give our r ecruiters t wo da ys to notify the c andidate af ter the y're
first assigned the task.
7.In the Status  drop-do wn list,  choose N ot Started.
8.In the Priority  drop-do wn list,  choose High.
The NotifyAssignee  checkbox allows us to send an email to the assignee as soo n as the
task is cr eated by the wor kflow rule.This ensur es that the assignee kno ws about the task without
having to log in to the applic ation on a regular basis,  so let's select it.
9.Select the NotifyAssignee  checkbox.
10.Click Save.
11.Click Done .
207Using Custo m Workflow and A pproval P rocesses
Figure 71: Creating the “Send Rejection Letter” Workflow Task
At this point,  we final ly get to see the detail page for the wor kflow rule that we just cr eated.
It inc ludes the wor kflow rule cr iteria and a list of the associated actio ns.The o nly thing that
remains to be do ne is to activate the r ule.
12.Click Act ivate .
All done! We've just cr eated our first wor kflow rule and task. You'll find that the r emaining
workflow actio ns all oper ate in a v ery similar wa y, so we'l l speed thr ough the r est of them,
focusing just o n the fields and optio ns that ar e unique to eac h. First, let's finish up our seco nd
workflow rule that assigns a task by quic kly creating the “Extend an Off er” workflow rule.
Try It Out: Creating the “Extend an Offer” Workflow Rule and Task
To wrap up our first use c ase, we need to cr eate another wor kflow rule for when the status of
a job applic ation is set to Extend an Off er.This r ule and task ar e almost identic al to the “Send
Rejectio n Letter ” workflow rule and task,  so we'l l just list the values that y ou'll need in the
following t wo tables.
208Chapter 10:Using Custo m Workflow and A pproval P rocesses
Table 35: Values for Cr eating the “Extend an Off er”Workflo w R ule
Value Field
Job A pplic ation Object
Extend an Off er Name
Make an off er when a hir ing manager c hanges the status of a job
applic ation to Extend Off er.Descr iption
When a r ecord is cr eated,  or when a r ecord is edited and did not
previousl y meet the r ule cr iteriaEvaluatio n Criteria
Status equals Extend an Off er Filter Cr iteria
Table 36: Values for Cr eating the “Extend an Off er”Workflo w Task
Value Field
Job A pplic ation Owner Assigned To
Extend an Off er Subject
Rule Trigger Date plus 1 da ys Due Date
Not Started Status
High Priority
Yes Notify Assignee?
All done! Make sur e the “Extend an Off er” rule is also activated,  and let's g o try out o ne of
our ne w wor kflow rules.
Look at What We've Done
Let's tr y out our ne w “Send Rejectio n Letter ” workflow rule and see what happens:
1.Click the Job A pplic ations tab , and select a job applic ation record.
2.Click Edit, and c hange Status  to Rejected .
3.Click Save.
The S end Rejectio n Letter task auto matic ally appears in the Open A ctivities r elated list o n
the Job A pplic ation detail page , as sho wn in the fol lowing scr eenshot.
209Using Custo m Workflow and A pproval P rocesses
Figure 72: Open Activities Related List on Job Application Detail Page
Pretty neat,  don't you think? N ot only that,  but if y ou check in the r ecruiter's email inbo x, he
should hav e receiv ed an auto matic ally-gener ated email notific ation that loo ks like the fol lowing:
Caroline Rothhasassigned anewtasktoyou:SendRejection Letter
JobApplication: JA-00007 DueDate:2/11/2007
Formoredetails onthistask,clickonthelinkbelow:
https://na1.salesforce.com/00Tx04123s5k1
The link in the email message takes the r ecruiter dir ectly to the task detail page , wher e he or
she c an loc ate the co ntact infor matio n of the c andidate and update the task status af ter the
task is co mpleted. The task also sho ws up in the My Tasks ar ea on the r ecruiter's Ho me tab ,
and a r eminder message wil l pop up in another da y if the r ecruiter hasn't y et changed the task's
status to “Completed.”  Suddenl y, our Recr uiting app has beco me a lot mor e inter active and
powerful!
Creating a Workflow Rule That Updates Fields
For our next use c ase, we want to cr eate a wor kflow rule that ensur es the o wner of a ne w
positio n record is al ways a recruiter.To do this,  we're going to define a wor kflow field update
that r eassigns o wnership of a positio n that's cr eated by a hir ing manager to a queue  of positio n
records without o wners.  Once a positio n record is in that queue , individual r ecruiters c an claim
210Chapter 10:Using Custo m Workflow and A pproval P rocesses
ownership of the positio ns the y want.  But befor e we jump ahead of oursel ves, let's stop a
moment.  Just what,  exactl y, is a queue?
Introducing Queues
Much like a col lectio n of items in a lost and found dr awer, a queue is a col lectio n of r ecords
that do n't hav e an o wner . Users who hav e access to the queue c an examine e very record that's
in it and c laim o wnership of the o nes the y want.
Queues ar e traditio nally used in sales and suppor t organiz ations to distr ibute ne w leads and
suppor t cases to the emplo yees who hav e the most availabilit y. Because the platfor m nativ ely
suppor ts queues for L eads,  Cases,  and an y custo m object,  we c an cr eate a queue for the
Recruiting app's P ositio n object.
Try It Out: Creating a Queue for Positions
To define a queue , we simpl y need to kno w the t ypes of r ecords that c an be placed in the queue
(in our c ase, Positio ns), and the users who ar e allowed to pul l records out of it (in our c ase,
Recruiters).  Once we kno w those t wo things,  defining the queue itself is just a matter of a f ew
simple c licks:
1.Click YourName➤Setup➤Manage U sers➤Queues .
2.Click New.
3.In the QueueName  text bo x, enter Unclaimed Positions Queue .
4.In the QueueEmail  text bo x, enter an email addr ess for an individual or a
distributio n list,  such as recruiters@universalcontainers.com .
5.Select SendEmailtoMembers .
Notice her e that if recruiters@universalcontainers.com  was a r eal email distr ibutio n
list that went to al l recruiters,  we wouldn't need to select SendEmailtoMembers .We
do it her e only bec ause recruiters@universalcontainers.com  is a fake email addr ess
and c an't be used for testing later .The fol lowing table outlines the optio ns you hav e for notify ing
queue members when ne w records are added to the queue:
Table 37:  Opt ions to S pecify Ho w Q ueue Members ar e Notified of N ew Recor ds
Queue Email S pecified Queue Email N ot S pecified
Only the specified queue
email addr ess is notified.Because a queue email is not
specified,  individual queue
members ar e always notified,Send Email to Members
Checkbo x Not S elected
211Using Custo m Workflow and A pproval P rocesses
Queue Email S pecified Queue Email N ot S pecified
regardless of the SendEmail
toMembers  checkbox.
The specified queue email
address and individual queue
members ar e notified.
Note that if an individual
queue member also r eceiv esBecause a queue email is not
specified,  individual queue
members ar e always notified,
regardless of the SendEmail
toMembers  checkbox.Send Email to Members
Checkbo x Selected
emails sent to the specified
queue email addr ess, they'll
receiv e duplic ate notific ations.
6.In the S uppor ted O bjects sectio n, move Positio n into the S elected O bjects list.
212Chapter 10:Using Custo m Workflow and A pproval P rocesses
Figure 73: Defining a Queue
As you can see , a single queue c an hand le multiple objects—the platfor m allows you to do this
so that y ou do n't hav e to define m ultiple queues for the same gr oup of users.
7.In the Q ueue Members sectio n, select RolesandSubordinates  from the
Search drop-do wn list.
8.Move RoleandSubordinates: Recruiting Manager  to the S elected
Members list.
9.Click Save.
213Using Custo m Workflow and A pproval P rocesses
Perfect! We've just defined a ne w queue that c an act as a tempor ary owner for al l of the positio n
records that ar e created by hir ing managers. Whene ver a positio n is placed in the queue , all
recruiters ar e notified,  and the appr opriate perso n can claim o wnership . All we need to do no w
is define the wor kflow rule that places those positio n records into the queue.
Try It Out: Creating a Workflow Rule That Updates Fields
Now that we'v e got our queue r eady to g o, we c an go ahead and define our wor kflow rule:
1.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Workflo w
Rules.
2.Click New R ule.
3.In the S elect object dr op-do wn list,  choose Position , and c lick Next.
4.In the RuleName  text bo x, enter AssignPosition toRecruiter .
5.In the Description  text bo x, enter Reassign position records toa
recruiter iftheywerecreated byanother typeofemployee .
While we kno w that r ecruiters should almost al ways own positio n records, we do n't want to
impede the organiz ation if ther e's a special c ase in whic h a no n-recruiter should o wn the r ecord
instead.  Let's c hoose to e valuate this r ule o nly when a r ecord is cr eated so that if an ex ceptio n
needs to be made , the wor kflow wo n't supersede an y changes that wer e made by a r ecruiter.
6.In the Evaluatio n Criteria area, select Onlywhenarecordiscreated .
Finally, we need to make sur e that this r ule is initiated whene ver a positio n record is cr eated
by so meone who isn't a r ecruiter or a r ecruiting manager .We can specify this filter cr iteria in
a single r ow by using a co mma in the Value  column as fol lows:
7.In the R ule Cr iteria sectio n:
•Set the F ield column to Current User:Role .
•Set the Oper ator column to notequalto.
•Set the Value column to Recruiter, Recruiting Manager .
8.Click Save & N ext.
Now let's cr eate the field update actio n for this wor kflow rule:
9.In the Immediate Workflow Actions area, click Add Workflo w Act ion, and select
New F ield Update .
10.In the Name  text bo x, enter Reassign Position toQueue .
11.In the Description  text bo x, enter AssignthePosition tothe
Unclaimed Positions Queue .
214Chapter 10:Using Custo m Workflow and A pproval P rocesses
12.In the FieldtoUpdate  drop-do wn list,  choose O wner .
Once y ou make a selectio n in this dr op-do wn list,  new optio ns appear just belo w depending
on the selectio n that y ou made.
13.In the Owner  drop-do wn list,  choose Q ueue.
14.Click the loo kup ico n (
 ), and select Unc laimed P osit ions Q ueue .
15.Select NotifyAssignee .
16.Click Save.
Not too har d! Befor e we leav e this wor kflow rule behind,  though,  let's giv e it a seco nd wor kflow
actio n—o ne that ensur es that no positio ns wil l languish in the queue without being c laimed
by a r ecruiter.This time , we'll use a time-dependent wor kflow actio n.
Introducing Time-Dependent Workflow Actions
As we mentio ned ear lier, time-dependent wor kflow actio ns are actio ns that occur befor e or
after a cer tain amount of time has elapsed (for example , seven da ys befor e the value of the
HireBy field,  or thr ee da ys after the wor kflow rule is tr igger ed).We can use time-dependent
workflow actio ns to fir e tasks,  field updates,  and email aler ts while the co nditio n of a wor kflow
rule remains tr ue.
For example , the g oal of r eassigning positio n records to the Unc laimed P ositio ns queue is to
have the appr opriate r ecruiter take o wnership . However, there might be situatio ns in whic h a
positio n is placed in the queue and no r ecruiter c laims it.  Rather than leaving the positio n to
languish unc laimed in the queue , we c an define a time-dependent wor kflow actio n that aler ts
the recruiting manager if no r ecruiter c laims a positio n record within a cer tain number of da ys.
Because this actio n only takes place while the wor kflow conditio n remains tr ue (that is,  while
the positio n is o wned by a no n-recruiter),  the manager wil l only be aler ted when necessar y.
Neat, huh? L et's see ho w time-dependent actio ns are defined.
Try It Out: Creating the “Notify Recruiting Manager” Time-Dependent
Workflow Task
At this point,  we should stil l be o n the Edit Workflow Rule page for our Assign P ositio n to
Recruiter Q ueue wor kflow rule. If not,  you can return ther e by c licking YourName➤Setup
➤Create➤Workflo w & Appr ovals➤Workflo w R ules, clicking Assign P ositio n to
Recruiter, and then c licking Edit in the Workflow Actions area.
215Using Custo m Workflow and A pproval P rocesses
Befor e we c an define a time-dependent wor kflow task,  we first m ust specify a time t rigger.
Time tr iggers define when the time-dependent wor kflow actio ns should fir e.
1.Click Add Time Trigger.
In this c ase, we want our r ecruiting manager to be notified thr ee da ys after a positio n has been
assigned to the Unc laimed P ositio ns queue.
2.Use the text bo x and dr op-do wn lists to specify 3DaysAfterRuleTrigger
Date .
3.Click Save.
Figure 74: The Time Trigger Edit Page
Our time tr igger is no w listed in the Time-Dependent Workflow Actions area.The Add
Workflo w Act ion drop-do wn butto n is no w activ e, and we c an define our wor kflow task as
usual.
4.In the Time-Dependent Workflow Actions area, click Add Workflo w Act ion and
select New Task.
5.In the Assigned To field,  select the Recr uiting Manager r ole.
Note: Remember , workflow tasks should o nly be assigned to a r ole if y ou're confident
that o nly one user wil l ever be assigned to that r ole at a time.  If the r ole co ntains
multiple users,  the o wner of the wor kflow rule is assigned the task.
6.In the Subject  field,  enter AssignUnclaimed Position Recordto
Recruiter .When y ou mo ve your mouse fr om the Subject  field,  the Unique
Name  field should be
Assign_Unclaimed_Position_Record_to_Recruiter .
7.Set the DueDate  field to RuleTrigger Dateplus4days .
Since this wor kflow actio n wo n't fir e until thr ee da ys after the or iginal R ule Trigger Date ,
making the DueDate  four da ys after the R ule Trigger Date giv es the r ecruiting manager o ne
additio nal da y to assign the positio n to a r ecruiter.
8.Set the Status  to NotStarted .
216Chapter 10:Using Custo m Workflow and A pproval P rocesses
9.Set the Priority  to High .
10.Select NotifyAssignee .
11.Click Save.
12.Click Done .
Almost do ne! A t this point,  all we need to do is activate our wor kflow rule. However, if you
click the Act ivate  butto n now, an err or message appears sa ying that the Default Workflow
User m ust be set befor e activating the r ule.What's that?
The default wor kflow user is the user who should be assigned as the o wner of a wor kflow actio n
if the user who or iginal ly trigger ed the r ule is no lo nger activ e. If your organiz ation uses
time-dependent actio ns in wor kflow rules, you m ust designate a default wor kflow user .Salesfor ce
displa ys this user name in the Created By field for tasks,  the Sending User  field for email,
and the LastModified By field for field updates. Salesfor ce does not displa y this user name
for out bound messages.  If a pr oblem occurs with a pending actio n, the default wor kflow user
receiv es an email notific ation.To set the default wor kflow user:
13.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Settings.
Note: If you click Act ivate  without pr eviousl y setting the default wor kflow user and
then c lick OK in the err or dialog , you're sent dir ectly to the Workflow & A pprovals
Settings page.
14.Set the Default Workflow User  field to an y user in y our organiz ation. In most
cases, it's best to c hoose a sy stem administr ator.
15.Click Save.
Now we c an activate the wor kflow rule:
Note: If you reached the Workflow & A pprovals S ettings page by c licking Act ivate
and then OK in the err or dialog , clicking Save also auto matic ally activates y our
workflow rule.
16.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Workflo w
Rules.
17.Click Act ivate  next to the Assign P ositio n to Recr uiter wor kflow rule.
Look At What We've Done
Great! We've now got a wor kflow rule that mo ves positio n records created by no n-recruiters
to a queue of unc laimed positio ns, and if not c laimed by a r ecruiter in thr ee da ys, assigns a task
to the r ecruiting manager .
217Using Custo m Workflow and A pproval P rocesses
To try it out,  simpl y make sur e that y ou're logged in as a hir ing manager and cr eate a ne w
positio n. As soo n as y ou return to the detail page for the positio n, you'll see that the Unc laimed
Positio ns Queue has auto matic ally been assigned as the r ecord owner, and that an y user assigned
to the Recr uiter or Recr uiting Manager r ole wil l hav e receiv ed an email notific ation.
To actual ly view the co ntents of the queue , click the P ositio ns tab , and c hoose Unclaimed
Positions Queue  from the View drop-do wn list.  Any recruiter or r ecruiting manager c an
click the Accept  butto n on this page and take o wnership of the ne w positio n.
Although our Assign Unc laimed P ositio n Recor d to Recr uiter wor kflow task wo n't be activated
for another thr ee da ys, we c an see that it's curr ently scheduled to fir e by c hecking out the
workflow queue .This queue lists al l of the time-dependent wor kflow actio ns that ar e scheduled
for the futur e.To view it:
1.Log bac k in to y our organiz ation as an administr ator.
2.Click YourName➤Setup➤Monitor ing➤Time-Based Workflo w.
3.Click Search.
Figure 75: The Monitor the Workflow Queue Page
As soo n as a r ecruiter takes o wnership of the ne w positio n record, this task is deleted fr om the
workflow queue.  Pretty slic k, isn't it?
Now let's build o ne final wor kflow rule so we c an see ho w to cr eate a wor kflow email aler t.
Creating a Workflow Rule That Sends Email Alerts
For our final wor kflow use c ase, let's cr eate a wor kflow rule and email aler t that sends a
notific ation whene ver a ne w positio n is cr eated. We want al l the emplo yees at Univ ersal
218Chapter 10:Using Custo m Workflow and A pproval P rocesses
Containers to kno w when ther e are new positio ns available so the y hav e the best oppor tunit y
to br ing in r eferrals.
For this wor kflow rule, there's a step that we'l l need to hand le first:  we need to design a template
for what the email aler t should loo k like.
Introducing Email Templates
Just as the platfor m inc ludes built-in tools for setting secur ity per missio ns, tracking e vents and
tasks,  and building business logic with wor kflow, it also pr ovides a built-in tool for w riting
emails to users and co ntacts in y our organiz ation.Email t emplat es allow you to cr eate for m
emails that co mmunicate a standar d message , such as a welco me letter to ne w emplo yees or
an ac knowledgement that a custo mer ser vice r equest has been r eceiv ed.
To perso naliz e the co ntent of an email template , we c an use merge fields to incor porate values
from records that ar e stor ed in the sy stem.  For example , if we wanted to addr ess an email
recipient by their first name , we could w rite an email template as fol lows:
Dear{!Contact.FirstName},
...
In this example ,{!Contact.FirstName}  is a merge field that br ings in the first name of
the co ntact to who m the email is addr essed,  so an email to Jo hn Smiley would r ead:
DearJohn,
...
For our wor kflow aler t, we c an build an email template to notify users of ne w positio ns that
have been added to the sy stem. We can use merge fields to inc lude infor matio n from the
positio n record, such as its title and the r equir ed skil ls. Let's g o do that no w, and then we c an
get bac k to finishing up our final wor kflow rule.
Try It Out: Building an Email Template
To build a ne w email template , we hav e to g o to the A dministr ation Setup ar ea:
1.Click YourName➤Setup➤Comm unic ation Templates ➤Email Templates .
Here you should see a list of al l the email templates that hav e already been defined for y our
organiz ation, including se veral sample templates fr om salesfor ce.co m.
219Using Custo m Workflow and A pproval P rocesses
2.Click New Template .
We can choose to cr eate a text,  HTML, or custo m email template.  HTML and custo m email
templates ar e the same ex cept that H TML templates al low you to specify a letter head to giv e
your email the same loo k and f eel as other emails fr om the same sour ce.
Note: A four th optio n,Visualfor ce, lets de velopers cr eate email templates using
salesfor ce.co m's tag-based mar kup language. We'll touc h on Visualfor ce in Chapter
10.
To keep things simple , we'll just stic k with a plain text email for no w.
3.Select Text , and c lick Next.
Figure 76: Defining an Email Template
220Chapter 10:Using Custo m Workflow and A pproval P rocesses
The N ew Template page al lows us to define the email template itself .The gr ay area near the
top is wher e we'l l gener ate the merge field codes for the fields in the email template belo w it,
so let's skip past it for no w and star t with the F older dr op-do wn list.
4.In the F older dr op-do wn list,  choose Unfiled PublicEmailTemplates .
The Unfiled P ublic Email Templates folder is a standar d, public folder available in e very
organiz ation. By keeping the email template in a public folder , it'll be available to other users
who hav e per missio n to vie w and edit email templates.
5.Select the Available ForUse checkbox.
This optio n wil l make our email template available when we cr eate our wor kflow aler t.
6.In the EmailTemplate Name  text bo x, enter Recruiting App:New
Position Alert .
Tip:To help keep y our email templates organiz ed, it's a g ood idea to pr eface an y
template name with the name of the app that uses it.  Or, even better , you can cr eate
a public email template folder with the name of the app , such as Recr uiting A pp
Templates,  and file al l the r elevant email templates in it.
7.In the Encoding  text bo x, accept the default of Gener al US & Western Eur ope
(ISO-8859-1,  ISO-L atin-1).
8.In the Description  text bo x, enter Sendupdateemailtoall
Universal Containers employees .
Now we get to the hear t of our email template—the email's subject and body text.
9.In the Subject  text bo x, enter NewOpenPosition Alert: .
We want to put the title of the ne w positio n in the subject of our email,  so we'l l need to use
our first merge field her e, just af ter the colo n in our subject. To get the pr oper code , we'll have
to go bac k to the gr ay merge field ar ea near the top of the page.
10.In the S elect F ield Type dr op-do wn list,  choose Position Fields .
Although ther e are man y objects to c hoose fr om in the S elect F ield Type dr op-do wn list,
because we'r e creating an email template for a wor kflow rule, we're limited to the fields for the
object that wil l be associated with that wor kflow—in our c ase, Positio n.That's bec ause the
workflow rule that uses this email template wo n't kno w about an y individual r ecords other
than the positio n record that tr igger ed the r ule's ex ecutio n. If we put in fields fr om another
object,  they'd be lef t blank in our email,  because ther e wouldn't be a r ecord from whic h to pul l
the values.
221Using Custo m Workflow and A pproval P rocesses
Now let's gr ab the field we want.
11.In the S elect F ield dr op-do wn list,  choose Position Title .
In the CopyMergeFieldValue  text bo x, a merge field code appears for P ositio n Title.
We can cut and paste it to the end of our subject line so the subject no w loo ks like this: New
OpenPosition Alert:{!Position__c.Name} .When an email is gener ated fr om this
template ,{!Position__c.Name}  will be r eplaced with the r elevant positio n title.
Easy, right? N ow let's finish the r emainder of our email.
12.In the text ar ea just belo w the Subject  text bo x, enter the fol lowing text:
There's anewposition openatUniversal Containers!
Title:{!Position__c.Name}
Functional Area:{!Position__c.Functional_Area__c}
Location: {!Position__c.Location__c}
JobDescription
{!Position__c.Job_Description__c}
Responsibilities
{!Position__c.Responsibilities__c}
SkillsRequired
{!Position__c.Skills_Required__c}
Educational Requirements
{!Position__c.Educational_Requirements__c}
Ifyouknowofanyonegreatwhomightbeabletofillthisrole,please
contact thehiringmanager, {!Position__c.Hiring_Manager__c}.
Thanks!
13.Click Save.
That's it for our email template.  Now that it's do ne, we're ready to cr eate our N ew Positio n
workflow rule and aler t.
Try It Out: Creating the New Position Workflow Rule and Alert
Now that we'v e built our email template , we're ready to build the wor kflow rule and email aler t
that use it.  By no w this pr ocedur e should be v ery familiar to y ou:
1.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Workflo w
Rules.
2.Click New R ule.
222Chapter 10:Using Custo m Workflow and A pproval P rocesses
3.In the S elect object dr op-do wn list,  choose Position  and c lick Next.
4.In the RuleName  text bo x, enter EmailNewPosition Alert .
5.In the Description  text bo x, enter Sendanemailtoeveryone
whenever aposition recordisopened .
We only want this r ule to ex ecute o nce, whene ver a positio n record's status is set to Open -
Approved.
6.In the Evaluatio n Criteria sectio n, select Whenarecordiscreated, or
whenarecordiseditedanddidnotpreviously meettherule
criteria .
7.In the first r ow of r ule cr iteria:
•Set the F ield to Status .
•Set the Oper ator to equals .
•Set the Value to Open-Approved . Although N ew Positio n is the default
value of the Status  picklist,  we o nly want to publiciz e those positio ns that hav e
been appr oved for hir e by an ex ecutiv e.
8.Click Save & N ext.
Now let's cr eate the email aler t for this wor kflow rule:
9.In the Immediate Workflow Actions area, click Add Workflo w Act ion, and select
New Email Aler t.
10.In the Description  text bo x, enter EmailNewPosition Alert .
11.Next to the EmailTemplate  field,  click the loo kup ico n (
 ), and select Recr uiting
App:  New Posit ion Aler t.
We want to send this email to e veryone at Univ ersal Co ntainers,  but for this wor kflow rule
there's no ob vious wa y of doing that. We can wor k around this by r elying o n our r ole hier archy
and sending the email to e veryone in the CEO r ole and its subor dinates.
12.In the Recipient Type Search field,  choose RoleandSubordinates .
13.In the A vailable Recipients list,  select RoleandSubordinates: CEO and
click Add.
14.Click Save.
15.Click Done .
16.Click Act ivate .
And that's al l ther e is to it! To test out this wor kflow rule, all you need to do is cr eate a ne w
positio n record with a status of Open - A pproved.Within a f ew seco nds, all users within y our
223Using Custo m Workflow and A pproval P rocesses
organiz ation wil l receiv e an email letting them kno w that a positio n has just been cr eated.  Go
ahead—tr y it!
Beyond the Basics
Did y ou kno w you can use the S ystem L og Co nsole to tr oubleshoot Apex, workflow rules,
and validatio n logic?
Say you want to debug a wor kflow rule that isn't wor king corr ectly.You can use the
console to step thr ough the ex ecutio n log of e verything that occurr ed dur ing the r equest,
line by line , until y ou find the pr oblem.
To find out mor e, see “About the S ystem L og Co nsole ” in the Salesfor ce online help .
Introducing Approvals
Now that we'v e just made a handful of wor kflow rules, let's take a loo k at another business
logic tool that the platfor m pr ovides: approval pr ocesses .
Approval pr ocesses al low you to specify a sequence of steps that ar e requir ed to appr ove a ne w
record. Each step al lows one or mor e designated appr overs to accept or r eject a r ecord.The
steps c an appl y to al l records inc luded in the pr ocess,  or just to r ecords that meet cer tain
requir ements.  Like wor kflow, appr oval pr ocesses also al low you to specify actio ns—like sending
an email aler t, updating a field value , or assigning a task—that should occur whene ver a r ecord
is appr oved, rejected,  first submitted for appr oval, or recalled.
224Chapter 10:Using Custo m Workflow and A pproval P rocesses
Figure 77: Approval Processes Consist of Steps and Actions
For example , suppose y our organiz ation has a thr ee-tier pr ocess for appr oving expenses:
submitted expenses that ar e less than $50 ar e auto matic ally appr oved, those o ver $50 m ust be
approved by a manager , and those o ver $5,000 m ust also be appr oved by a Vice P resident.  For
this example , you can define an appr oval pr ocess that specifies the fol lowing:
•If an expense r ecord is submitted for appr oval, lock the r ecord so that users c annot edit it
and c hange the status to “Submitted.”
•If the amount is $50 or less,  auto matic ally appr ove the r equest.
•If the amount is gr eater than $50,  send an appr oval request to the dir ect manager .
225Using Custo m Workflow and A pproval P rocesses
•If the amount is gr eater than $5,000 and the first appr oval request is appr oved, send an
approval request to the Vice P resident.
•If all appr oval requests ar e appr oved, change the status to “Approved” and unloc k the r ecord.
•If any appr oval requests ar e rejected,  change the status to “Rejected ” and unloc k the r ecord.
For our r ecruiting app , we're going to define a similar appr oval pr ocess to submit ne w positio ns
for appr oval.We want to make sur e that a manager appr oves an y positio n that his or her
emplo yee creates,  and that an y positio n with a minim um salar y of mor e than $150,000 is
approved by the CEO . Let's get star ted.
Planning for Approval Processes
In most c ases y ou'll find that y ou hav e to do a little advance planning befor e implementing an
approval pr ocess o n your o wn.The Getting St arted with A pproval Processes  checklist available
from the Tips and U ser G uides ar ea of the o nline help outlines the things that y ou should
think about and the co mponents y ou should build befor e diving in.
For this appr oval pr ocess,  the o nly preliminar y step we need to do is define an email template
that c an be used to notify the designated appr over that he or she has a pending appr oval request.
Try It Out: Creating an Email Template for Approvals
Since we'v e already talked about email templates in Introducing Email Templates  on page 219,
we'll simpl y include the values that we want to use for the template in the fol lowing table. You
can build it fr om YourName➤Setup➤Comm unic ation Templates ➤Email Templates .
Table 38: The “Recr uiting App:  New Posit ion Requir es Appr oval” Email Template
Value Parameter
Text Template Type
Selected Available F or Use
Recruiting App:NewPosition Requires Approval Email Template
Name
Gener al US & Western Eur ope (ISO-8859-1,  ISO-L ATIN-1) Encoding
Sendnotification emailtodesignated approver
whennewposition recordrequires approval.Descr iption
New Positio n Requir es Approval Subject
226Chapter 10:Using Custo m Workflow and A pproval P rocesses
Value Parameter
Anewposition recordhasbeensubmitted for
yourapproval. Pleasevisitthelinkbelowand
eitherapprove orrejectit.
{!Position__c.Link}Email Body
Thanks!
Try It Out: Creating an Approval Process
Now that we'v e finished our pr eparation, we're ready to define the appr oval pr ocess itself .The
approval pr ocess definitio n acts as a fr amework for the appr oval steps and actio ns that we'l l
define later:
1.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Appr oval
Processes .
2.From the Manage A pproval P rocesses F or dr op-do wn list,  choose Position .
Ther e are two diff erent wiz ards that we c an use to cr eate a ne w appr oval pr ocess:  a Jump S tart
Wizard and the S tandar d Setup Wizard.The Jump S tart Wizard sets se veral default values
for us and o nly requir es input for the most cr ucial fields:  the appr oval assignment email template ,
filter cr iteria to enter the appr oval pr ocess,  and the designated appr overs.The S tandar d Setup
Wizard, on the other hand,  allows us to co nfigur e every possible optio n for our appr oval pr ocess.
We'll stick with it for no w so we c an take a loo k at al l of the optio ns that ar e available.
3.From the Create N ew Appr oval P rocess  drop-do wn butto n, choose Use S tandar d
Setup Wizard.
4.In the Process Name  field,  enter Approve NewPosition .
5.In the Description  field,  enter Ensurethatamanager approves any
position thathisorheremployee creates, andthatany
position withaminimum salaryofmorethan$150,000 is
approved bytheCEO.
6.Click Next.
After enter ing the name and descr iption, our next step is to specify the co nditio ns that should
be used to deter mine whic h positio ns need appr oval. As with wor kflow rules, we c an do this
by either defining a set of cr iteria or cr eating a for mula. Let's define the cr iteria so that al l
positio ns created by a user other than the CEO m ust be appr oved by at least a dir ect manager .
227Using Custo m Workflow and A pproval P rocesses
7.In the first r ow of filter cr iteria, select Current User:Rolenotequalto
CEO.
8.Click Next.
9.From the NextAutomated Approver Determined By drop-do wn list,  select
Manager .
The Manager  field is a standar d field o n the U ser object that designates the user's manager .
The field establishes a hier archical relatio nship bet ween users,  whic h prevents y ou from selecting
a user that dir ectly or indir ectly reports to his or herself .This manager wil l be the designated
approver for the first step of our appr oval pr ocess.
Alter nativ ely, you could hav e selected the CreateNewHierarchical Relationship
Field  optio n in the dr op-do wn list to define a ne w custo m hierarchical relationship  lookup
field o n the fly .The hier archical relatio nship field t ype is specific ally designed for the U ser
object,  and mimics the behavior of the standar d Manager  field by associating o ne user with
another without indir ectly associating that user to him or herself . For this appr oval pr ocess,
though,  the standar d Manager  field is per fect, so let's mo ve on.
Figure 78: Specifying the Approver Field
10.Select the UseApprover FieldofPosition Owner  checkbox.
The UseApprover FieldofPosition Owner  checkbox beco mes editable when y ou
select Manager in the NextAutomated Approver Determined By drop-do wn list.
When y ou select this c heckbox, the appr oval request is r outed to the user specified in the
Manager  field o n the r ecord owner's user r ecord. If you do n't select this c heckbox, the appr oval
request is r outed to the manager of the user submitting the r ecord. In our c ase, we want to
obtain appr oval fr om the positio n owner's manager , so select this c heckbox.
11.In the Recor d Editabilit y Properties ar ea, choose Administrators ONLYcan
editrecords duringtheapproval process .
Recor d editabilit y allows you to specify whether a r ecord that's been submitted for appr oval
can be edited by the appr over befor e being appr oved. Since we do n't want managers to c hange
the positio ns that a hir ing manager or r ecruiter cr eates without aler ting the o wner , we'll only
let administr ators per form edits while a r ecord is in our appr oval pr ocess.
12.Click Next.
228Chapter 10:Using Custo m Workflow and A pproval P rocesses
13.In the Approval Assignment EmailTemplate  lookup field,  select Recr uiting
App:  New Posit ion Requir es Appr oval.
14.Click Next.
Our next step in defining the appr oval pr ocess is specify ing whic h fields should be displa yed
on the A pprover page la yout, whic h the appr over sees when he or she appr oves or r ejects a
record. Each appr oval pr ocess has its o wn page la yout, and,  unlike other page la youts, the
Approver page la yout c an only be co nfigur ed from within its appr oval pr ocess.
We can displa y any Positio n object fields o n the A pprover page la yout, but since we'v e restricted
the editabilit y of the positio n record while it's in the appr oval pr ocess,  these fields c an't be
edited by the appr over until the r ecord is appr oved or r ejected.
15.Move the fol lowing fields fr om Available F ields to S elected F ields:
•Positio n Title
•Owner
•Hiring Manager
•Type
•Location
•Hire By
•Job Descr iption
•Min P ay
•Max P ay
229Using Custo m Workflow and A pproval P rocesses
Figure 79: Defining the Record Approval Page Layout
On this page we c an also specify whether appr oval histor y infor matio n should be displa yed on
the A pprover page la yout.This infor matio n sho ws whether this r ecord was submitted for
approval in the past,  who wer e the designated appr overs, and whether it was appr oved or
rejected.
16.Select Display approval history information inaddition tothe
fieldsselected above .
Finally, befor e leaving this page , we c an specify secur ity settings to deter mine whether an
approver can appr ove or r eject r ecords from a wir eless-enabled mobile de vice. Unless it's a
mandator y requir ement for y our appr overs, it's better not to c hoose this optio n bec ause it
prevents a user fr om manual ly selecting an appr opriate appr over for a r ecord.We'll leav e the
default c hoice selected for no w.
17.Click Next.
230Chapter 10:Using Custo m Workflow and A pproval P rocesses
The last page of the N ew Approval P rocess wiz ard allows us to c hoose who should be al lowed
to submit positio n records for appr oval. Again,  we'll just leav e the default Recor d Owner
selected,  because ther e's no r eason for another user to hav e this po wer.
The last t wo optio ns on this page al low us to place the A pproval Histor y related list o n all
Positio n page la youts and giv e users the abilit y to r ecall pending appr oval requests af ter the y've
submitted them. The A pproval Histor y related list is the same histor y related list that we
included o n the A pprover page la yout, so we'l l also inc lude it o n the P ositio n detail page.  From
this r elated list users c an also c lick the Rec all Appr oval Request  butto n to withdr aw their
pending appr oval requests.  If we didn't enable this last optio n, only administr ators would hav e
access to the Rec all Appr oval Request  butto n.
18.Select AddApproval History Related ListtoAllPosition Page
Layouts .
19.Select Allowsubmitters torecallapproval requests .
20.Click Save.
Phew! We've finished defining the fr amework for our appr oval pr ocess,  but we wo n't be able
to activate it until we'v e given it so me steps and so me actio ns to fir e when r ecords are actual ly
approved or r ejected.  Let's mo ve on to those no w.
21.Select Yes,I'dliketocreateanapproval stepnow.
22.Click Go!
Try It Out: Creating Approval Steps
As we said ear lier, every appr oval pr ocess co nsists of a set of steps that ar e requir ed to appr ove
the cr eatio n of a ne w record, and eac h step al lows one or mor e designated appr overs to accept
or reject the submitted r ecord. In other wor ds, every round of “signatur es” that y ou need to
get a r ecord appr oved m ust hav e a corr esponding step in the appr oval pr ocess.  An appr oval
step co nsists of:
•One or mor e designated appr overs
•Optio nal filter cr iteria, so that o nly records that meet cer tain co nditio ns wil l requir e appr oval
at that step
•Optio nal step appr oval actio ns that ex ecute r egardless of the outco me of the whole appr oval
process
•Optio nal step r ejectio n actio ns that ex ecute r egardless of the outco me of the whole appr oval
process
•Optio nal step r ecall actio ns that ex ecute if the r ecord is r ecalled
231Using Custo m Workflow and A pproval P rocesses
For our N ew Positio n appr oval pr ocess,  we'll need to define t wo steps—o ne that r equir es
approval fr om the r ecord submitter's manager for al l new positio n records, and o ne that r equir es
additio nal appr oval fr om the CEO for positio n records with minim um salar ies in ex cess of
$150,000.  Let's define the first step for al l new positio n records no w.
Because we selected Yes,I'dliketocreateanapproval stepnow at the end
of the S tandar d Approval P rocess wiz ard in the last sectio n, we're already at the beginning of
the N ew Approval S tep wiz ard. If we wer en't, we could r eturn to the same wiz ard with the
following steps:
1.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Appr oval
Processes .
2.In the Inactiv e Approval P rocesses r elated list,  click Appr ove New Posit ion.
3.In the A pproval S teps r elated list,  click New Appr oval S tep.
In this first step , we want the appr oval request to g o to the P ositio n owner's manager:
4.In the Name  field,  enter Manager Approval .
5.In the Description  field,  enter Everynewposition recordmustbe
approved bythePosition owner's manager .
6.In the StepNumber  field,  enter 1.
The StepNumber  field specifies the or der in whic h multiple steps should be pr ocessed.  By
assigning this as S tep 1,  it wil l be the first to ex ecute when the appr oval pr ocess is tr igger ed.
7.Click Next.
The S pecify S tep Cr iteria area allows us to define the cr iteria or cr eate a for mula that filters
the records that r equir e appr oval dur ing this step . Because we'v e already filter ed out positio n
records that ar e owned by the CEO fr om the whole appr oval pr ocess,  this step does not need
any additio nal filter ing.
8.Click Next.
Finally, we hav e to select the assigned appr over for this step , and specify whether his or her
delegate is al lowed to appr ove the r equest as wel l. Because this is the Manager A pproval step ,
it clearly makes sense to accept the default optio n of Automatically assignusingthe
customfieldselected earlier. (Manager) . However, because positio n records
aren't par ticular ly sensitiv e, it's o kay for managers to assign delegated appr overs. So managers
who g o on vac ation, or who r eceiv e large quantities of appr oval requests,  can shar e their wor k
with another emplo yee.
9.Select Theapprover's delegate mayalsoapprove thisrequest .
10.Click Save.
232Chapter 10:Using Custo m Workflow and A pproval P rocesses
Having co mpleted our first appr oval step , we're faced with another c hoice to cr eate optio nal
approval or r ejectio n actio ns for this step , or to r eturn to the appr oval pr ocess detail page.
While we ultimatel y need to specify final appr oval and r ejectio n actio ns that occur when the
approval pr ocess ends o ne wa y or the other , there's nothing in par ticular that needs to happen
after this first step that we c an't specify else wher e. Let's return to the detail page for our appr oval
process and define our seco nd appr oval step for positio ns with minim um salar ies of mor e than
$150,000.
11.Select No,I'lldothislater.Takemetotheapproval process
detailpagetoreviewwhatI'vejustcreated .
12.Click Go!.
13.In the A pproval S teps r elated list,  click New Appr oval S tep.
Once again we'r e bac k in the N ew Approval S tep wiz ard, but this time it inc ludes a summar y
of the pr evious step that we cr eated. This helps us to r emember wher e we ar e in our appr oval
process.
Figure 80: Defining a Second Approval Step
14.In the Name  field,  enter CEOApproval .
15.In the Description  field,  enter Everynewposition recordwitha
minimum salaryover$150,000 mustbeapproved bytheCEO.
233Using Custo m Workflow and A pproval P rocesses
16.In the StepNumber  field,  enter 2.
17.Click Next.
For this appr oval step , we o nly want to send positio ns with a minim um salar y over $150,000
to the CEO . Additio nally, we want to ex clude an y records that the CEO has alr eady appr oved
(for example , because o ne of the CEO's dir ect reports created the r ecord).
18.Select the Enterthisstepifthefollowing  radio butto n, then c hoose
criteria aremet from the dr op-do wn list.
19.In the first r ow of filters,  enter MinPaygreater orequal150000 .
Tip:As a shor t cut,  you can specify 150,000 as 150k.
20.In the seco nd row of filters,  enter Current User:Manager notequalto
Cynthia Capobianco  (the acting CEO in Univ ersal Co ntainers Role Hier archy
on page 163).
21.Click Next.
Finally, we need to select the appr over (the CEO),  and specify what should happen if he or
she r ejects this r equest.
22.Select the Automatically assigntoapprover(s)  radio butto n.
23.In the dr op-do wn list belo w the r adio butto n, select User , click the loo kup ico n
(
), and c hoose the name of the CEO in y our organiz ation (Cy nthia Capobianco).
We're keeping this appr oval pr ocess fair ly simple , but if we wanted to , we could use the Add
Row and Remo ve Ro w links to send the appr oval request to m ultiple appr overs in this step .
We could also select Related Users  in the first dr op-do wn list in the r ow to add an appr over
who is listed in fields o n the submitted r ecord. For example , since this is an appr oval pr ocess
for P ositio n records, we could add the positio n's hir ing manager to the list of appr overs.
24.Below the Add Ro w and Remo ve Ro w links,  select Approve orrejectbased
ontheFIRSTresponse .
If this step was r equesting appr oval fr om multiple users,  the r adio butto ns belo w the Add Ro w
and Remo ve Ro w links would deter mine whether the appr ove request needed unanimous
approval, or if the r ecord would be appr oved or r ejected based o n the first user to r espond to
the request.
25.Select Theapprover's delegate mayalsoapprove thisrequest .
234Chapter 10:Using Custo m Workflow and A pproval P rocesses
The next sectio n allows us to specify what to do with the r ecord if it's r ejected at this step .
Because the positio n record is loc ked fr om editing dur ing the appr oval pr ocess,  it makes the
most sense to per form the final r ejectio n.
26.Select Perform allrejection actions forthisstepANDallfinal
rejection actions. (FinalRejection) .
27.Click Save.
Once again,  we're faced with a c hoice to define appr oval or r ejectio n actio ns for this par ticular
step. Let's cir cumvent those , and r eturn to the appr oval pr ocess detail page to define our initial
submissio n, final appr oval, and final r ejectio n actio ns for the whole pr ocess.
28.Select No,I'lldothislater.Takemetotheapproval process
detailpagetoreviewwhatI'vejustcreated .
29.Click Go!
Try It Out: Creating Approval Actions
Now that we'v e finished defining our appr oval pr ocess steps,  we're near ly done. All that r emains
is to specify the approval actions  that should occur whene ver a r ecord is initial ly submitted,  or
when it's final ly appr oved or r ejected.
Just like wor kflow actio ns, appr oval actio ns allow you to cr eate and assign tasks,  update fields,
and send email updates and out bound messages. They can either be associated with the appr oval
process as a whole or with individual appr oval steps.
235Using Custo m Workflow and A pproval P rocesses
Figure 81: The Approval Process Detail Page
Because defining an appr oval actio n is almost identic al to the wa y we cr eated wor kflow actio ns,
we'll quic kly step thr ough the pr ocess of updating the Status  field to P ending A pproval when
a positio n is initial ly submitted and then leav e our other appr oval actio ns as ex ercises:
236Chapter 10:Using Custo m Workflow and A pproval P rocesses
1.If you're not o n the appr oval pr ocess detail page alr eady, click YourName➤Setup
➤Create➤Workflo w & Appr ovals➤Appr oval P rocesses , and then c lick
Appr ove New Posit ion.
2.In the Initial S ubmissio n Actions related list,  click Add N ew, and select Field Update .
Does the N ew Field Update A ction page loo k familiar? That's bec ause we'v e seen it befor e—al l
approval tasks,  field updates,  email aler ts, and out bound messages use the same editing inter face
as wor kflow actio ns. In fact,  every wor kflow and appr oval actio n that y ou cr eate c an be used
interchangeabl y on both wor kflow and appr oval pr ocesses.
3.In the Name  field,  enter SetStatustoPending Approval .
4.In the Description  field,  enter Whileaposition isinanapproval
process, itsstatusshouldbesettoPending Approval .
5.In the FieldtoUpdate  drop-do wn list,  select S tatus.
6.In the P icklist Optio ns area, select Aspecific value  and c hoose P ending
Approval fr om the list.
7.Click Save.
Now, to finish up the r est of the appr oval pr ocess,  define the r emaining appr oval actio ns on
your o wn accor ding to the values in the fol lowing table.
Table 39:  Addit ional Appr oval Act ions
Values Type Categor y
Name: Set Status to Open A pproved
Field to Update:  StatusField Update Final A pproval
Actions
A specific value:  Open - A pproved
Name: Set Status to Closed - N ot Approved
Field to Update:  StatusField Update Final Rejectio n
Actions
A specific value:  Closed - N ot Approved
Name: Set Close Date to Today
Field to Update:  Close DateField Update Final Rejectio n
Actions
Use a for mula to set the ne w value:TODAY()
237Using Custo m Workflow and A pproval P rocesses
Try It Out: Activating Our Approval Process
We're all done with defining our A pprove New Positio n appr oval pr ocess,  but in or der to test
it one final step r emains:  we'v e got to activate it.  Befor e we do so , however, be careful! Once
an appr oval pr ocess has been activated,  its appr oval steps c an no lo nger be edited,  even if y ou
deactivate it. The o nly way to make c hanges is to c lone the existing appr oval pr ocess and make
edits in the c loned o ne.
Once y ou're ready to test the appr oval pr ocess:
1.Click YourName➤Setup➤Create➤Workflo w & Appr ovals➤Appr oval
Processes  to return to the appr oval pr ocess list page.
2.Click Act ivate  next to the A pprove New Positio n appr oval pr ocess.
The A pprove New Positio n appr oval pr ocess auto matic ally mo ves to the A ctive list,  and a ne w
field is displa yed:Process Order .This field is impor tant if we'r e trying to use mor e than
one appr oval pr ocess at a time bec ause it tel ls us the or der in whic h eac h appr oval pr ocess wil l
be evaluated.
Look At What We've Done
As we'v e seen,  appr oval pr ocesses ar e inher ently complex and take a bit of wor k to set up .You
have to walk thr ough m ultiple scr eens and set se veral par ameters,  making it difficult to visualiz e
and understand the appr oval pr ocess holistic ally.
Fortunatel y, the Force.co m platfor m has a P rocess Visualiz er that r enders eac h appr oval pr ocess
as a flo wchart.The flo wchart contains al l of the cr itical details for eac h appr oval pr ocess,
including the steps necessar y for a r ecord to be appr oved, the designated appr overs for eac h
step, the cr iteria used to tr igger the appr oval pr ocess,  and the actio ns that take place when a
record is appr oved, rejected,  recalled, or first submitted for appr oval.
To access the P rocess Visualiz er, click the View Diag ram butto n at the top of an y appr oval
process detail page.
238Chapter 10:Using Custo m Workflow and A pproval P rocesses
Figure 82: The Process Visualizer
Now let's test our appr oval pr ocess:
1.Click YourName➤Setup➤Manage U sers➤Users and edit the user r ecord
for your Recr uiting Manager to fil l in the Manager  field so the appr oval chain is
properly set up .
2.Log in to y our app as a Recr uiting Manager and cr eate a ne w positio n.
Notice that af ter clicking Save, the detail page displa ys a Submit for Appr oval butto n in the
new Approval Histor y related list.
Figure 83: The Submit for Approval Button
239Using Custo m Workflow and A pproval P rocesses
3.Click Submit for Appr oval and then c lick OK.
Clicking the Submit for Appr oval butto n causes se veral things to happen.  First, the r ecord is
locked fr om editing , as sho wn by the loc k ico n at the top of the page.  Additio nally, two ne w
entries appear in the A pproval Histor y related list sho wing who submitted the r ecord and the
current appr oval assignment.  Finally, the manager of the positio n owner r eceiv es an email
reporting that ther e's a ne w positio n to appr ove.
Figure 84: A Submitted Position Record
240Chapter 10:Using Custo m Workflow and A pproval P rocesses
When the manager next logs in and visits the r ecord, an Appr ove/Re ject butto n is visible o n
the A pproval Histor y related list.  He or she c an click this butto n to see the appr oval request
and appr ove or r eject the r ecord, with co mments.
4.Log in as the dir ect manager who is r esponsible for appr oving the r equest.
5.Click Appr ove/Re ject in the A pproval Histor y related list o n the r ecord, enter an y
optio nal co mments,  and then c lick Appr ove.
Tip:To make accepting and r ejecting appr oval requests mor e convenient,  consider
adding the Items to A pprove related list to the default Ho me page la yout:
1.Click YourName➤Setup➤Customiz e➤Home➤Home P age
Layouts.
2.Click Edit next to the Dashboar d Ho me P age Default.
3.Select ItemstoApprove  and c lick Next.
4.Arrange the ItemstoApprove  component o n the page la yout by mo ving
it up and do wn the Wide (Right) Column list as desir ed.
5.Click Save.
Figure 85: The Approval Request Page
241Using Custo m Workflow and A pproval P rocesses
If the appr over accepts the r ecord, it pr ogresses to the next step of the appr oval pr ocess (if its
MinPay field is gr eater than $150,000 and the CEO stil l hasn't appr oved it),  or else the
positio n's Status  field is set to Open - A pproved.The r ecord details r emain loc ked to pr otect
them fr om being c hanged,  but r ecruiters c an stil l associate the positio n with job applic ations,
tasks,  or other activities.  If the r ecord is r ejected,  its status is set to Closed - N ot Approved,
the CloseDate  field is set to toda y's date , and the r ecord is unloc ked in c ase it just needs a
simple edit befor e it reenters the appr oval pr ocess. With just a f ew minutes of wor k, we'v e built
an eff ective business pr ocess that wil l make al l of Univ ersal Co ntainers' users mor e effective.
Summing Up
Chec k out our Recr uiting app no w! By le veraging the platfor m's built-in wor kflow and appr oval
process tools,  we'v e transfor med our app fr om a glor ified database into a ful ly functio nal
applic ation that pr ovides r eal value to its users.
Next we'l l tackle so mething that pr ovides r eal value to our ex ecutiv e users:  reports and
dashboar ds that giv e our users a co mplete anal ytical pictur e of ho w the r ecruiting pr ogram at
Univ ersal Co ntainers is g oing.
242Chapter 10:Using Custo m Workflow and A pproval P rocesses
Chapter 11
Analyzing Data with Reports and
Dashboards
We've come a lo ng wa y with our Recr uiting app—not o nly
do we hav e custo m objects to stor e our data,  we also definedIn this c hapter ...
•Introducing Repor ts secur ity and shar ing rules to pr otect that data,  while making
•Introducing Dashboar ds it easier for the hir ing team to col labor ate. And we added
automatio n by implementing se veral business pr ocesses with •Introducing Custo m
Repor t Types workflow and appr ovals.We've built a functio nal applic ation
in the c loud,  and we hav en't e ven w ritten a single line of
code!•Look At What We've
Done
Now it's time to tur n our attentio n to the needs of the
Univ ersal Co ntainers managers and ex ecutiv e staff . Because
they need to keep tr ack of man y diff erent aspects of the
business,  we need a wa y to giv e them a bir d's-e ye view of
the co mpan y's recruiting activit y without for cing them to
delve into piles and piles of data. To do this,  we'll create a
set of custo m reports for our Recr uiting app and then build
a dashboar d that al lows users to vie w summar ies of ke y
Recruiting app statistics e very time the y log in.
243
Introducing Reports
We can help users mo nitor and anal yze the data that's being gener ated in their organiz ation
by building reports. Repor ts are summar ies of the data that's stor ed in an app .They consist
primarily of a table of data,  but c an also inc lude data filters,  groupings,  and a custo mized gr aph.
244Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Figure 86: A Sample Report
While a co mprehensiv e set of r eports is inc luded with e very organiz ation to pr ovide infor matio n
about standar d objects suc h as co ntacts and accounts,  we c an also build custo m reports that
highlight inter esting metr ics about the data stor ed in our custo m objects.
245Analyzing Data with Repor ts and Dashboar ds
For example , an ex ecutiv e at Univ ersal Co ntainers might hav e the fol lowing questio ns about
recruiting:
•On av erage, how man y days does it take for eac h recruiter to fil l a positio n?
•Which functio nal ar eas hav e the most open positio ns?
•Which positio ns hav e been open for mor e than 90 da ys?
•Which positio ns are getting the most c andidates?
•Which emplo yees co nduct the most inter views?
•What does the job applic ation pipeline loo k like for eac h open positio n?
•Who hav e we hir ed in the last 90 da ys?
We can answer al l of these questio ns and mor e by cr eating custo m reports in the Repor ts tab
of the app . Although this tab isn't visible by default in our Recr uiting app , any user c an click
the arr ow tab o n the r ight side of the tab bar to displa y all available tabs,  and then navigate to
the reports area by c licking Repor ts.
Report Formats
The platfor m suppor ts thr ee diff erent report formats,  each with var ying degr ees of functio nality
and co mplexit y:
•Tabular r eports are the simplest and fastest wa y to loo k at y our data.  Similar to a spr eadsheet,
they consist simpl y of an or dered set of fields in columns,  with eac h matc hing r ecord listed
in a r ow.While easy to set up , they can't be used to cr eate gr oups of data or gr aphs.
Consequentl y, they're best used just for tasks like gener ating a mailing list.
Tip: Use tabular r eports when y ou want a simple list or a list of items with a gr and
total.
•Summar y reports are similar to tabular r eports, but also al low users to gr oup r ows of data,
view subtotals,  and cr eate c harts. For example , in the sample Emplo yee Inter viewer r eports
that appear in the fol lowing scr eenshot,  the summar y report groups the r ows of r eviews by
the possible values of the OwnerName  field,  allowing us to see at a glance subtotals of
how man y times the t wo inter viewers hav e talked to c andidates and enter ed reviews for
them.
While a little mor e time-co nsuming to set up , summar y reports giv e us man y mor e optio ns
for manipulating and organizing the data,  and,  unlike tabular r eports, they can be used in
dashboar ds. Summar y reports are the wor khorses of r eporting—y ou'll find that most of
your r eports tend to be of this for mat.
246Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Tip: Use summar y reports when y ou want subtotals based o n the value of a
particular field or when y ou want to cr eate a hier archically grouped r eport, such as
sales organiz ed by y ear and then by quar ter.
•Matrix reports are the most co mplex kind of r eport available , allowing y ou to gr oup r ecords
both by r ow and by column.  For example , in the fol lowing sample Emplo yee Inter viewer
reports, the matr ix report groups the r eview rows by the possible values of the OwnerName
field,  and also br eaks out the possible values of the Position  field into columns.
Consequentl y, the r eport gives us summar ized infor matio n suc h as the number of times
an inter viewer has inter viewed c andidates and enter ed reviews for a par ticular positio n.
These r eports are the most time-co nsuming to set up , but the y also pr ovide the most detailed
view of our data.  Like summar y reports, matr ix reports can hav e graphs and be used in
dashboar ds.
Tip: Use matr ix reports when y ou want to see data by t wo diff erent dimensio ns
that ar en't r elated,  such as date and pr oduct.
247Analyzing Data with Repor ts and Dashboar ds
Figure 87: Tabular, Summary, and Matrix Reports Offer Different Options for Viewing
the Same Data
Setting Up the Recruiting App for Reports
Befor e we get star ted building r eports, we first need to take c are of a couple tasks that wil l
make our r eports easy to find in the Recr uiting app .We need to add the Repor ts tab to the
default tab displa y along with our P ositio ns, Candidates,  and Job A pplic ations tabs. We'll also
need to cr eate a folder for stor ing al l the r eports that we cr eate. While both of these tasks ar e
purely optio nal, they'll go a lo ng wa y towards impr oving the exper ience of our Recr uiting app
users.
248Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Try It Out: Adding the Reports Tab
First we'l l star t by adding the Repor ts tab to the set of default tabs that ar e displa yed for e very
Recruiting app user .To do so , we need to r evisit the Recr uiting app that we cr eated wa y bac k
in Building a S imple A pp on page 29:
1.Click YourName➤Setup➤Create➤Apps .
2.Click Edit next to the Recr uiting app .
3.In the Choose the Tabs sectio n, add Repor ts to the S elected Tabs list.
4.Optio nally, select Overwrite users'personal customapp
customizations .
If you choose this optio n, the Repor ts tab is auto matic ally added to the tab bar by
default for al l users.  If you've already deplo yed your app and y ou'd r ather not o verwrite
existing users' c hanges,  leave this optio n unc hecked. Users c an manual ly add the
Repor ts tab to their perso nal tab bar by c licking the + tab.
5.Click Save.
Perfect! N ow let's visit the Repor ts tab to per form our next task:  creating a folder for Recr uiting
reports.
Try It Out: Creating a Recruiting Reports Folder
When y ou go to the Repor ts tab , you'll see that it displa ys a lo ng list of al l the standar d and
custo m reports that ar e defined for y our organiz ation. As y ou can see by their headings,  they're
divided into c ategories to help users find what the y're loo king for .You can also quic kly jump
to a par ticular c ategory by c hoosing it fr om the F older dr op-do wn list.
249Analyzing Data with Repor ts and Dashboar ds
Figure 88: The Reports Tab and the Folder Drop-Down List
Because e very organiz ation already co mes with o ver fifty standar d reports and ar ound a doz en
report categories, it's impor tant to cr eate a ne w category whene ver you're defining a ne w set
of reports. It's an easy wa y of making sur e that y our users c an always find the r eports the y need.
To define a ne w report category, we simpl y hav e to define a ne w report folder:
1.In the Repor ts tab , click Create N ew Folder  next to the Folder  drop-do wn list.
2.In the ReportFolderLabel  field,  enter Recruiting Reports .The Folder
UniqueName  field autopopulates with Recruiting_Reports . Leave this default
value.
3.In the PublicFolderAccess  drop-do wn list,  choose ReadOnly .
By choosing Read Onl y for this folder , only administr ator users c an modify the r eports the
folder co ntains,  or sav e new reports to it.  However, because al l users c an cr eate their o wn
reports, this wo n't hinder y our users fr om modify ing a r eport that we cr eate and saving it to a
perso nal folder of their o wn.
4.Select Thisfolderisaccessible onlybythefollowing users .
5.In the S earch drop-do wn list,  select Roles and S ubordinates and then add Role and
Subordinates:  CEO to the S hared To list. This al lows al l users in y our co mpan y to
view this folder and the r eports in it.
6.Click Save.
Great—we'r e now ready to cr eate our first r eport.
250Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Creating a Summary Report
To get star ted, we'll create a summar y report that answers the questio n,“Which functio nal
areas hav e the most ne w or open positio ns?”This r eport will include the title , hiring manager ,
location, and status of eac h positio n, as wel l as a pie c hart that sho ws a visual r epresentatio n
of the data.  As we do this,  we'll skip o ver some of the mor e complic ated r eporting optio ns so
we can quic kly create a r eport that fits our r equir ements.  Our seco nd example wil l then define
a mor e complex matr ix report that sho ws off so me of the mor e advanced r eporting f eatur es.
Because this r eport is g oing to use so man y diff erent reporting f eatur es, we'll break do wn the
procedur e into thr ee par ts:
1.Creating a summar y report
2.Adding columns and filters
3.Adding a c hart
Try It Out: Creating a Summary Report
To create our summar y report, we'll star t by opening the r eport builder , a powerful visual editor
for reports:
1.On the Repor ts tab , click Create N ew Custom Repor t.
The first step in cr eating a r eport is choosing the r ight r eport type. A report type defines the
set of r ecords and fields available to a r eport based o n the r elatio nships bet ween a pr imary
object and its r elated objects.  Repor ts displa y only records that meet the cr iteria defined in the
report type.Your administr ators ma y hav e set up custo m report types for y ou, or you can select
from the available standar d report types.
To help with navigatio n in this scr een, all objects and r elatio nships ar e grouped in c ategories
like A ccounts & Co ntacts or Custo mer S uppor t Repor ts.The custo m objects and r elatio nships
that we built for our Recr uiting app c an be found in O ther Repor ts.
Note:The O ther Repor ts category contains al l reports based o n just custo m objects.
If you've built a custo m object that's r elated to a standar d object,  such as A ccount or
Contact,  you'll also be able to r eport on your custo m object in the standar d object's
category.
2.From the Cr eate N ew Repor t page , select the O ther Repor ts category.
Objects that hav e a man y-to-o ne relatio nship with another object,  like Job A pplic ations and
Positio ns, can either be selected o n their o wn or in the co ntext of their r elatio nship with the
251Analyzing Data with Repor ts and Dashboar ds
other object.  For example , if we select Job A pplic ations with P ositio n, our r eport will count
job applic ation records, but c an filter , group, or displa y fields fr om the r elated positio n records
as wel l.This wil l come in handy a little later when we build r eports that count job applic ation
records. But bec ause we need to count positio n records in our r eport and positio ns aren't o n
the man y side of a r elatio nship , we'll stick with a standalo ne positio ns report for no w.
3.Select P ositio ns.
4.Click Create.
Figure 89: Custom Report in Report Builder
Now that we'v e chosen the r eport type, we c an custo mize the r eport. Note that we c an't g o
back and c hange the r eport type.To do that,  you hav e to star t with a whole ne w report.The
report builder's P review pane displa ys a limited set of data;  we c an also r un the r eport at an y
time to see if we hav e the r esults we'r e loo king for . For example , let's see what a baseline
positio ns report looks like without an y custo mizations.
5.Click Run Repor t.
252Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Figure 90: A Positions Report with No Customizations
Note:The S how drop-do wn list defaults to My P ositio ns. If you ar e logged in as a
user who does not o wn an y positio ns, select Al l Positio ns befor e you click Run Repor t.
The r eport will then displa y all the positio ns to whic h you hav e access.
As you can see , without specify ing an y details,  we alr eady hav e a list of positio n records with
a Grand Total at the botto m.This is the equivalent of what we might see if we wer e creating
a tabular r eport without additio nal columns.  Now let's take this basic r eport to the next le vel.
6.Click Customiz e to return to the r eport builder .
When cr eating a ne w report, we first need to c hoose the for mat of the r eport that we want to
create. The default is tabular . Because we want to gr oup r ows of open positio ns by functio nal
area, we'll create a summar y report.
7.Click Tabular F ormat and select Summar y to change the for mat.
Now we want to gr oup our r ows of data by the Functional Area  field.
8.Find Functional Area  in the F ields pane and dr ag it to the gr ouping dr op zone
in the P review pane. When y ou hav e lots of fields,  using Q uick Find is usual ly fastest.
253Analyzing Data with Repor ts and Dashboar ds
Figure 91: Adding a Grouping for a Report
We're closer no w! O ur report still only lists positio n titles,  but no w the y're grouped by the
functio nal ar eas to whic h the y belo ng. Also , each grouping has a r ecord count subtotal in
parentheses. These counts wil l be the basis of the pie c hart that we'l l add later .
Try It Out: Adding Columns and Filters
Now, let's select and or der the fields sho wn, and set the filters that r estrict the set of r ecords
included in the r eport.
In additio n to Position Title , whic h is alr eady selected by default,  we also want to displa y
the HiringManager ,Location , and Status  fields for eac h record.To select m ultiple
fields or columns,  press CTRL ( Windows) or Co mmand (Mac).
1.In report builder , drag the fol lowing fields into the pr eview:
•HiringManager
•Location
•Status
You can also double-c lick fields to add them to the end of the r eport.
2.Reor der columns by dr agging them.
254Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Figure 92: Adding a Column Using Drag-and-Drop
Let's r un our r eport again.
3.Click Run Repor t.
Figure 93: A Positions Report with Grouping and Additional Columns
We're even closer to our g oal. However, the Status  field sho ws us that the r eport includes
some positio n records that hav e already been fil led. Since we o nly want to vie w the ne w and
open o nes, we need to set so me filters.
4.Click Customiz e to return to the r eport builder .
Now, let's set up the filters that should be applied to this r eport. Filters define the set of r ecords
to be inc luded in the r eport; for example , you can inc lude o nly records created this mo nth or
only records that belo ng to a cer tain user .With standar d filters,  you can quic kly filter by r ecord
owner or date field. With field filters,  you can filter o n any field in the r eport. Because we want
to vie w open positio ns acr oss the entir e organiz ation and not just positio ns that we o wn (by
default,  all custo m reports inc lude “My” records only), we need to set t wo filters:
255Analyzing Data with Repor ts and Dashboar ds
5.In the S how drop-do wn, select Al l Positio ns.
6.Click Add➤Field F ilter.
7.Define a filter for StatusequalsNewPosition, Pending Approval,
Open-Approved .
Tip: Notice that whene ver you choose a c heckbox field or a pic klist field,  like Status ,
in your filter , a loo kup ico n (
 ) sho ws up next to the filter r ow. Clic k the ico n to vie w
valid values for that field and quic kly inser t the o nes by whic h you want to filter .
Using this filter of StatusequalsNewPosition, Pending Approval, Open
-Approved  means that our r eport will include o nly those positio n records with o ne of these
three statuses.  Note that the co mma bet ween the thr ee Status  values is tr eated as an OR
functio n, so this o ne filter is the same as using these thr ee filters:
•Status equals N ew Positio n, OR
•Status equals P ending A pproval, OR
•Status equals Open - A pproved
Try It Out: Adding a Pie Chart
The final step is to specify the c hart to displa y with the r eport. In our c ase, we want a pie c hart:
1.Click AddChart  and c hoose the pie c hart type.
The c hart builder auto matic ally kno ws that we want the values to be the r ecord count,  and the
wedges to be the diff erent functio nal ar eas.That's bec ause c hart values corr elate to a r eport's
summar y fields,  and pie c hart wedges corr elate to a r eport's gr oupings.  Had we gr ouped our
data with an additio nal column (like Position Owner ), we would hav e had a c hoice of whic h
field values to displa y in the wedges.
Now let's finish up our c hart and gener ate our final r eport:
2.Click OK.
256Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Figure 94: The Final “Open Positions by Functional Area” Summary Report
Terrific! Bec ause our r eport meets al l of our cr iteria, let's sav e it to the Recr uiting Repor ts
folder .
3.Near the top of the r eport, click Save As.
4.In the ReportName  field,  enter OpenPositions byFunctional Area .
5.In the ReportDescription  field,  enter Whichfunctional areashave
themostneworopenpositions?
6.In the ReportUniqueName  field,  enter
Open_Positions_by_Functional_Area  if that's not alr eady the value.
7.From the ReportFolder  drop-do wn list,  select Recr uiting Repor ts.
8.Click Save.
Now if we vie w the Recr uiting Repor ts folder , we c an see our ne w summar y report. Next, we'll
make a matr ix report that takes advantage of so me of the mor e advanced r eporting f eatur es.
Creating a Matrix Report with Summary Fields, Time-Based Filters, and
Conditional Highlighting
For our next r eport, we'll answer the questio n,“On av erage, how man y days does it take eac h
recruiter to fil l a positio n with or without r equir ed travel?”This r eport will use a matr ix for mat
to highlight the diff erence that mandator y travel makes in ho w long it takes for positio ns to
be fil led. Looking at data o nly for this y ear and the last,  the r eport will include:
•Recor d counts for eac h positio n a recruiter o wns
257Analyzing Data with Repor ts and Dashboar ds
•A custo m summar y formula for the per centage of a r ecruiter's positio ns that r equir e travel
•A time-based filter that r estricts the data o nly to positio ns that wer e created this y ear or
last
•A color-coded field summar y for the av erage number of da ys positio ns remain open:
-Averages of less than 30 da ys are color-coded gr een
-Averages of bet ween 30 and 60 da ys are color-coded y ellow
-Averages of mor e than 60 da ys are color-coded r ed
Because this r eport is g oing to use so man y diff erent reporting f eatur es, we'll break do wn the
procedur e into four par ts:
1.Creating a matr ix report
2.Adding custo m summar y fields
3.Adding columns and filters
4.Adding a c hart and co nditio nal highlighting
Try It Out: Creating a Matrix Report
To create the matr ix report, we'll use the r eport builder again,  this time highlighting steps that
are diff erent fr om ho w we defined the summar y report.
1.In the Repor ts tab , click Create N ew Custom Repor t.
Once again,  we'll be cr eating a r eport that counts positio n records.
2.From the list,  choose O ther Repor ts.
3.Select P ositio ns, and c lick Create.
Because we want to dir ectly compar e individual r ecruiter per formance for positio ns that do
and do not r equir e travel, we'll use a matr ix report.That wa y we c an gr oup the r ows of positio ns
by recruiter, and columns of positio ns by whether or not the y requir e travel.
4.From the F ormat dr op-do wn, select Matrix .
258Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Figure 95: Specifying Groupings in a Matrix Report
Now let's gr oup by both r ows and columns.  Notice the t wo sets of dr op zones for matr ix reports.
5.From the F ields pane , drag Position: OwnerName  to the r ow grouping dr op
zone.
6.Now, drag TravelRequired  to the column gr ouping dr op zone.
Our report now breaks out the possible values for the TravelRequired  field in the columns
dimensio n. Recr uiters ar e also br oken out in the r ow dimensio n, but bec ause al l custo m reports
query just the r eport creator's data by default (that is, “My” records only), only one recruiter is
listed in the r eport so far . Let's keep g oing.
Try It Out: Adding Summary Fields
In the next step , we want to specify whic h numer ical or c heckbox field values to inc lude in our
report, and ho w eac h of them should be summar ized in subtotals and gr and totals. Though
record count is al ways summar ized as a sum total,  we c an summar ize other numer ical and
checkbox fields in diff erent wa ys.
For example , it doesn't make sense to sum the values of the DaysOpen  column—the r esulting
total wouldn't pr ovide m uch value.  However, if we c alculate the av erage for DaysOpen , we'd
know roughl y how long positio ns sta y open.
259Analyzing Data with Repor ts and Dashboar ds
For our r eport, we need to inc lude thr ee diff erent types of summar ies: record count,  average
days open,  and a for mula that c alculates the per centage of r ecords requir ing tr avel.While the
first t wo ar e standar d summar y fields,  the thir d wil l requir e a visit to the Custo m Summar y
Formula editor . Let's star t with the first t wo. By default,  the r eport already adds Record
Count , so let's add the av erage for the number of da ys a positio n stays open.
1.Find the DaysOpen  field and dr op it just abo ve the RecordCount  row in the
Preview pane.
2.In the S ummar ize dialog , select Average .
Now, let's cr eate that for mula to c alculate the per centage of r ecords requir ing tr avel.
3.Double-c lick Add F ormula.You'll see the Custo m Summar y Formula editor .
Figure 96: The Custom Summary Formula Builder
The for mula editor lets us define a ne w for mula based o n the summar izable fields in the r eport.
In our c ase, we want to inc lude a summar y that sho ws the per centage of positio n records that
requir e travel in an y given segment. To make this c alculatio n we need to divide the sum of
records that r equir e travel by the sum of al l records:
4.In the ColumnName  field,  enter TravelRequired Percentage .
5.In the Description  field,  enter Thepercentage oftotalposition
records thatrequire travel .
6.In the Format  drop-do wn list,  choose Percent .
260Chapter 11:Analyzing Data with Repor ts and Dashboar ds
7.In the Decimal Places  drop-do wn list,  choose 0.
8.For Wherewillthisformula bedisplayed? , choose Atallsummary
levels .
Now, let's w rite our for mula. Similar to other for mula editors in the platfor m, this pr ovides
tools to make make it easier .
9.In the F ormula sectio n, click Summar y Fields  and select TravelRequired , then
select S um.
The for mula editor displa ys the fol lowing API representatio n of those values:
Position__c.Travel_Required__c:SUM
10.Click the Oper ators  drop-do wn and select Divide .
11.Click Summar y Field and select RecordCount .
The final for mula loo ks like this:
Position__c.Travel_Required__c:SUM /RowCount
We can quic kly verify that the for mula is corr ect by c hecking its sy ntax befor e saving .
12.Click Check Syntax.
13.Click OK.
Try It Out: Adding Columns and Filters
In the next steps,  we'll select r eport columns,  then define our filters.  Because we'r e already
familiar with adding columns,  let's zip thr ough that step first.
Note: Befor e you can add fields to a matr ix report, make sur e to select Show➤
Details . If details ar en't sho wn, you can only add summar y fields.
1.Add the fol lowing r eport columns by double-c licking them:
•Position: Position Title
•Functional Area
•Status
DaysOpen  and TravelRequired  should alr eady be par t of y our r eport.
261Analyzing Data with Repor ts and Dashboar ds
For our r eport, we want to define thr ee filters:  one to inc lude al l positio ns, one to inc lude o nly
those positio ns created in the last y ear, and o ne to inc lude those with a Status  of Open -
Approved or Closed - F illed.
2.In the S how drop-do wn list,  choose Al l Positio ns.
3.In the Date F ield filter select Position: Created Date .
Notice that al l other date fields defined o n the P ositio n object ar e also available in the Date
Field filter , including CloseDate ,HireBy, and OpenDate .
4.In the R ange dr op-do wn list,  choose Curr ent and P revious CY (meaning this and
last c alendar y ear). The star t and end dates ar e populated auto matic ally.
Now let's add a field filter based o n the status:
5.Click Add➤Field F ilter.
6.Create the fol lowing filters:
StatusequalsOpen-Approved, Closed-Filled
7.Click OK.
Try It Out: Adding a Chart and Conditional Highlighting
We're almost do ne. Now, in additio n to cr eating a hor izontal bar c hart that sho ws the av erage
number of da ys open,  recruiters,  and whether the positio n requir es travel, we also want to
define so me co nditio nal highlights to help us quic kly anal yze whic h recruiters ar e per forming
well and whic h need to wor k on filling their positio ns faster .
1.Click Add C hart.
2.Select the Vertical Bar Char t type.
3.In the Y-Axis  drop-do wn list,  choose Average ofDaysOpen .
4.In the X-Axis  drop-do wn list,  choose Position: OwnerName .
5.In the Group-By  drop-do wn list,  choose TravelRequired  and keep the
side-by-side gr ouping for mat.
6.Leave the Plotadditional values  checkbox deselected.
A combination c hart plots m ultiple sets of data o n a single c hart. Each set of data is based o n a
different field,  so values ar e easy to co mpar e.You can also co mbine cer tain c hart types to
present data in diff erent wa ys in a single c hart.The r eport we'r e building doesn't need a
combinatio n chart, but the y are extr emel y useful when co mpar ing data,  charting tr ends,  and
so for th.
262Chapter 11:Analyzing Data with Repor ts and Dashboar ds
7.Click the F ormatting tab .
8.In the ChartTitle  field,  enter AvgDaystoHireWithandWithout
Travel .
9.Click OK.
All three of our summar y fields ar e available to highlight,  but we just want to emp hasiz e one:
Average DaysOpen .That's bec ause we want to highlight whic h recruiters ar e closing
positio ns in less than 30 da ys, less than 60 da ys, or mor e than 60 da ys.
10.Click the Show drop-do wn list and select Condit ional Highlight ing.
11.In the first r ow, set the SelectField  drop-do wn list to Average DaysOpen .
12.Set the LowColor  to a shade of gr een using the color pic ker.
13.In the LowBreakpoint  field,  enter 30.
14.Keep the MidColor  the default shade of y ellow.
15.In the HighBreakpoint  field,  enter 60.
16.Set the HighColor  to a shade of r ed.
17.Click OK.
18.Click Run Repor t.
Our report succeeds in sho wing ho w wel l our r ecruiters fil l positio ns and pr ovides at-a-glance
insight into ho w long, on average, positio ns sta y open.  Conditio nal highlighting sho ws whic h
positio ns are taking lo nger to fil l—gener ally those r equir ing tr avel. Let's quic kly save this r eport
befor e mo ving o n.
19.Near the top of the r eport, click Save As.
20.In the ReportName  field,  enter AvgDaystoHireWithandWithout
Travel .
21.In the ReportDescription  field,  enter Onaverage, howmanydays
doesittakeeachrecruiter tofillaposition withor
without required travel?
22.In the ReportUniqueName  field,  enter
Avg_Days_to_Hire_With_and_Without_Travel  if that's not alr eady the
value.
23.From the ReportFolder  drop-do wn list,  select Recruiting Reports .
24.Click Save.
As we'v e seen,  custo m reports can pr ovide a lot of inter esting data,  giving insight into the
challenges that an organiz ation faces.  However, unless a user visits these r eports on a regular
basis,  much of their benefit r emains untapped.  How can we giv e users a wa y of keeping tabs
on the infor matio n in r eports without wasting their time? The answer , as we'l l see next,  lies
with dashboar ds.
263Analyzing Data with Repor ts and Dashboar ds
Introducing Dashboards
A dashboar d shows data fr om sour ce reports as visual co mponents,  whic h can be c harts, gauges,
tables,  metr ics, or Visualfor ce pages. They provide a snapshot of ke y metr ics and per formance
indic ators for y our organiz ation.Each dashboar d can hav e up to 20 co mponents.  Users c an
view any dashboar d available in a public folder in their organiz aton, such as Co mpan y
Dashboar ds, and c an select a favor ite, whose first thr ee co mponents displa y on the Ho me tab .
To put it mild ly, users love the summar ized vie ws the y get with dashboar ds, and no g ood
Force.co m app is co mplete without at least o ne.
Figure 97: A Sample Recruiting Dashboard
Try It Out: Creating Additional Reports
We'll be cr eating a smal l-scale recruiting dashboar d in this c hapter , but befor e we do , let's use
our ne w report-building skil ls to cr eate a f ew mor e reports. Because we'r e already familiar with
264Chapter 11:Analyzing Data with Repor ts and Dashboar ds
how report builder wor ks, we'll just outline the specifics of a f ew reports in the fol lowing
table—y ou can either cr eate them o n your o wn, or just familiar ize yourself with the optio ns.
Tip:Want to c lick alo ng with our dashboar d instr uctio ns but do n't want to spend
your time cr eating al l these ne w reports? Just cr eate the P ositio ns Open L onger Than
90 Da ys report in the first r ow. However, if you're inter ested in r ecreating the sample
dashboar d displa yed her e, you'll need to cr eate the other four as wel l.
Table 40:  Addit ional Recr uiting Repor t Specific ations
Opt ions Repor t Type Quest ion Repor t Name
Format: Summar y Repor t
Summar ize infor matio n by:
Location and then by F unctio nal
AreaPositio ns Which positions ha ve been
open for mor e than 90
days?Positio ns Open
Longer Than
90 Da ys
Columns:  Positio n: Positio n
Title, Positio n: Owner N ame,
Status,  Open Date , Hire By,
Days Open
Filters: View Al l Positio ns; Days
Open gr eater or equal 90
Char t Type: Pie
Char t Wedges:  Functio nal Ar ea
Char t Title: Positio ns Open
Longer Than 90 Da ys
Format: Summar y Repor t
Summar ize infor matio n by:
Positio n: Functio nal Ar ea and
then by P ositio n: Positio n TitleJob
Applic ations
with P ositio nWhich positions ar e
getting the most
candidat es?Job
Applic ations by
Functio nal
Area
Columns:  Job A pplic ation
Number , Job A pplic ation Status
265Analyzing Data with Repor ts and Dashboar ds
Opt ions Repor t Type Quest ion Repor t Name
Filters: View Al l Job
Applic ations; Positio n: Status
equals Open - A pproved
Char t Type:Vertical Column
X-Axis:  Positio n: Functio nal
Area
Char t Title: Job A pplic ations by
Functio nal Ar ea
Format: Summar y Repor t
Summar ize infor matio n by:
Review: Created ByJob
Applic ations
with Re viewsWhich emplo yees conduct
the most int erviews?Emplo yee
Inter viewers
Columns:  Job A pplic ation: Job
Applic ation Number , Job
Applic ation: Positio n, Job
Applic ation: Status,  Review:
Created By , Review: Created
Date
Filters: View Al l Job
Applic ations
Char t Type: Pie
Char t Title: Emplo yee
Inter viewers
Format: Matr ix Repor t
Subtotal Ro ws by : Positio n:
Owner N ame and then by
Positio n: Positio n TitleJob
Applic ations
with P ositio nWhat does the job
applic ation pipe line loo k
like for ea ch recruiter and
open position?Recruiter
Status
Subtotal Columns by : Job
Applic ation Status
266Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Opt ions Repor t Type Quest ion Repor t Name
Columns:  Job A pplic ation
Number , Positio n: Positio n Title
Filters: View Al l Job
Applic ations; Job A pplic ation:
Last Modified Date L ast 120
Days; Positio n: Status equals
Open - A pproved, Closed -
Filled
Format: Summar y Repor t
Summar ize infor matio n by:
Functio nal Ar eaPositio ns Who ha ve we hired in the
last 90 days?Positio ns Hir ed
in Last 90 Da ys
Columns:  Positio n: Positio n
Title, Positio n: Owner N ame,
Hiring Manager , Functio nal
Area, Job L evel, Location, Close
Date
Filters: View All Positio ns; Close
Date L ast 90 Da ys; Status equals
Closed - F illed
Try It Out: Creating a Dashboard
Now that we'v e got a set of r eports to r eference, we're ready to cr eate a smal l Recr uiting
dashboar d.To do so , we'll be wor king in the Dashboar ds tab .You can either access it by
clicking the arr ow tab and selecting it fr om the list of al l available tabs,  or by adding it to the
list of visible tabs in y our Recr uiting app , as outlined in Try It O ut: Adding the Repor ts Tab
on page 249.
1.Click the Dashboar ds tab and c lick Go to Dashboar d List  near the top of the scr een.
Note: Unlike other tabs,  opening the Dashboar ds tab al ways displa ys the last dashboar d
that y ou vie wed. If you've never visited the tab befor e, it displa ys a sample dashboar d
that co mes by default with e very organiz ation.
267Analyzing Data with Repor ts and Dashboar ds
2.Click New Dashboar d.
Figure 98: The Dashboard Edit Page
Once we specify the dashboar d properties, we c an add co mponents.
3.Click Dashboar d Proper ties.
4.In the Title  field,  enter Recruiting Dashboard .
5.In the Dashboard UniqueName  field keep the default value of
Recruiting_Dashboard .
6.Select the Co mpan y Dashboar ds folder to sav e it in.
7.Click OK.
8.For the dashboar d descr iption—the editable field near the top of the page—enter
Asnapshot ofopenpositions, jobapplications, frequent
interviewers, andrecruiter performance .
Each dashboar d has a r unning user , whose secur ity settings deter mine whic h data to displa y
in a dashboar d. All users with access to the folder see the same data,  regardless of their o wn
perso nal secur ity settings.
The r unning user's secur ity settings o nly appl y to the dashboar d view. Once a user dr ills down
into a sour ce report or detail page off the dashboar d, the user wil l view the data based o n his
or her nor mal secur ity settings.
For example , suppose a sy stem administr ator with the “Modify Al l Data ” permissio n is the
running user for our r ecruiting dashboar d. In this c ase, every recruiting-r elated r ecord is counted
in all of the r eport totals o n our dashboar d, including users who'd nor mally be r estricted fr om
viewing cer tain r ecords (like those assigned to the S tandar d Emplo yee profile).  Although those
users would be able to see the summar y data for al l records in the dashboar d, if the y navigated
to the sour ce reports, they'd see just the r ecords the y hav e access to .
268Chapter 11:Analyzing Data with Repor ts and Dashboar ds
When y ou're designing a dashboar d, keep the dashboar d's audience in mind.  Ask whether an y
of the infor matio n is sensitiv e and ho w much you want them to see.  If you do giv e a user access
to dashboar ds that inc lude mor e data than he or she nor mally has per missio n to vie w, be sur e
to co mmunicate that the y might see diff erent values when the y click thr ough the dashboar d
to vie w the associated r eports. And if y ou need to r estrict a dashboar d from cer tain users,  just
save it to a r estricted-access folder .
Beyond the Basics
Did y ou kno w you can set up a dynamic dashboar d that sho ws users data accor ding to their
own secur ity settings?
Say you want to sho w the same set of dashboar d components to diff erent sets of users,
each with a diff erent le vel of visibilit y.You'd potential ly hav e to set up doz ens of
dashboar ds with the r ight r unning user for eac h, and stor e them in separ ate folders. With
dynamic dashboar ds, administr ators c an acco mplish the same thing without having to
create and maintain al l those extr a dashboar ds and folders.  A single dy namic dashboar d
can displa y a standar d set of metr ics acr oss al l levels of y our organiz ation.
To find out mor e, see “Dynamic Dashboar ds O verview” in the Salesfor ce online help .
For our r ecruiting dashboar d, the data that we'l l be sho wing in the dashboar d isn't par ticular ly
sensitiv e. Consequentl y, we'll choose a sy stem administr ator as the r unning user , and sav e the
dashboar d to a public folder .
9.In the Viewdashboard as field in the upper r ight of the scr een, enter the name
of a user with sy stem administr ator pr ivileges. This sets the r unning user for the
dashboar d.
We now hav e an empt y dashboar d that's r eady to be fil led with co mponents.
Adding Dashboard Components
We hav en't y et defined an y components,  but it's easy to add and r eorder them in dashboar d
builder .
Components co me in fiv e varieties:
•Char ts—Displa ys a bar , column,  line, pie, donut, or funnel c hart—or an y chart contained
in a r eport.
•Tables—Displa ys a table that co ntains values and totals fr om columns in the r eport.
•Metrics—Displa ys the gr and total fr om a r eport, along with a label that y ou enter .
269Analyzing Data with Repor ts and Dashboar ds
•Gauges—Shows the gr and total of a r eport as a point o n a “fuel-tank ” type of sc ale.
•Visualfor ce Pages—Displa ys any Visualfor ce dashboar d component in y our organiz ation.
Try It Out: Adding a Chart Component
Let's star t by adding a c hart that sho ws the number of open positio ns by functio nal ar ea:
1.Drag a pie c hart component o nto the lef t column of y our dashboar d.
2.Click “Edit Title” and enter OpenPositions byFunctional Area .
3.Click the Data S ources tab and find and select the Open P ositio ns by F unctio nal
Area report.
4.Drag the r eport and dr op it o nto the pie c hart component.
Figure 99: The Dashboard Component Edit Page
Ta-da! We now hav e a pie c hart in our dashboar d! If a user c licks on the c hart, they're taken
to the r eport from whic h the c hart was gener ated.
Try It Out: Adding a Gauge Component
Now let's cr eate a gauge co mponent that sho ws us ho w we'r e doing with positio ns that hav e
been open for lo nger than 90 da ys:
1.Drag a gauge co mponent o nto the midd le column of y our dashboar d.
270Chapter 11:Analyzing Data with Repor ts and Dashboar ds
2.Click “Edit Title” and enter Positions OpenLongerThan90Days .
3.Click the Data S ources tab and find and select the P ositio ns Open L onger Than 90
Days report.
4.Drag the r eport and dr op it o nto the gauge co mponent.
Now, let's c hange ho w our gauge loo ks. Just like the co nditio nal highlighting in our matr ix
report, this gauge c an displa y diff erent colors depending o n the total count of positio ns that
have been open too lo ng.We want a gr een color if ther e are fewer than t wo positio ns, yellow
if ther e are bet ween t wo and fiv e, and r ed if the value is o ver fiv e.
5.Click 
 on the gauge to open the co mponent editor .
6.Click the F ormatting tab and set the fol lowing fields:
•For Minimum , enter 0.
•For LowRangeColor , pick a shade of gr een.
•For Breakpoint 1, enter 2.
•For Breakpoint 2, enter 5.
•For HighRangeColor , pick a shade of r ed.
•For Maximum , enter 10.
7.Click OK.
Perfect! O ur recruiting dashboar d now contains t wo co mponents.
Try It Out: Adding a Table Component
Now let's cr eate a table co mponent that sho ws us the av erage number of da ys it takes eac h
recruiter to fil l a positio n:
1.Drag a table co mponent o nto the r ight column of y our dashboar d.
2.Click “Edit Title” and enter Recruiter Performance .
3.Click the Data S ources tab and find and select the A vg Da ys to Hir e With and
Without Travel report.
4.Drag the r eport and dr op it o nto the gauge co mponent.
Just like its under lying sour ce report, we c an add co nditio nal highlighting to our table
component to highlight r ecruiter per formance le vels.We want a gr een color if the r ecruiter
needs f ewer than 45 da ys, yellow if he or she needs bet ween 45 and 75 da ys, and r ed if the
value is o ver 75.
5.Click 
 on the table to open the co mponent editor .
6.Click the F ormatting tab and set the fol lowing fields:
271Analyzing Data with Repor ts and Dashboar ds
•For LowRangeColor , pick a shade of gr een.
•For Breakpoint 1, enter 45.
•For Breakpoint 2, enter 75.
•For HighRangeColor , pick a shade of r ed.
7.Click OK.
Try It Out: Adding a Metric Component
Finally, let's cr eate a metr ic component that sho ws us the av erage number of da ys it takes al l
recruiters to fil l a positio n:
1.Drag a metr ic component o nto the r ight column of y our dashboar d and dr op it belo w
the table we just cr eated.
2.Click the Data S ources tab and find and select the A vg Da ys to Hir e With and
Without Travel report.
3.Drag the r eport and dr op it o nto the metr ic.
Because metr ic components co nsist of a single value , they don't need a title.  Instead,  we giv e
them a label m uch like an y other field that y ou see in the platfor m:
4.In the label field,  enter Average DaystoHire .
Note: Did y ou notice that we'r e using the same r eport that we used for our table?
This metr ic is just another visualiz ation of the data in that r eport.
Finally, let's add mor e conditio nal highlighting to sho wcase values:
5.Click 
 on the metr ic to open the co mponent editor .
6.Click the F ormatting tab and set the fol lowing fields:
•For LowRangeColor , pick a shade of gr een.
•For Breakpoint 1, enter 45.
•For Breakpoint 2, enter 75.
•For HighRangeColor , pick a shade of r ed.
7.Click OK.
We've now got a simple , four-co mponent dashboar d for our Recr uiting app! ( Your dashboar d
might loo k slightl y diff erent.) L et's sav e our dashboar d:
8.Click Close, then c lick Save & C lose.You can also c lick Save if you want to update
the title or descr iption, or change the folder .
272Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Figure 100: Four Components on the Recruiting Dashboard
If you click the Ho me tab , you can add the dashboar d's first r ow to y our ho me page.  Be sur e
to add the dashboar d sectio n to y our ho me page la yout and then fol low these steps:
1.On the Ho me tab , click Customiz e Page in the upper r ight cor ner of the Dashboar d
component.
2.Select Recruiting Dashboard  from the Dashboard Snapshot  drop-do wn
list.
3.Click Save.
And bec ause we sav ed the dashboar d in a public folder , any user c an add it to his or her Ho me
tab, too.
As you can see , once we cr eated the r eports for our Recr uiting app , adding them to a dashboar d
was a piece of c ake. It's so easy , that we'l l leav e the r emainder of the co mponents as an ex ercise
for you to tr y on your o wn—see ho w close y ou can co me to r ecreating A Sample Recr uiting
Dashboar d on page 264.
Refreshing Dashboards
Dashboar ds reflect a snapshot of y our data at a specific time.  On the Ho me tab , that time is
indic ated in the upper lef t corner o n the Dashboar d component;  on the Dashboar d tab , it's
indic ated in the upper r ight cor ner.You can refresh y our dashboar ds on either tab by c licking
Refr esh.
If you ar e using Enter prise or Unlimited Editio n, you can sc hedule dashboar ds to r efresh
automatic ally at specific times,  and upo n completio n, receiv e an email notific ation that inc ludes
the refreshed dashboar d.
273Analyzing Data with Repor ts and Dashboar ds
Scheduling a dashboar d refresh is easy . On the dashboar ds tab , simpl y click the do wn arr ow
on the Refr esh butto n and select Schedule Refr esh... , then,  indic ate who should r eceiv e the
notific ation email and the time y ou want the r efresh to occur .
Introducing Custom Report Types
While dashboar ds are an ex cellent wa y of r ender ing data,  man y users wil l need infor matio n
that's mor e granular and unique to their job functio n, so the y'll need to cr eate their o wn reports.
You'll want to co ntrol whic h data the y can access for their r eports, and make it easy for them
to create r eports that ar e useful. You can do both of these by cr eating custo m report types.
Custo m report types define the cr iteria from whic h your users c an run and cr eate r eports.When
you cr eate a r eport type, you specify the objects,  relatio nships,  and fields that users c an select
for their r eports.
How are custo m report types useful in our Recr uiting app? Well, our r ecruiters wil l appr eciate
it if we giv e them an easy wa y to sc an for positio ns to whic h candidates hav e applied.  In additio n,
the recruiters wil l probabl y want to see whic h of those job applic ations hav e reviews.That wa y,
they'll kno w if an y positio ns are on the v erge of c losing .
Creating Report Types
We've spent most of this c hapter o n the Dashboar ds and Repor ts tabs.  Now it's time to r eturn
to the YourName➤Setup menu.
1.Click YourName➤Setup➤Create➤Repor t Types.
2.If you see an intr oductor y splash page , just c lick Cont inue.
3.Click New Custom Repor t Type.
The custo m report type that we'r e creating wil l include data fr om thr ee diff erent objects:
Positio n, Job A pplic ation, and Re view. Positio ns wil l be the focus of the r ecruiters,  though,
so let's make P ositio n the pr imary object in this r eport type.
4.In the Primary Object  drop-do wn list,  select Positions .
Next, we'll give this r eport type an intuitiv e name and c ategorize it so it's easy for users to find
it.We'll also enter a descr iption so users who select the r eport type wil l kno w its functio n.
5.In the Repor t Type Label  field,  enter Positions withReviewed Job
Applications .
274Chapter 11:Analyzing Data with Repor ts and Dashboar ds
6.In the Repor t Type N ame field,  enter Positions_with_Reviewed_Job
Applications  if it is not ther e already.
7.In the Descr iption field,  enter Whichpositions havejobapplications
thathavebeenreviewed?
8.In the Store in Categor y drop-do wn list,  select OtherReports .
When cr eating a r eport type, set its status to InDevelopment  if you want to test it befor e
making it available to al l your users;  however, the r eport type we'r e creating does not r equir e
much testing , so let's deplo y it:
9.Select Deployed .
10.Click Next.
The platfor m uses a gr aphical hier archy and set diagr ams (also c alled Venn diagr ams) to let us
easily specify whic h related r ecords from other objects we want to inc lude in the r eport results.
11.Click the white bo x under bo x A (P ositio ns). Box B appears.
12.On bo x B, select Job A pplic ations from the dr op-do wn list,  and leav e Each"A"
recordmusthaveatleastonerelated "B"record  selected.
Figure 101: Report Type Hierarchy and Set Diagram for Positions and Job Applications
By leaving this optio n selected,  we'v e indic ated that we want this r eport type to o nly inc lude
positio n records for whic h ther e are job applic ations. Notice ho w the set diagr ams o n the r ight
change to r eflect our selectio n.
13.Click the white bo x under bo x B ( Job A pplic ations). Box C appears.
275Analyzing Data with Repor ts and Dashboar ds
14.On bo x C, select Re views fr om the dr op-do wn list,  and leav e Each"B"record
musthaveatleastonerelated "C"record  selected.
Figure 102: Report Type Hierarchy and Set Diagram for Positions, Job Applications,
and Reviews
We've further narr owed the scope of our r eport to o nly inc lude job applic ations that hav e
reviews.
15.Click Save.
Our custo m report type is near ly finished.  In fact,  we could tec hnically say it's do ne no w, but
there's so mething we c an do to make it e ven mor e convenient for our users:  we c an reorganiz e
how the fields displa y in the F ields pane of the r eport builder .
This r eport type incor porates thr ee objects (P ositio n, Job A pplic ation, and Re view), each
containing man y fields.  A user cr eating a r eport using this custo m report type wil l likel y be
overwhelmed by al l of those fields,  so let's r emove the o nes the y won't need,  and mo ve the
impor tant o nes to the top .We can also specify whic h ones ar e selected by default.
16.On the Custo m Repor t Type detail page , scroll down to the F ields A vailable for
Repor ts related list and c lick Edit La yout.
The page that appears is similar to the page la yout editor we used in Enhancing the S imple
App with A dvanced F ields,  Data Validatio n, and P age L ayouts on page 53.You can reorder
fields by dr agging them,  create and delete sectio ns, and so for th.You can also double-c lick the
fields to c hange their label and specify whether the y should be c hecked by default.
276Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Impor tant : If a field isn't in a sectio n, it wo n't be available to users when the y gener ate
reports from this r eport type.
Let's reorganiz e the page as fol lows:
17.Create a ne w sectio n called Position, JobApplication, andReview
Fields .
18.In the P ositio ns sectio n, change the label of the fol lowing fields by double-c licking
the field name and editing it in the dialog that opens:
•Created By to Position Created By
•Created Date  to Position Created Date
•Status  to Position Status
19.In the Job A pplic ations sectio n, change the label of the fol lowing fields by
double-c licking the field name and editing it in the dialog that opens:
•Created By to JobApplication Created By
•Created Date  to JobApplication Created Date
•Status  to JobApplication Status
20.In the Re views sectio n, change the label of the fol lowing fields by double-c licking
the field name and editing it in the dialog that opens:
•Created By to ReviewCreated By
•Created Date  to ReviewCreated Date
21.Move the fol lowing fields fr om the P ositio ns sectio n into the P ositio n, Job
Applic ation, and Re view Fields sectio n:
•Position Title
•Created By
•Created Date
•DaysOpen
•Functional Area
•HireBy
•HiringManager
•OpenDate
•Status
•TravelRequired
277Analyzing Data with Repor ts and Dashboar ds
22.Move the fol lowing fields fr om the Job A pplic ations sectio n into the P ositio n, Job
Applic ation, and Re view Fields sectio n:
•JobApplication Number
•Average Rating
•Created By
•Created Date
•NumberofReviews
•Status
Notice that we didn't inc lude the Candidate  field. We left it out bec ause this r eport type is
available to al l users,  including hir ing managers.  As mentio ned in the pr evious c hapter , a hir ing
manager might tr y to poac h candidates that appl y for other jobs,  so it's best not to r eveal
candidate names in r eports.
23.Move the fol lowing fields fr om the Re views sectio n into the P ositio n, Job A pplic ation,
and Re view Fields sectio n:
•ReviewNumber
•Created By
•Created Date
•Rating
24.Make the fol lowing fields c hecked by default:
•DaysOpen
•HiringManager
•JobApplication Number
•OpenDate
•Position Title
•ReviewNumber
25.Delete the individual P ositio ns, Job A pplic ations, and Re views sectio ns.
26.Click Save.
Your custo m report type is r eady! To try it out,  go to the Repor ts tab , click Create N ew Custom
Repor t, and select the O ther Repor ts report type category.The P ositio ns with Re viewed Job
Applic ations report type is in the list belo w.
278Chapter 11:Analyzing Data with Repor ts and Dashboar ds
Look At What We've Done
Chec k out our Recr uiting app no w! We've met almost al l of the r equir ements we talked about
at the beginning of the boo k, but we'r e not ther e yet. In the next c hapter , we're going to mo ve
beyond the platfor m's point-and-c lick tools,  like secur ity and wor kflow, and intr oduce
Visualfor ce, the Web ser vices API, and public sites. These f eatur es provide the ke y to
incor porating functio nality from all over the Web and wil l help us cr eate a tr uly powerful
applic ation in the c loud.  In fact,  once y ou've master ed the tools available in the platfor m, these
tools wil l be the wa y that y ou can let y our cr eativit y soar—the functio nality of an y app y ou
build o n the platfor m wil l be limited o nly by the Web itself!
279Analyzing Data with Repor ts and Dashboar ds

Chapter 12
Moving Beyond Point-and-Click App
Development
Up to this point,  we'v e built a co mpel ling app using var ious
parts of the platfor m.We've created a data model to stor eIn this c hapter ...
•Introducing Mash-Ups
and Web Servicesour recruiting infor matio n, put wor kflow and appr oval logic
in place to help manage the data,  and built r eports and a
dashboar d to help shar e the data. The fact that we wer e able •Introducing Visualfor ce
to quic kly put al l of these pieces together without w riting •Implementing the
Candidate Mapany code is a testament to the po wer of the Force.co m
platfor m.•Implementing the Mass
Update S tatus Butto nA tremendous amount of r esear ch and thought has g one
into the design of the platfor m.Salesfor ce.co m has str ived •Taking Your A pp Public
with S ites to anticipate the var ious business applic ation needs of 21st
centur y companies,  and has addr essed man y of those needs
with simple y et po werful dec larative, point-and-c lick tools
that no ntechnical users c an use to ac hieve unique business
goals. However, it is impossible for o ne co mpan y to pr ovide
a single solutio n that's a per fect fit for e veryone.That's wh y
salesfor ce.co m has made it easy for de velopers to w rite code
that builds upo n the Force.co m platfor m's point-and-c lick
functio nality. Once y ou lear n how to pr ogram for the
Force.co m platfor m, you'll find that y ou can cr eate apps for
the Cloud that do just about an ything y ou can dr eam up .
The sky's the limit!
“Programming-p hobia ” is co mmo n for people without
computer science bac kgrounds,  and it's likel y that man y
readers wil l want to put this boo k down as soo n as the y see
the wor ds “code ” and “variable.”  Relax! When y ou read this
chapter , you'll disco ver just ho w fun and easy pr ogramming
for the Force.co m platfor m can be.  Also , bear in mind that
the intent of this c hapter isn't to make y ou a pr ogrammer281
(although it's a gr eat place to star t). Instead,  this c hapter
will just giv e you a taste of what it's like to enhance y our app
with so me v ery simple pr ogramming . If you do n't feel like
typing an y code y ourself , just copy and paste the code
samples fr om the files inc luded in the
RecruitingApp-5_0.zip  file, whic h you do wnloaded
while r eading the Expanding the S imple A pp U sing
Relatio nships  chapter .
With the sample code and a f ew mouse c licks, we'll be able
to swif tly enhance our app by adding the fol lowing f eatur es:
•Candidate Map—A n inter active map that sho ws the
locations of the c andidates that hav e applied for a
particular positio n
•Mass Update S tatus—The abilit y to update the Status
field o n multiple job applic ations at the same time
•Public Car eers S ite—A public Web site that an yone on
the Inter net c an access to see what positio ns are open at
Univ ersal Co ntainers
Let's begin!
282Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Introducing Mash-Ups and Web Services
If we r evisit the r equir ements of our Recr uiting app , we'll see that we stil l need to implement
an inter active map that sho ws the loc ations of the c andidates that hav e applied for a par ticular
positio n. Clear ly no suc h functio nality is available by default in the platfor m, and we cer tainly
don't hav e time to build our o wn mapping engine.  Is this t ype of functio nality even possible?
Of course it's possible! Bec ause the Force.co m platfor m runs o n the Web, we c an leverage the
power of other websites to implement f eatur es that would ne ver be available just thr ough our
platfor m alo ne.This means that with a little code , we c an mash up  our o wn recruiting data
with an inter active map website , such as Yahoo! maps,  and place this functio nality in our o wn
app.
To implement a mash-up , we'll first need to understand a little about the tec hnolog y that
makes it possible: Web ser vices.  A Web service is the mec hanism by whic h two applic ations
that r un on diff erent platfor ms, that wer e written in diff erent languages,  and that ar e
geogr aphically remote fr om eac h other , can ex change data using the Inter net.Web ser vices
makes data ex change bet ween t wo suc h applic ations as str aightfor ward as t wo pr ocesses
exchanging data o n a single co mputer .
The wa y that data is ex changed bet ween t wo Web ser vices is similar to the wa y data is ex changed
between a Web br owser like Micr osoft Inter net Explor er and a Web ser ver. Just as a Web
browser uses a co mmo n net work protocol (H TTP o ver TCP/IP) to do wnload H TML files
hosted o n a Web ser ver, a Web ser vice c an also use this same net work protocol to do wnload
data fr om another Web ser vice. The ke y diff erence is the actual data that is sent and
receiv ed—W eb ser vices use XML instead of H TML.
The o nline wor ld has a vast arr ay of Web ser vices,  man y of whic h are free. For our Candidate
Map f eatur e, we'll utiliz e the fr ee Yahoo! Maps Web Services,  whic h let y ou easil y embed
interactive maps in y our apps.  If we c an find a wa y to pass c andidate addr esses fr om our app
to the Yahoo! Maps Web Services, Yahoo! wil l take c are of al l the mapping functio nality,
saving us fr om worr ying about ho w our app wil l render an inter active map .We'll just need to
figure out ho w to pul l that r ender ed map into our app .
Note:The Force.co m platfor m also has its o wn po werful Web ser vices:  the Web
services API.With the Force.co mWeb Service API, you can custo mize and integr ate
your Salesfor ce organiz ation using the language and platfor m of y our c hoice. The API
defines a Web ser vice that enables ful l, reliable access to al l of the data in y our
organiz ation, including the abilit y to r ead, create, update , and delete r ecords.
283Moving Be yond Point-and-Clic k App De velopment
Because the Web ser vices API is only used behind the scenes for our Candidate Map
featur e, this boo k does not g o into detail about it;  however, you can find Web ser vices
API documentatio n and code samples o n Developer F orce at developer .force.co m.
Introducing Visualforce
So how do we pass our c andidate's addr esses to the Yahoo! Maps Web Services? A nd af ter
Yahoo!Maps Web Services r enders an inter active map that plots those addr esses,  how do we
pull that map into our app?
These r equir ements ma y seem intimidating , but the y're actual ly quite easy to meet,  thanks to
Visualfor ce.Visualfor ce is a po werful and flexible fr amework for custo mizing y our app's user
interface far be yond what's available using the platfor m's point-and-c lick tools.  It's the most
efficient wa y to co mbine data fr om multiple Force.co m objects,  blend data fr om Web ser vices
into y our apps,  or custo mize the logic that dictates the behavior of y our app's user inter face.
When y ou use Visualfor ce, you'll see y our pr oductivit y incr ease, and y ou'll find that y ou can
create just about an y type of br owser-based user inter face y ou can imagine.
The Visualfor ce framework consists of a tag-based mar kup language , similar to H TML. In
the Visualfor ce markup language , each Visualfor ce tag corr esponds to a user inter face
component.  Need a r elated list? S imply add the <apex:relatedList>  component tag .
Want to displa y a record's details? Just use the <apex:detail>  tag.
The fol lowing gr aphic sho ws a f ew of the most co mmo nly used Visualfor ce tags and ho w the y
correspond to user inter face co mponents.  Over seventy tags exist,  ranging fr om large
components,  such as a detail sectio n of a standar d page , to smal l components,  like a single field
or link. You can lear n about them al l in the Visualfor ce Developer's G uide, at
www.salesforce.com/us/developer/docs/pages/index.htm .
284Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Figure 103: Sample Visualforce  Components and Their Corresponding Tags
The behavior of Visualfor ce components c an either be co ntrolled by the same logic that is used
in standar d Salesfor ce pages,  or you can associate y our o wn logic w ritten in Apex.Apex is
salesfor ce.co m's programming language that r uns in the c loud o n Force.co m servers.
Don't panic! You wo n't need to lear n how to w rite Apex to cr eate an y of the f eatur es descr ibed
in this boo k.Visualfor ce comes with a r ich component libr ary that al lows you to quic kly build
pages without having to code a lot of functio nality yourself . And bec ause Visualfor ce markup
is ultimatel y render ed into H TML, you can use Visualfor ce tags alo ngside standar d HTML,
JavaScr ipt, Flash, AJAX, or an y other code that ex ecutes within an H TML page. This means
that we c an cr eate our Candidate Map by simpl y creating a Visualfor ce page that uses so me
basic Visualfor ce markup and JavaScr ipt to pass our c andidate addr esses to Yahoo! Maps Web
services.
Note:To lear n mor e about Apex, see the Force.com Apex Code De veloper's
Guide, at
www.salesforce.com/us/developer/docs/apexcode/index.htm .
285Moving Be yond Point-and-Clic k App De velopment
Introducing Visualforce  Development Mode
Creating Visualfor ce pages is quic k and easy , and ther e are two wa ys to do it:  through the setup
area by c licking YourName➤Setup➤Develop➤Pages, or by enabling Visualfor ce
development mode and navigating to a “blank ” page.
In this boo k, we'll use Visualfor ce development mode to cr eate and edit our Visualfor ce pages
because it has se veral featur es that ar e quite handy . One of those is the special de velopment
footer o n every Visualfor ce page. The footer lets y ou access a page mar kup editor that inc ludes
tools y ou can use to sear ch for values,  jump to a cer tain line in y our code , and undo and r edo
changes. The page editor also off ers highlighting and auto-suggest for co mponent tags and
attributes,  and has a link to the co mponent r eference documentatio n, whic h inc ludes descr iptions
and examples for e very Visualfor ce component.
While y ou're in Visualfor ce development mode , you can cr eate a ne w page just by enter ing a
unique URL in y our br owser's addr ess bar . And as y ou add code to y our Visualfor ce page ,
you'll be able to sav e it and see y our c hanges instantl y render ed in y our br owser!
Figure 104: Visualforce  Development Mode
Try It Out: Enabling Visualforce  Development Mode
Enable Visualfor ce development mode as fol lows:
286Chapter 12:Moving Be yond Point-and-Clic k App De velopment
1.Click YourName➤Setup➤My P ersonal Infor mat ion➤Personal Infor mat ion,
and c lick Edit.
2.Select the Development Mode  checkbox.
3.Click Save.
Implementing the Candidate Map
Now that we'v e been intr oduced to Web ser vices and Visualfor ce, we're ready to implement
the mash-up piece for our Recr uiting app:  the Candidate Map . Our requir ements state that
we need to gener ate a map for al l the c andidates that hav e applied for a par ticular positio n so
that we c an better understand potential r elocation costs associated with a ne w hir e. Since
Univ ersal Co ntainers has offices al l over the countr y, this map wil l also help us assign c andidates
to an office if a par ticular positio n is open in mor e than o ne loc ation.
Try It Out: Creating a Visualforce  Page
Now that we'r e in de velopment mode , let's cr eate a Visualfor ce page c alled CandidateMap by
simpl y modify ing the URL in our br owser.
Salesfor ce URLs t ypically look something like this: https://na1.salesforce.com/001/o .
You can cr eate a ne w Visualfor ce page by r emoving e verything to the r ight of the
salesforce.com/  part of the URL and r eplacing it with apex/  followed by the name of
the page y ou want to cr eate.
1.In the addr ess bar of y our br owser, replace e verything to the r ight of
salesforce.com/  with apex/CandidateMap .
Caut ion: Don't change an ything to the lef t of salesforce.com/ , as this
infor matio n is specific to the instance of the Force.co m platfor m that y ou're
using , and c hanging it wil l prevent y ou from creating the Visualfor ce page.
The r esulting URL should loo k something like this:
https://na1.salesforce.com/apex/CandidateMap . Note that y our URL ma y hav e
an instance name other than na1 preceding the salesforce.com/  part.That's o kay.
2.Press Enter .
The fol lowing Visualfor ce error page appears indic ating that the page doesn't exist y et. Again,
that's o kay—this giv es us a c hance to ex ercise o ne of the other handy f eatur es of de velopment
mode , the quick fix . A quic k fix is a wa y of cr eating so mething o n the fly , right when we need
287Moving Be yond Point-and-Clic k App De velopment
it. In this c ase, even though the CandidateMap page doesn't exist y et, development mode giv es
us a quic k fix link to cr eate it o n the fly . Clic king the link is the equivalent of g oing to the
setup ar ea, navigating to the Visualfor ce page sectio n, clicking New, enter ing the name of the
page, and c licking Save.
Figure 105: Visualforce  Error Page
3.Click the Create P age CandidateMap  link.
Figure 106: CandidateMap Visualforce  Page
Congratulatio ns! You've created y our first Visualfor ce page! N ow it's time to add so me
Visualfor ce markup so it displa ys our c andidate map .
Try It Out: Writing Visualforce  Markup
In the footer at the botto m of y our ne w Visualfor ce page , click Page Editor  to displa y the
Visualfor ce development mode page editor .This editor displa ys all the mar kup for the page
you're curr ently viewing .
288Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Figure 107: Visualforce  Development Mode
You'll notice that the page editor has the fol lowing default co ntent:
<apex:page >
<!--BeginDefault Content REMOVETHIS-->
<h1>Congratulations</h1>
ThisisyournewPage:CandidateMap
<!--EndDefault Content REMOVETHIS-->
</apex:page>
The default co ntent co ntains the Visualfor ce component tag <apex:page>  on the first line
and the c losing tag ,</apex:page> , on the last line.  Just like elements in other mar kup
languages, Visualfor ce component tags hav e a star t tag, such as <apex:page> , and an end
tag that is identic al to the star t tag ex cept that it has a for ward slash,  such as </apex:page> .
The <apex:page>  tag r epresents a single Visualfor ce page.  All of the other co ntent y ou want
displa yed on a page m ust be w rapped inside the star t and end <apex:page>  tags.  As discussed
earlier, content c an be other Visualfor ce tags,  plain text,  merge fields,  HTML, JavaScr ipt, and
so for th. For example , in the default co ntent ther e are comments mar ked by the <! and >
symbols,  the H TML <h1>  header tag , and plain text.
Let's c hange the loo k and f eel of the page so it matc hes the st yle of the P ositio n object,  the
object that's most c losely tied to our c andidate map .We can do this just by setting an attr ibute
on the <apex:page>  tag. As with H TML tags,  attributes o n Visualfor ce tags co nfigur e the
style or behavior of what the tag r epresents.
The attr ibute we need to set is standardcontroller . In Visualfor ce, controllers deter mine
the st yle of the page , how the page acts when a user c licks a butto n, and the data that should
be displa yed in a page.  Simply by setting value of the standardcontroller  attribute to the
Positio n object,  we're configur ing our page to loo k and behav e like the positio n pages,  and
displa y positio n data.
289Moving Be yond Point-and-Clic k App De velopment
1.Place y our cursor just inside the c losing br acket of the <apex:page>  tag, press the
spacebar , and t ype standardcontroller="Position__c" .The r esult should
look like this:
<apex:page standardcontroller="Position__c">
Tip:You can de velop y our o wn co ntrollers, but the Force.co m platfor m
also inc ludes a standar d controller for e very object,  including custo m objects
that y ou cr eate. It's another o ne of the benefits of Force.co m!
Note that the for mat for setting an attr ibute is the name of the attr ibute fol lowed by the equals
sign (=),  then the value of the attr ibute enc losed in quotes.  Also , remember that the unique
API names of custo m objects hav e two underscor es (__) and the letter c at the end.
Let's sav e our wor k so we c an see our c hanges applied.
2.Click the sav e icon (
 ) on the page editor , or pr ess CTRL+S .
When y ou sav e your mar kup, the Force.co m platfor m checks to make sur e it's valid and lets
you kno w if ther e are errors. If the mar kup is valid,  the ne w version of y our Visualfor ce page
is sav ed and r ender ed in y our br owser.
Can y ou see ho w your page is diff erent fr om befor e? Setting the standardcontroller
attribute c hanged the loo k and f eel of the default Visualfor ce page so that the P ositio ns tab is
selected.
Figure 108: Before and After Setting the standardcontroller  Attribute
290Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Next, let's r emove the default H TML o n our Visualfor ce page and r eplace it with so mething
relevant to our Candidate Map , such as a br ief descr iption of the page just in c ase the pur pose
of the map isn't immediatel y obvious to users.
3.Delete the fol lowing mar kup:
<!--BeginDefault Content REMOVETHIS-->
<h1>Congratulations</h1>
ThisisyournewPage:CandidateMap
<!--EndDefault Content REMOVETHIS-->
4.Enter the fol lowing mar kup bet ween the star t and end <apex:page>  tags.
Thismapshowsthelocations ofcandidates whohaveapplied
forthe<b>{!Position__c.Name}</b> position.
The r esult should loo k like this:
<apex:page>
Thismapshowsthelocations ofcandidates whohaveapplied forthe
<b>{!Position__c.Name}</b> position.
</apex:page>
The descr iption inc ludes the {!Position__c.Name}  merge field enc losed in the <b> HTML
tag.We've used merge fields quite a bit while building our app .They wer e in our email template
and so me of our for mulas. Now, we're using them o nce again,  this time side by side with
HTML and Visualfor ce component tags.
5.Click the sav e icon (
 ) on the page editor .
Right no w, our merge field isn't displa ying bec ause the Candidate Map is out of context, that
is, there's no specific positio n record from whic h it c an gr ab the data.  Don't worr y about that
for no w—we'l l lear n how to set co ntext later . For no w just tr ust that the
{!Position__c.Name}  merge field wil l render the positio n name , and the <b> HTML tag
will make it bold.
Our Visualfor ce page is no w ready for us to add our inter active map!
Try It Out: Adding the Map to Our Visualforce  Page
The inter active map functio nality that is essential to our Candidate Map f eatur e can be ac hieved
with a blend of Visualfor ce markup and JavaScr ipt that accesses the Yahoo! Maps Web Services.
As pr omised,  you do n't hav e to lear n JavaScr ipt to get the Candidate Map wor king. Instead,
we'll use the sample code in the RecruitingApp-5_0.zip  file y ou do wnloaded fr om
Developer F orce in Expanding the S imple A pp U sing Relatio nships .
291Moving Be yond Point-and-Clic k App De velopment
1.In the RecruitingApp-5_0.zip  file, locate the file CandidateMapSample  and
open it in y our favor ite text editor .
Impor tant : Make sur e that Word Wrap or an y featur e that might add line
breaks to the code is tur ned off in y our text editor .You m ust pr eserve the
original line br eaks in the code sample.  New line br eaks c aused by wor d
wrapping f eatur es in text editors c an br eak the code and pr event the code
sample fr om wor king corr ectly.
Also, be awar e that copy ing code fr om Adobe PDF files c an also c ause
code to br eak, so avoid copy ing code fr om PDF v ersions of this boo k.
2.Select the entir e content of the file , and copy and paste it into the page editor at the
botto m of y our CandidateMap Visualfor ce page. The CandidateMapSample  file
contains the Visualfor ce markup y ou added in the steps abo ve, so just r eplace
everything in the page editor with the entir e sample in the file.
3.Click the sav e icon (
 ) on the page editor .
The inter active map should appear o n your CandidateMap Visualfor ce page , but with an err or
message and without plots. This is bec ause the Candidate Map is stil l out of co ntext and the
page c an't figur e out whic h candidates to sho w.We can fix this by simpl y adding the
CandidateMap Visualfor ce page to our positio n page la youts.
Try It Out: Adding the Candidate Map to Position Page Layouts
Adding Visualfor ce pages to page la youts is as simple as adding fields or sectio ns to page
layouts. And once we add the CandidateMap Visualfor ce page to our positio n page la youts,
the map wil l auto matic ally plot the loc ations of the c andidates who appl y to eac h positio n. It'll
work like magic!
We hav e two page la youts for the P ositio n object and we'l l want the map to appear o n both.
Let's star t by adding the page to the or iginal positio n page la yout (P ositio n Layout).
If you hav e any standar d positio n records that use the P ositio n Layout, navigate to o ne of those
positio ns and c lick the Edit P age La yout link in the upper r ight cor ner of the r ecord. If you
don't hav e any standar d positio n records:
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the P age L ayouts r elated list,  click Edit next to P ositio n Layout.
292Chapter 12:Moving Be yond Point-and-Clic k App De velopment
The P ositio n Layout is r eady to edit.  Let's cr eate a sectio n on the page la yout for the
CandidateMap Visualfor ce page.
4.In the palette , select the F ields c ategory.
5.Drag the S ection user inter face element fr om the palette to just belo w the Descr iption
sectio n on the page la yout.The L ayout P roperties popup windo w appears.
6.In the Section Name  text bo x, enter Candidate Map.
7.In the Displa y Sectio n On Header ar ea, select both the DetailPage  and Edit
Page  checkboxes.
8.In the Layout  drop-do wn list,  choose 1-Column .
9.Click Ok.
Now let's mo ve the CandidateMap Visualfor ce page into our ne w sectio n.
10.Select the Visualfor ce Pages c ategory on the palette.
Notice that the palette lists our CandidateMap Visualfor ce page as a user inter face element.
11.Drag the CandidateMap user inter face element fr om the palette to the Candidate
Map sectio n on the page la yout.
The Candidate Map JavaScr ipt gener ates a map that is 400 pix els high and spans the width
of the scr een.This is just large enough to be useful without co nsuming too m uch room on the
screen.The default pr operties of the Visualfor ce page user inter face element need to be adjusted
to acco mmodate the map . Otherwise, there might be odd spacing ar ound the map and
distracting scr ollbars.
Let's fix the Visualfor ce page user inter face element pr operties to acco mmodate the siz e of the
gener ated map , as wel l as the text we added to the top of the CandidateMap Visualfor ce page.
(In case you do n't remember , the text is “This map sho ws the loc ations of c andidates who hav e
applied for the <b>{!P ositio n__c.N ame}</b> positio n.”)
12.Double-c lick the CandidateMap element to access its pr operties.
13.Set the width to 100% .
14.Set the height to 405.
The height is al ways in pix els, while the width c an be specified either in pix els or as a per centage.
Setting the height to 405 pix els al lows 400 pix els for the map and fiv e mor e pixels for the text.
Perfect!
15.Leave the Showscrollbars  and Showlabel  checkboxes deselected.
16.Click OK to exit the user element pr operties.
17.Click Save on the page la yout.
293Moving Be yond Point-and-Clic k App De velopment
Repeat al l of the abo ve steps for y our other P ositio n object page la yout, the I T Positio n Layout.
Once y ou finish,  it's time to test the Candidate Map!
Try It Out: Testing the Candidate Map
Navigate to an y positio n record with o ne or mor e candidate applic ations. (If you hav en't cr eated
any job applic ations in y our app , now would be a g ood time.) Af ter you br ing up a positio n
record, scroll down to see the Candidate Map in actio n!
Figure 109: Our Working Candidate Map
Notice ho w the Candidate Map Visualfor ce page is embedded within our Recr uiting app just
like the other functio nality we built using the platfor m's dec larative, point-and-c lick tools.
Also notice that the map auto matic ally displa ys only candidates who applied to this positio n.
With very little pr ogramming and a f ew clicks, we'v e mashed up Yahoo Maps Web Services
with Force.co m and made the r esult loo k as if it wer e made expr essly for our Recr uiting app .
Couple the Force.co mWeb Services API with the thousands of Web ser vices that ar e available
on the Inter net toda y, and the possibilities ar e limited o nly by our imaginatio ns!
294Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Implementing the Mass Update Status Button
The Candidate Map f eatur e we just added is both useful and flash y. It'll help r ecruiters do
their jobs mor e efficientl y while adding an e ye-catching gr aphic to an other wise plain col lectio n
of data. The next f eatur e we'r e going to implement is not as a esthetic ally appealing , but is
much mor e useful and likel y to sav e your users an incr edible amount of time.
Picture yourself as a r ecruiter at Univ ersal Co ntainers. You're wor king o n filling a highl y-coveted
positio n that's gar nered hundr eds of job applic ations and y ou've final ly zeroed in o n the thr ee
top c andidates.  However, befor e you can go fur ther y ou need to r eject the job applic ations
submitted by al l of the other c andidates for the positio n—a task that could take hours if y ou
have to open e very one of those job applic ation records and set the Status  to rejected. What
can you do?
Fortunatel y, creating tools that per form mass actio ns on data is y et another of the innumer able
ways you can build upo n the platfor m's functio nality.With a f ew lines of Visualfor ce and the
platfor m's point-and-c lick tools,  we c an enhance the Recr uiting app in a wa y that wil l
dramatic ally incr ease our users' pr oductivit y.When we'r e done, the daunting task of updating
the Status  field o n multiple job applic ations wil l be r educed fr om hours of tedium to a f ew
seconds of easy mouse c licking.
Planning the Mass Update Status Feature
The objectiv e is simple:  create a wa y to update the Status  field o n multiple job applic ations
in a single oper ation.We just need to wor k out a f ew logistics to make sur e the implementatio n
goes smoothl y. For example , wher e in our app wil l users g o to access the Mass Update S tatus
functio nality? And ho w wil l they per form the actual update?
When designing a ne w featur e, it's impor tant to co nsider the co ntext in whic h users wil l access
it. Since the pur pose of the Mass Update S tatus f eatur e is to update the Status  field o n
multiple job applic ations for a single positio n, it's most likel y that users wil l want to per form
this oper ation while vie wing a positio n record.Ther efore, it makes the most sense to pr ovide
access to the Mass Update S tatus f eatur e from positio n records.
So wher e exactl y on a positio n record should we pr ovide access to the f eatur e? Well, back in
Expanding the S imple A pp U sing Relatio nships  on page 85, we added a Job A pplic ations
related list to our positio n records that made it easy for users to quic kly identify al l of the job
applic ations submitted for a positio n.We could le verage that list by adding a c heckbox next
to eac h job applic ation so that users c an select the gr oup of job applic ations the y want to update.
295Moving Be yond Point-and-Clic k App De velopment
Then we could add an Update S tatus custo m list butto n that lets users update the Status
fields o n all of the selected job applic ations in o ne fell swoop .
Once we'r e done, the f eatur e will wor k something like this:
1.Open a positio n record and scr oll down to the Job A pplic ations related list.
2.In the Job A pplic ations related list,  select the c heckboxes next to the job applic ations
you want to update.
Figure 110: Job Applications Related List
3.Click the Update S tatus butto n.
The Mass Update S tatus page appears:
Figure 111: Mass Update Status Page
4.Choose a value for the Status  field.
5.Click Save.
It ma y sound like this wil l take an astounding effor t to implement,  but it's r eally quite simple.
All you need to do is cr eate the Mass Update S tatus page with so me basic Visualfor ce markup,
and add a custo m list butto n to the Job A pplic ations related list o n positio n records.You'll be
done befor e you kno w it!
296Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Try It Out: Creating the Mass Update Status Page
We'll begin implementing the Mass Update S tatus f eatur e by cr eating the Visualfor ce page
that lets users c hoose the value with whic h the Status  field is updated. To make this page
even mor e usable , we'll include a table that sho ws the JobApplication Number ,Position
Title ,Candidate Name , and Status  of eac h selected job applic ation.
1.In the addr ess bar of y our br owser, replace e verything to the r ight of
salesforce.com/  with apex/MassUpdateStatus .
The r esulting URL should loo k something like this:
https://na1.salesforce.com/apex/MassUpdateStatus . Remember to o nly modify
the par t of the URL af ter salesforce.com/ .
2.Press Enter .
3.Click the Create P age MassUpdateS tatus link.
We now hav e a ne w Visualfor ce page c alled MassUpdateS tatus.  Next, we'll add the Visualfor ce
markup that implements the Mass Update S tatus functio nality.
To enter our mar kup, we'll use the Visualfor ce development mode page editor just as we did
befor e. But this time ar ound,  we wo n't need an y JavaScr ipt;Visualfor ce will be able to do it
all!
4.In the footer at the botto m of the MassUpdateS tatus Visualfor ce page , click Page
Editor  to displa y the Visualfor ce development mode page editor .
5.Delete al l of the default mar kup in the Visualfor ce development mode page editor
and r eplace it with the fol lowing mar kup. Remember that instead of t yping, it's
easiest to copy and paste the code fr om the MassUpdateStatusSample  file loc ated
in the RecruitingApp-5_0.zip  file y ou do wnloaded fr om
developer.force.com/books/fundamentals .
<apex:page standardController="Job_Application__c"
recordSetVar="applications">
<apex:sectionHeader title="Mass UpdatetheStatus
ofJobApplications"/>
<apex:form>
<apex:pageBlock>
<apex:pageMessages />
<apex:pageBlockButtons>
<apex:commandButton value="Save"
action="{!save}"/>
<apex:commandButton value="Cancel"
action="{!cancel}"/>
</apex:pageBlockButtons>
<apex:pageBlockSection title="Status Update"
collapsible="false">
<apex:inputField value=
297Moving Be yond Point-and-Clic k App De velopment
"{!Job_Application__c.Status__c}"/>
</apex:pageBlockSection>
<apex:pageBlockSection title="Selected Job
Applications" columns="1">
<apex:pageBlockTable value="{!selected}"
var="application">
<apex:column value="{!application.name}"/>
<apex:column value=
"{!application.position__r.name}"/>
<apex:column headerValue="Candidate Name">
<apex:outputText value=
"{!application.candidate__r.
First_Name__c &''&application.
candidate__r.Last_Name__c}"/>
</apex:column>
<apex:column value=
"{!application.Status__c}"/>
</apex:pageBlockTable>
</apex:pageBlockSection>
</apex:pageBlock>
</apex:form>
</apex:page>
Tip: In this sample code , notice that so me co mponents do n't hav e close
tags. If ther e are no other co mponents nested within a co mponent,  you can
“close” the tag by putting a for ward slash at the end of the star t tag, like this:
<apex:sectionHeader/> .
6.Click Save.
Understanding the MassUpdateStatus Visualforce  Markup
Let's take a mo ment to discuss the main Visualfor ce tags we just added to our MassUpdateS tatus
page.  Although we wo n't go into al l of the use c ases for eac h component or discuss e very
attribute in depth,  you'll get a better understanding of ho w Visualfor ce works.
Tip:To see gener al descr iptions and examples for al l of the Visualfor ce components
and their attr ibutes,  click the Component Ref erence link in the upper r ight cor ner
of the Visualfor ce development mode page editor .
<apex:page>
As with al l Visualfor ce pages,  the MassUpdateS tatus page m ust begin with an <apex:page>
component.  Notice the tag has the same standardController  attribute used in our
interactive Candidate Map f eatur e, although this time it is set to the Job A pplic ation object
(Job_Application__c ).This makes sense bec ause the Mass Update S tatus f eatur e updates
a field o n job applic ation records, not positio n records.
298Chapter 12:Moving Be yond Point-and-Clic k App De velopment
The co mponent also has a recordSetVar  attribute. We use this attr ibute to c hange the
standardcontroller  so that it acco mmodates a set of r ecords rather than a single r ecord.
<apex:sectionHeader>
The <apex:sectionHeader>  component adds a header to the top of the page. The
component's title  attribute deter mines the text in the header .
<apex:form>
The <apex:form>  component establishes a sectio n on the page in whic h users c an enter data
and submit it by c licking a butto n or link.  It's like an in visible co ntainer , similar to a <form>
element in H TML.
<apex:pageBlock>
The <apex:pageBlock>  component designates an outlined ar ea on the page similar to the
areas o n detail pages that co ntain sectio ns.
<apex:pageMessages>
The <apex:pageMessages>  component al locates space for standar d system messages (suc h
as those that notify users when a file is being sav ed) and validatio n rule err ors.These messages
already exist in the Force.co m platfor m, so you do n't hav e to cr eate them—y ou just hav e to
use this co mponent to make r oom for them in c ase the platfor m needs to displa y them.
<apex:pageBlockButtons>
The <apex:pageBlockButtons>  component al locates space for a set of butto ns on the
page.  Its subco mponents specify what the butto ns do and ho w the y are labeled.
<apex:commandButton>
Each <apex:commandButton>  component cr eates an individual butto n inside the
<apex:pageBlockButtons>  component. The Mass Update S tatus page uses t wo
<apex:commandButton>  components:  one to cr eate a Save butto n and a seco nd to cr eate
a Cancel  butto n.The butto ns are styled like standar d Salesfor ce butto ns.
The value  attribute o n the <apex:commandButton>  component deter mines the wor ds
that appear o n the butto n (suc h as “Save” or “Cancel ”), while the action  attribute deter mines
the oper ation that occurs when the butto n is c licked.When setting the action  attribute , you
must use merge field sy ntax.  For example , to co nfigur e the butto n to sav e the data enter ed on
the page , set the action  attribute to {!save} .
Each butto n appears t wice o n our MassUpdateS tatus page—o nce at the top of the ar ea allocated
by the <apex:pageBlock>  component and o nce at the botto m.This is a pr ecautio nary
299Moving Be yond Point-and-Clic k App De velopment
measur e built into the <apex:pageBlockButtons>  component to ensur e that the butto n
functio nality is appar ent to users,  even if the page bloc k is large.
<apex:pageBlockSection>
The <apex:pageBlockSection>  component c an be used within <apex:pageBlock>
components to cr eate a sectio n on a page similar to the sectio ns found o n page la youts. On
this page , the <apex:pageBlockSection>  component is used t wice.
The first instance of the <apex:pageBlockSection>  component has a title  attribute
that's set to "S tatus Update." This text wil l appear at the top of the sectio n. It also has a
collapsible  attribute that deter mines whether users c an col lapse and expand the sectio n
by clicking an arr ow to the lef t of the title. We don't want users to accidental ly collapse this
page bloc k sectio n, so the attr ibute is set to “false.”
The seco nd <apex:pageBlockSection>  component cr eates a sectio n that has a table
showing the job applic ations selected for updating . Its title  attribute is set to “Selected Job
Applic ations." Also , its columns  attribute is set to “1."
Tip: Unlike page la youts, a sectio n on a Visualfor ce page c an hav e mor e than t wo
columns.  However, the platfor m's st ylesheets ar e optimiz ed to acco mmodate o ne or
two columns,  so it's best not to ex ceed that limit.
<apex:inputField>
The <apex:inputField>  component r enders the Status  field fr om the Job A pplic ation
object o n our page.  Use <apex:inputField>  components to cr eate H TML input elements
for an y Salesfor ce field.  All you need to do is set the co mponent's value  attribute to the API
name of the Salesfor ce object and field.
<apex:pageBlockTable>
The <apex:pageBlockTable>  component r enders a table co ntaining field values fr om
multiple r ecords of a specific object.  For our f eatur e, we need to set t wo of this co mponent's
attributes:value  and var.
The value  attribute tel ls the table whic h set of r ecords co ntains the values to displa y. In this
instance , we set the attr ibute to the expr ession {!selected}  to enable the table to displa y
values fr om the selected job applic ations.
The seco nd attr ibute ,var, creates a name that co mponents within the table c an use to r eference
individual r ecords in the r ecord set without actual ly referring to eac h record by name.
300Chapter 12:Moving Be yond Point-and-Clic k App De velopment
<apex:column>
The <apex:column>  components inside the <apex:pageBlockTable>  deter mine the
columns of the table and the job applic ation fields eac h column displa ys. For thr ee of the four
<apex:column>  components,  we just need to set the value  attribute to an expr ession that
references the field using the value of the <apex:pageBlockTable>  component's var
attribute fol lowed by the API name of the field.  For example , the fol lowing expr ession displa ys
the values of the JobApplication Number  field:
{!application.name}
For the Candidate Name  field,  though,  we need to do a bit mor e bec ause the field is actual ly
a combinatio n of the FirstName  and LastName  fields fr om the Candidate object. To
combine these fields,  we use an <apex:outputText>  component inside an <apex:column>
component and set its value  attribute to an expr ession that co mbines the FirstName  and
LastName  fields fr om the Candidate object.
<apex:column headerValue="Candidate Name">
<apex:outputText value="{!application.
candidate__r.First_Name__c &''&
application.candidate__r.Last_Name__c}"/>
</apex:column>
When y ou gener ate column fields in this manner , the value  attribute o n the <apex:column>
component is not set,  so the table doesn't kno w what to use as the column header . Rectify this
by setting the headerValue  attribute o n this <apex:column>  component.
Beyond the Basics
Did y ou kno w you can add a Chatter  feed to a Visualfor ce page?
Say you want to add the Chatter  feed for a positio n to its detail page. You can simpl y use
the <chatter:feed>  standar d component:
<apex:page standardController="Position__c">
<chatter:feed entityId="{$!Position__c.id}">
<apex:detail />
</apex:page>
To find out mor e, see the Visualfor ce Developer's G uide at
wiki.developerforce.com/index.php/Documentation#Reference_Guides .
301Moving Be yond Point-and-Clic k App De velopment
Try It Out: Creating a Custom List Button
Now that our Mass Update S tatus Visualfor ce page is co mplete , we're ready to cr eate the
butto n that users wil l click to access it.
The platfor m giv es us the optio n of cr eating t wo types of butto ns:
Detail P age Buttons
Butto ns that appear o n detail pages in the Butto n Sectio n of the page
layout.
List Buttons
Butto ns that appear in list vie ws, search result la youts, or related lists.
We need a butto n that users c an click in the Job A pplic ations related list o n positio n records,
so let's cr eate a list butto n.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Job Applic ation.
You might be wo ndering wh y we c hose the Job Applic ation object instead of the Posit ion
object,  given that the butto n wil l appear o n positio n records.The r eason is that y ou cr eate list
butto ns on the object that is being listed.
3.In the Custo m Butto ns and Links r elated list,  click New.
Figure 112: Custom Button Edit Page
The custo m butto n edit page should loo k familiar , since it c losely resembles the for mula editor
that we saw pr eviousl y.
4.In the Label  text bo x, enter UpdateStatus .
5.In the Name  text bo x, accept the default value of Update_Status .
302Chapter 12:Moving Be yond Point-and-Clic k App De velopment
6.In the Description  text bo x, enter Updates theStatusfieldon
multiple jobapplications .
We now hav e the optio n to specify whether we ar e creating a detail page link,  detail page
butto n, or list butto n.We've already decided to cr eate a list butto n, but keep these other optio ns
in mind for futur e apps.
7.Select ListButton  as the Display Type .
When we selected the ListButton  optio n, did y ou notice the Display Checkboxes
(forMulti-Record Selection)  checkbox that appear ed beneath it? By leaving this
optio n selected,  the platfor m kno ws to put c heckboxes next to the r ecords in the r elated list.
8.Leave the Display Checkboxes (forMulti-Record Selection)  checkbox
selected.
Next, the Behavior  picklist lets y ou choose what happens when a user c licks the butto n.We
know we want the butto n to open the Mass Update S tatus page , but we c an specify whether
the page opens in a ne w windo w or in the existing windo w, and whether or not it is has a
sidebar and header .You can even co nfigur e the butto n to ex ecute so me JavaScr ipt if necessar y.
For our app , it makes the most sense to co nfigur e the butto n to open the Mass Update P age
in the existing windo w, and to leav e the sidebar and header ther e as wel l.
9.In the Behavior  picklist,  select Display inexisting windowwith
sidebar .
Now we need to specify the co ntent we want to displa y.To do this,  we'll first need to indic ate
the type of co ntent we want to displa y in the Content Source  picklist.
10.In the Content Source  picklist,  select Visualforce Page .
When y ou select the Visualforce Page  optio n, the botto m sectio n of the custo m list
butto n edit page displa ys a Content  picklist. The pic klist co ntains the Visualfor ce pages in
your organiz ation that hav e a standar d controller set to the object for whic h you ar e creating
the butto n.
11.In the Content  drop-do wn list,  select
MassUpdateStatus[MassUpdateStatus] .
12.Click Save.
After clicking Save, you ar e reminded that no users wil l be able to access the butto n until it is
added to a page la yout.This is bec ause cr eating a custo m butto n is similar to adding a custo m
field to an object—e ven if it's defined in the database , nobody wil l be able to see it until y ou
explicitl y add it to a page la yout.
303Moving Be yond Point-and-Clic k App De velopment
Try It Out: Adding a Custom List Button to a Page Layout
Let's finish up our Mass Update S tatus f eatur e by adding the Update S tatus list butto n to our
Positio n page la youts.
1.Click YourName➤Setup➤Create➤Objects .
2.Click Posit ion.
3.In the P age L ayouts r elated list,  click Edit next to the page la yout y ou want to edit
first.
4.Click the w rench ico n (
 ) in the Job A pplic ation related list to edit its pr operties.
5.In the Related List P roperties windo w, click the Buttons  bar at the botto m to expand
the Butto ns sectio n.
Figure 113: Custom Button Edit Page
Here we c an specify the standar d and custo m butto ns that the r elated list displa ys.The Update
Status butto n we just cr eated should appear in the A vailable Butto ns list.
6.Select the Update S tatus butto n and c lick Add to mo ve it to the S elected Butto ns
list.
7.Click OK to exit the Related List pr operties windo w.
8.Click Save.
Repeat the abo ve procedur e for the other P ositio n page la yout. Once that's do ne, the Mass
Update S tatus f eatur e is ready to test!
304Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Try It Out: Testing the Mass Update Status Feature
To test the Mass Update S tatus f eatur e, navigate to a positio n record to whic h multiple
candidates hav e applied,  and scr oll down to the Job A pplic ations related list.  Notice that the
Update S tatus butto n is ther e, and c heckboxes appear next to the job applic ation numbers,
just as we planned.
Now select a f ew job applic ations and c lick the Update S tatus butto n. Our Mass Update S tatus
Visualfor ce page appears.  Notice that the lo wer half of the page list the job applic ation we
selected o n the pr evious page.
Figure 114: Mass Update Status Page Displaying Selected Applications
In the Status picklist,  choose the ne w status for the selected r ecords, and c lick Save.Salesfor ce
updates al l of the selected r ecords with the ne w value.
The f eatur e is a success!
Taking Your App Public with Sites
We've loo ked extensiv ely at what the Force.co m platfor m can do for emplo yees at Univ ersal
Containers,  and ho w it's possible to build upo n that po wer with Web ser vices and Visualfor ce.
Still, there's a ke y par t to a co mpan y's success that's missing fr om the equatio n: the public.  In
today's wor ld, it's cr itical for co mpanies to ex change infor matio n not just with their o wn
emplo yees, but with custo mers,  community members,  developers,  bloggers,  and so for th. And
given the lightening-fast pace of business in the 21st centur y, this infor matio n must be shar ed
with ease and efficienc y.
While most of the data in our Recr uiting app is highl y sensitiv e and should o nly be accessible
to users with the appr opriate per missio ns, there is o ne piece of data that should definitel y be
305Moving Be yond Point-and-Clic k App De velopment
publiciz ed: open positio ns. By enabling job seekers outside of the co mpan y to vie w the positio ns
that ar e available , we expand the pool of c andidates and incr ease the odds of hir ing the best
perso n available. This is centr al to the success of not o nly the Human Resour ces depar tment
at Univ ersal Co ntainers,  but the entir e compan y.
In the past,  to make Force.co m data available to the gener al public,  you had to set up a Web
server, create custo m Web pages ( JSP, PHP, or other),  and use the API to integr ate Force.co m
apps with an exter nal website. This is no lo nger the c ase, thanks to Sites!
Introducing Sites
With Sites, you can cr eate public websites that ar e directly integr ated with y our Force.co m
organiz ation. Anyone on the Inter net can access these sites without logging in with a user name
and passwor d.
Use sites to selectiv ely expose a subset of y our Force.co m data thr ough pages that ar e branded
to matc h the loo k and f eel of y our co mpan y's website.  For example:
•Host a public co mmunity forum for shar ing and voting o n ideas about y our co mpan y,
services,  or pr oducts.
•Provide suppor t infor matio n on a public website wher e custo mers c an sear ch for solutio ns
to their issues.
•Add a public tool to y our por tal that helps custo mers find stor es in their ar ea.
•List al l of your co mpan y's pr oducts o n a public website , with model numbers,  current pr ices,
and pr oduct images pul led dy namic ally from your organiz ation.
Sites ar e hosted by salesfor ce.co m on the same ser vers that host the Force.co mWeb do main,
so ther e are no data integr ation issues.  And bec ause y ou build sites o n the Force.co m platfor m
with Visualfor ce pages,  the Force.co m platfor m hand les all of the validatio n on the data col lected
through the site.
You can build m ultiple Force.co m sites for y our organiz ation. For example , you can cr eate o ne
site for y our Mar keting depar tment,  a separ ate o ne for a co mmunity forum, and another for
an online c atalog .
In this c hapter , we're going to build a v ery basic site c alled Car eer Resour ces that wil l allow
any Web user to vie w the open positio ns at Univ ersal Co ntainers. While it's possible to add
just about an y kind of functio nality to this site , such as sear ch optio ns and electr onic job
applic ation for ms, we're going to keep it simple to limit the amount of Visualfor ce needed to
get the job do ne. By the time y ou're done with this c hapter , though,  anyone on the Inter net
will be able to see the positio ns that ar e open at Univ ersal Co ntainers,  and y ou'll hav e a solid
understanding of the po wer of Sites. Let's begin!
306Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Introducing Force.com  Domain Names
As mentio ned abo ve, sites ar e hosted o n the Force.co m domain. This sav es you the hassle of
dealing with a thir d-par ty Web hosting ser vice, and al lows for seamless integr ation with the
Force.co m platfor m. Each Salesfor ce account that uses sites has its o wn reserved sectio n on
the Force.co m domain ser vers.
Befor e you begin cr eating sites,  you m ust register a unique Force.co m domain name that wil l
identify y our account's space o n the Force.co m domain. Your Force.co m domain name is a
URL that co nsists of a pr efix fol lowed by a str ing of c haracters that Salesfor ce provides.
Prior to cr eating y our first site , you m ust register y our Force.co m domain name. You only hav e
to do this o ne time , though.  Once y our Force.co m domain name is r egister ed, you ne ver hav e
to repeat this par t of the pr ocess again.
Try It Out: Registering Your Force.com  Domain Name
To register y our Force.co m domain name:
1.Click YourName➤Setup➤Develop➤Sites.
The sites r egistr ation page appears.  Near the botto m of the page is a text bo x in a URL. This
is wher e you wil l enter the pr efix for y our Force.co m domain name.  Befor e you do , though,
consider the fol lowing:
•The Force.co m domain name c an co ntain o nly underscor es and alp hanumer ic characters
(no spaces or punctuatio n), and m ust begin with a letter . Also , it can't end with an
underscor e or co ntain t wo co nsecutiv e underscor es.
•Your Force.co m domain name m ust be unique thr oughout the entir e Force.co m domain.
To avoid an y duplic ate entr ies, consider using y our co mpan y's name or a var iation of y our
compan y's name , such as mycompanysite .
•Salesfor ce combines the pr efix y ou enter with the r est of the URL o n the page to cr eate
your Force.co m domain name.  For example , if you enter mycompanysite  as your pr efix
and the r est of the URL is -developer-edition.na1.force.com , your ful l Force.co m
domain name wil l be www.mycompanysite-developer-edition.na1.force.com .
307Moving Be yond Point-and-Clic k App De velopment
Figure 115: Sites Registration Page
2.In the text bo x, enter a pr efix for y our Force.co m domain name.
3.Click Check Availabilit y.
Salesfor ce quic kly scans al l of the other Force.co m domain names to make sur e the o ne you
enter ed is unique.  If your Force.co m domain name is unique , you'll see a message indic ating
it's available.  If it's not unique , you'll hav e to tr y another name.
4.Click the link to r eview the SitesTerms of U se. Acknowledge y our acceptance by
selecting the c heckbox.
5.Click Reg ister My Force.com  Domain .
A prompt appears war ning that y ou can't c hange y our Force.co m domain name af ter you
register it.
6.Click OK.
Nice! You're now ready to cr eate y our first Force.co m site.
308Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Try It Out: Creating a Force.com  Site
After register ing y our Force.co m domain name , you should stil l be o n the sites intr oductor y
page.  If you navigated awa y from the page , click YourName➤Setup➤Develop➤Sites
to return.
1.Click New.
The S ites edit page appears. The first field, SiteLabel , is the name of the site as it appears
in the administr ation setup ar ea of the Force.co m platfor m user inter face.
2.In the SiteLabel  text bo x, enter CareerResources .
When y ou click out of the SiteLabel  text bo x, notice that the value Career_Resources
appears in the SiteName  text bo x.SiteName  is the name used when r eferencing the site
in the API.
3.Leave Career_Resources  as the value of the SiteName  text bo x.
4.In the SiteDescription  field,  enter Apublicsitefor
employment—related information atUniversal Containers.
Every site m ust hav e a designated user who c an receiv e site-r elated co mmunications from the
site's visitors and salesfor ce.co m.
5.In the SiteContact  field,  click the loo kup ico n and c hoose y ourself if y our name
is not alr eady the default value.
The next field, Default WebAddress , displa ys your Force.co m domain name fol lowed by
a text bo x. In the text bo x, enter a unique do main suffix using alp hanumer ic characters. The
Force.co m domain name and suffix co nstitute the co mplete default Web addr ess for this site.
For example , if your Force.co m domain name is
www.mycompanysite-developer-edition.na1.force.com  and the suffix is careers ,
the default Web addr ess for this site is
www.mycompanysite-developer-edition.na1.force.com/careers .
After we set up and activate the site , anyone on the Web wil l be able to access the site by
enter ing the default Web addr ess.
6.In the Default WebAddress  text bo x, enter careers .
As with an y Web page , you can allow your site to be accessed via an alter nativ e URL,  one that
is per haps shor ter or easier to r emember .To do this,  you hav e to set up a custo m Web addr ess
through a do main name r egistr ar and co nfigur e it to r edirect users to the default Web addr ess
specified abo ve. If you ar e building the Recr uiting app in y our sandbo x or a v ersion of Salesfor ce
other than De veloper Editio n, you'll see a CustomWebAddress  field in whic h you can
309Moving Be yond Point-and-Clic k App De velopment
enter that custo m Web addr ess. For no w, leave this field blank;  however, if you cr eate a custo m
Web addr ess in the futur e for this site , return to this page to enter the addr ess in this field.
7.Leave the CustomWebAddress  text bo x blank.
A site is not available to the public until it is activated.  If you wer e creating a site for a public
compan y or wor king o n a co mplex site that too k several days to de velop, it would make sense
to create and test the site befor e making it available to e veryone. Since we'r e creating a simple
site for a fictitious co mpan y, it's OK for our site to be immediatel y available when we sav e this
page.
8.Select the Active  checkbox.
The ActiveSiteHomePage  field lets y ou specify whic h Visualfor ce page people see if
they navigate to y our site when it's activ e. Ultimatel y, we'll want this to be a Visualfor ce page
that displa ys all of the open positio ns at Univ ersal Co ntainers page , but we hav en't cr eated
that page y et. For no w, let's just use the default UnderCo nstructio n page inc luded with the
Force.co m platfor m.
9.In the ActiveSiteHomePage  field,  leave UnderConstruction  selected.
Even though we opted to make our site immediatel y activ e, there still may be times in the
futur e in whic h we'l l want to deactivate the site for maintenance or r edesigning .When the site
is inactiv e, users ar e redirected to the Visualfor ce page listed in the Inactive SiteHome
Page  field.  Again,  the Force.co m platfor m inc ludes a default Visualfor ce page for this pur pose.
10.In the Inactive SiteHomePage  field,  leave InMaintenance  selected.
We hav en't begun designing the pages of our site y et, but while we'r e setting up our site's basic
configur ation, we c an specify a site template to make the co nstructio n of our site's pages m uch
easier . A site templat e is a Visualfor ce page that lets y ou dictate the st yle and la yout of an y of
your site's pages that do n't reference a specific site template. That is,  every page o n your site
will inher it the site template's loo k and f eel unless y ou specify another template o n the page
itself .With site templates,  you can co ntrol the visual st yling of y our entir e site fr om a single
file!
If you hav e multiple sites,  you can use the same site template for eac h site to pr eserve a unifor m
style thr oughout y our co mpan y's entir e Web pr esence.  Alter nativ ely, you can cr eate diff erent
site templates for diff erent sites so that visitors instantl y recogniz e a change in co ntext.  For
our Car eers Resour ces site , we're going to use the default Visualfor ce page pr ovided with al l
organiz ations called S iteTemplate.
11.Leave SiteTemplate  selected in the SiteTemplate  field.
310Chapter 12:Moving Be yond Point-and-Clic k App De velopment
The next f ew fields and c heckbox are a bit tec hnical and do n't aff ect our site's functio nality,
so we'r e going to leav e them blank.  It's useful to understand what the y can do , however, since
it's quite likel y you'll want to utiliz e them when cr eating sites in the futur e:
SiteRobots.txt
This file deter mines whic h par ts of y our public site ar e accessible to Web
crawlers.  A Web crawler is a co mputer pr ogram that br owses the Web and
retrieves curr ent data. The data is pr imarily used by sear ch engines for
indexing pur poses,  and for auto mating maintenance tasks o n Web sites,
such as c hecking for br oken links.  However, there are reasons to den y
Web cr awlers access to y our site.  For example , some Web cr awlers ar e
maliciousl y designed to gather co ntact infor matio n from Web pages,  such
as email addr esses,  for spam.  Also ,Web crawlers c an co nsume net working
resour ces, impeding do wnload r ates for legitimate Web users.
SiteFavorite Icon
This ico n appears in a br owser's addr ess field when a user visits the site.
You can use this field to set the favor ite ico n for y our entir e site , or you
can specify an ico n for eac h individual page.
Analytics Tracking Code
This code lets y ou easil y integr ate your site with Google A nalytics. By
integr ating y our site with Google A nalytics, you can track the usage of
your site and site pages,  including the number of visits and page vie ws
over a specific per iod of time , the av erage time visitors spent o n the site ,
and mor e.
Note:This optio n ma y not be available in al l organiz ations.
URLRewriter Class
After setting up y our site , you can cr eate an Apex class to r ewrite your
URLs to make them mor e user-fr iendly. Enter the c lass in this field to
apply it to y our site. To find out mor e, see “Site.UrlRewriter ” in the
Force.com Apex Code De veloper's G uide.
Enable Feeds
This optio n displa ys the S yndication Feeds r elated list,  wher e you can
create and manage sy ndication feeds for users o n your public sites.
Syndic ation feeds  give users the abilit y to r eceiv e updates in exter nal ne ws
readers when ther e are changes to a site. This field is visible o nly if y ou
have the f eatur e enabled for y our organiz ation.
12.Click Save.The S ite detail page appears.
311Moving Be yond Point-and-Clic k App De velopment
Figure 116: The Site Detail Page
Your first site is liv e! If y ou go to the URL y ou enter ed in the Default WebAddress  field
or just c lick the link in the Default WebAddress  field o n the S ite detail page , you'll see
the UnderCo nstructio n Visualfor ce page that we selected as our ActiveSiteHomePage .
Note: Sometimes it takes a f ew minutes for c hanges to y our sites to appear . If the
changes do n't appear immediatel y, check bac k a few minutes later .
Notice that the email us  link opens an email addr essed to the site co ntact.
Figure 117: The UnderConstruction Page
If you go bac k to the S ite detail page and scr oll down, you'll see se veral related lists that displa y
infor matio n suc h as the site's usage and c hange histor y. One of these r elated lists co ntains the
various Visualfor ce pages associated with the site. These ar e default pages inc luded with the
platfor m though,  and no ne of them displa y the positio ns open at Univ ersal Co ntainers,  whic h
is the whole r eason we'r e building the site. We'll hav e to cr eate that page oursel ves, but that
won't be har d since we alr eady pic ked up a f ew Visualfor ce tricks ear lier in this c hapter .
312Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Try It Out: Creating the Public Jobs Page
Now that we'r e ready to cr eate our P ublic Jobs Visualfor ce page , let's ir on out the details so
we can understand pr ecisel y what we'r e creating .
First, we kno w that we want the page to displa y some of the data o n positio n records, such as
each positio n's title , location, and descr iption.Those ar e essential bits of infor matio n to job
seekers. We probabl y shouldn't make the pa y ranges public,  though,  since that infor matio n
could giv e candidates the upper hand when neg otiating salar ies. Also , keep in mind that the
page is g oing to list al l open positio ns, and large sc ale co mpanies might hav e hundr eds or
thousands of open positio ns. For that r eason we'l l want to r estrict the infor matio n we displa y
to just the thr ee essential fields mentio ned abo ve.
Next, we hav e to decide ho w the page wil l look.What colors wil l we use? What for mat wil l
we use to r ender the data? As mentio ned befor e, we want to keep things simple , so let's giv e
the page the same loo k and f eel that positio n records hav e in our app .We'll render the data
in a table , and we'l l add a br ief intr oductor y blur b abo ve the table that wil l orientate the site's
visitors by descr ibing the co ntents of the page and ho w the y should use it.  Let's begin!
1.In the addr ess bar of y our br owser, replace e verything to the r ight of
salesforce.com/  with apex/PublicJobs .
The r esulting URL should loo k something like this:
https://na1.salesforce.com/apex/PublicJobs . Remember to o nly modify the par t
of the URL af ter salesforce.com/ .
2.Press Enter .
3.Click the Create P age P ublicJobs  link.
We now hav e a ne w Visualfor ce page c alled P ublicJobs. The next step is to add the Visualfor ce
code to the page that wil l displa y open positio ns.
4.In the footer at the botto m of the P ublicJobs Visualfor ce page , click Page Editor  to
displa y the Visualfor ce development mode page editor .
5.Delete the default mar kup in the Visualfor ce development mode page editor and
enter the fol lowing:
Tip:You can cut and paste this mar kup fr om a file in the
RecruitingApp-5_0.zip  file y ou do wnloaded fr om
developer.force.com/books/fundamentals .
<apex:page standardController="Position__c"
recordSetVar="positions"
sidebar="false" showHeader="false">
313Moving Be yond Point-and-Clic k App De velopment
<apex:pageBlock>
<h1>Welcome totheUniversal Containers Careers
HomePage!</h1>
<p>Universal Containers isanindustry leader,
buttostayaheadofthepack,weneedtogrow!
Wearecurrently seeking brightandtalented
professionals tojoinourwinning team.Browse
thecurrent openings belowandemailyourresume
toapply.
</p>
<br/>
<apex:pageBlockTable value="{!positions}"
var="position">
<apex:column value="{!position.name}"
rendered="{!IF(position.Status__c ==
'Open-Approved', true,false)}"/>
<apex:column value="{!position.Location__c}"
rendered="{!IF(position.Status__c ==
'Open-Approved', true,false)}"/>
<apex:column value="{!position.Job_Description__c}"
rendered="{!IF(position.Status__c ==
'Open-Approved', true,false)}"/>
</apex:pageBlockTable>
</apex:pageBlock>
</apex:page>
6.Click Save.
The public jobs page appears:
314Chapter 12:Moving Be yond Point-and-Clic k App De velopment
Figure 118: The Public Jobs Page
You pr obabl y recogniz e the co mponents in the mar kup since we used al l of them befor e in our
Mass Update S tatus f eatur e.The page begins with the familiar <apex:page>  and
<apex:pageBlock>  components,  followed by a f ew elementar y HTML tags that add a
header and so me intr oductor y text. Then the <apex:pageBlockTable>  component and a
few <apex:column>  components cr eate a table that displa ys fields fr om a set of r ecords.
Simple!
While al l of the co mponents ar e familiar , the mar kup uses a f ew attr ibutes that we hav en't seen
yet. Let's take a loo k at them.
First, in the <apex:page>  component,  we set the sidebar  and showHeader  attributes to
false .These attr ibutes specify whether the page displa ys the standar d sidebar and tab header
you see o n your app's pages.  If we set these values to true  or do n't set them at al l, the sidebar
and header ar e visible.  However, the sear ch functio nality in our app is r estricted to r egister ed
users,  so having the sidebar appear might mislead our site's visitors into belie ving the y can
search for positio ns when in fact their sear ch attempt wil l result in an err or message.  As for
the tabs,  they don't really make sense o n a single-page site like the o ne we'r e building , so we
shouldn't displa y them. Ther efore, both of these attr ibutes ar e set to false .
315Moving Be yond Point-and-Clic k App De velopment
The other attr ibute that we hav en't co vered yet is the rendered  attribute o n the
<apex:column>  component.  If the value of this attr ibute is true , the field specified in the
value  attribute appears in the table;  if the value is false , the field doesn't appear . Since this
value shouId c hange depending o n the status of the positio n we'r e displa ying, we'v e set the
attribute to an expr ession that resolv es to either tr ue or false. That wa y, the page c an dy namic ally
deter mine whether or not to displa y fields.
For example , the rendered  attributes in our mar kup ar e set to the fol lowing expr ession:
{!IF(position.Status__c =='Open-Approved', true,false)}
The expr ession uses a simple IF()  functio n that o nly resolves to true  if the Status  field o n
a positio n record is set to “Open — A pproved.”This means that our <apex:column>
components wil l only displa y fields fr om positio n records that ar e open,  whic h is per fect bec ause
we only want open positio ns to appear o n our P ublic Jobs page.
That's al l the Visualfor ce markup we'l l need for our site! We just hav e a few mor e clicks lef t
to finish up our app .
Setting Your Active Home Page
When we cr eated our site , we set its ActiveSiteHomePage  field to the
UnderCo nstructio n page bec ause we had y et to cr eate our P ublic Jobs page.  Now that our
public jobs page is r eady to g o, let's set it as the site's ho me page.
1.Click YourName➤Setup➤Develop➤Sites.
2.Click Edit next to the name of y our site.
3.Use the loo kup field to find and select the P ublicJobs page for the ActiveSite
HomePage  field.
4.Click Save.
The P ublic Jobs page is no w the ho me page for y our Car eer Resour ces site;  however, if you
launc h the default Web addr ess in y our br owser, the P ublic Jobs page is not ther e. Instead,
you see a Web page with a message sa ying that author ization is r equir ed.Why would
author ization be necessar y to access a public site?
It tur ns out ther e's stil l one step lef t.We hav e to gr ant public access to the positio n object.
Granting Public Access Settings
Public access settings co ntrol what public users c an do o n eac h site. These settings ar e similar
to the pr ofile settings we set in Expanding the S imple A pp U sing Relatio nships , only this time
316Chapter 12:Moving Be yond Point-and-Clic k App De velopment
we're setting them specific ally for this site and not the entir e app . In fact,  the settings o nly
apply to Inter net users who do not have a Recr uiting A pp login.
For our site , we need to giv e the public “Read ” access to the P ositio n object.  If we do n't, the
platfor m wil l not r ender the P ublic Jobs page bec ause the page co ntains positio n data to whic h
the public doesn't hav e access.
1.From the S ite Details page , click Public Access S ettings.
2.Click Edit.
3.Under Custo m O bject P ermissio ns, enable the “Read ” permissio n on Positio ns.
4.Click Save.
We're done! L et's test our site.
Testing Your Site
Testing y our site is easy—simpl y point y our br owser to the site's default Web addr ess.You
can do this by enter ing the default Web addr ess in y our br owser's addr ess bar , or by c licking
the Default WebAddress  link o n your site's detail page.
Once the P ublic Jobs page loads,  you can see the title , location, and descr iption of eac h open
positio n at Univ ersal Co ntainers,  even if y ou ar en't logged in to the Recr uiting A pp.We've
successful ly published a subset of our data while keeping the r est of it secur e!
We're going to stop her e since we ac hieved our targeted g oal of cr eating a public site.  However,
it's good to think about the additio nal functio nality that y ou could build into y our site to
impr ove its usabilit y. For instance , career websites like ours t ypically hav e sear ch capabilities
that let visitors vie w positio ns based o n specified cr iteria. Also , it's nice to giv e users a mor e
efficient wa y to appl y online r ather than sending a r esume in an email.
All this and so m uch mor e can be implemented using advanced Visualfor ce markup and Apex.
Those topics ar e out this boo k's scope , but the y are thor oughl y covered in the var ious r esour ces
available at developer .force.co m. If you go on to lear n mor e about Visualfor ce and Apex, you
can beco me a tr ue master of c loud co mputing!
317Moving Be yond Point-and-Clic k App De velopment

Chapter 13
Learning More
This boo k has intr oduced so me of the nativ e technologies
associated with the Force.co m platfor m.We've created aIn this c hapter ...
•Developer F orce fully functio nal Recr uiting app , and we'v e intr oduced
•Help and Training
Optio nsVisualfor ce and the Web ser vices API to sho w you ho w it
can be used to build co mposite apps.  But ther e's only so
much we c an co ver in a single boo k—we skipped o ver man y •Multimedia
other po werful tools and optio ns, and didn't talk about ho w•AppEx change P artner
Programyou can shar e your o wn apps with others o n the
AppEx change . Indeed,  we'd be sur prised if y ou didn't hav e•What Do You Think?more questio ns about ho w you can take advantage of al l that
the platfor m has to off er!
Fortunatel y ther e are a number of wa ys you can lear n mor e
about the platfor m.
319
Developer Force
The Developer F orce website is the place to be for Force.co m developers.  It pr ovides a ful l
range of r esour ces inc luding sample code , toolkits,  an o nline de veloper co mmunity, and the
test en vironments necessar y for building apps.  It inc ludes an o nline v ersion of this boo k (written
by Developer F orce staff members) and has infor matio n about the Dreamfor ce event that we
hold e very year for Force.co m platfor m de velopers.  If you need mor e info , have a questio n to
ask, are seeking a toolkit or sample , or just want to dig a little deeper into Force.co m platfor m
development,  the Developer F orce website is the first place y ou should g o.
Let's take a quic k tour:
•Get a De veloper Edit ion account. Take y our applic ation-building skil ls to the next le vel.
A De veloper Editio n account is a fr ee, fully-functio nal Salesfor ce account that al lows you
to get hands-o n exper ience with al l aspects of the platfor m in an en vironment designed for
development.  If you hav en't do ne so alr eady, go to developer.force.com/join  and
create a De veloper Editio n account for y ourself .Then use it to tr y out ne w applic ation
ideas and to test var ious Force.co m platfor m tools and tec hnologies.
•Get the r esour ces y ou need on the Developer F orce wiki.  Of course , a big par t of Developer
Force's missio n is to ensur e that y ou and e very other Force.co m platfor m de veloper has the
suppor t necessar y to build gr eat apps. To this end,  you'll want to kno w about the Wiki
sectio n of the Developer F orce site—wiki.developerforce.com .This is the place to
turn for tools,  documentatio n, and r eference infor matio n for de velopers,  whether y ou're
building nativ e apps like the Recr uiting app , composite apps that use the Web ser vices
API, writing Apex, or getting r eady to distr ibute y our app o n the AppEx change . And
because it's al l maintained o n a wiki,  you'll be able to see tips,  tools,  and best pr actices fr om
other Developer F orce members,  as wel l as co ntribute y our o wn! By de velopers and for
developers,  the wiki is the hear t of the Developer F orce website.
•Want to lear n mor e? Build as y ou lear n with salesfor ce.co m's wor kboo ks! The Force.com
Workbook gets y ou star ted building an app in the c loud with a set of 30-minute tutor ials
that intr oduce var ious Force.co m platfor m featur es.The Chatt erWorkbook takes y ou thr ough
a series of tutor ials o n developing with Chatter . And the Visualfor ceWorkbook gets y ou
started building custo m user inter face Visualfor ce pages. You can find them al l at
wiki.developerforce.com/index.php/Documentation#Getting_Started .
Another gr eat resour ce wor th checking out is Jaso n Ouellette's boo k Development with the
Force.com Plat form: Building Business A pplic ations in the Cloud .
•Take advantage of comm unit y code samples. The Force.com Cookbook collabor ative site
contains doz ens of “recipes”  for both no vice and exper t developers.  Learn how to add e ven
more exciting functio nality to y our apps by accessing the Force.co mAPI, developing Apex
320Chapter 13:Learning Mor e
code, and cr eating Visualfor ce pages. You can read and co mment o n existing r ecipes,  or
submit y our o wn recipes,  at developer.force.com/cookbook .
•Grab these quic k reference guides. The Force.co m developer c heat sheets ar e condensed,
one- to four-page documents with the most co mmo nly used r eference mater ial for a
particular subject.  Print them out and hang them o n your wal l for a handy quic k reference.
Ther e are cheat sheets o n Apex code , formulas, Visualfor ce, the Web ser vices API, and
Chatter .You can find them at
wiki.developerforce.com/index.php/Documentation#Developer_Cheat_Sheets .
•Keep up with the Developer F orce comm unit y.Your f ellow developers of al l levels of
sophistic ation are maintaining liv ely conversatio ns every day on the Developer F orce
discussio n boar ds at
community.salesforce.com/sforce?category.id=developers .You’re welco me
to join in by posting questio ns and co mments of y our o wn, or you can just r ead alo ng and
learn.The fr ee mo nthly Developer F orce newsletter pr ovides a r ecap of the most inter esting
news and infor matio n, deliv ered right to y our email inbo x.
•Get the latest Force.com  plat form ne ws.The Developer F orce blog at
blog.sforce.com/  is wher e the Developer F orce team makes announcements and shar es
some of what it has lear ned in the pr ocess of cr eating and managing mor e than 300 apps
on the AppEx change  director y.This blog thr ives on feedbac k and the cr oss-pol linatio n of
ideas. We welco me y our co mments.
•Take par t in Developer F orce events and act ivities.Developer F orce also spo nsors var ious
special e vents and activities,  like the v ery popular Developer F orce Seminars tour , training
classes,  and our biggest e vent of the y ear,Dreamfor ce—the co nference within a co nference
for Force.co m applic ation developers.  Infor matio n on upco ming e vents is posted o n the
Developer F orce site at developer.force.com  and is inc luded in the Developer F orce
newsletter .
Help and Training Options
In additio n to the Developer F orce website , the platfor m itself off ers lots of help and tr aining
optio ns:
•Find answers to y our quest ions.  Clic k Help  at the top of an y page in the applic ation.
Enter y our ke ywor ds in the S earch box and c lick Go!.The sear ch returns online help topics,
knowledge base solutio ns, and r ecommended tr aining c lasses that matc h the ke ywor ds you
enter ed.
•Take online t raining . Select the Training tab of the Help & Training windo w, choose
your r ole and geogr aphic loc ation, and c lick View C lasses!  to find fr ee online tr aining
classes.  Mor e than fif teen o nline tr aining c lasses ar e available to y ou on-demand,  24/7!
321Learning Mor e
•Attend a c lass. A number of examples in this boo k hav e been pr ovided by Salesfor ce.co m
Training & Cer tification and ar e drawn fr om the exper t-led tr aining courses available
around the wor ld.Salesfor ce.co m training courses pr ovide an oppor tunit y to get hands-o n
exper ience with the Force.co m platfor m and Salesfor ce applic ations, and pr epare you to
become Salesfor ce Certified. To lear n mor e or r egister for a c lass, visit
www.salesforce.com/training .
•Download t ip sheets and best pr actice guides.  Select the Help tab of the Help & Training
windo w and c lick Tips in the task bar to vie w and do wnload tip sheets,  implementatio n
guides,  and best pr actices for specific f eatur es.
Multimedia
Thanks to the har d wor k of our col leagues o n the Salesfor ce.co m Co mmunity and Force.co m
websites,  we hav e an impr essive number of podc asts and videos available.  Our podc asts and
videos keep the Force.co m platfor m co mmunity connected by pr oviding fr ee access to a wide
range of best pr actices,  case studies,  and pr oduct- and platfor m-focused digital audio co ntent.
Find podc asts o n our iT unes c hannel by sear ching for “salesfor ce” in the iT unes Music S tore.
To find our videos,  go to the http://developer.force.com/content/type/Tech+Talk
on the Developer F orce website.
Access to exper t Force.co m platfor m and CRM-r elated luminar y inter views, thought-leadership
presentatio ns, roundtable discussio ns, and best pr actices ar e just a c lick awa y. Happy listening
and watc hing!
AppExchange  Partner Program
With the emergence of The Business WebTM, companies c an off er their ser vices and
applic ations to businesses o ver the Inter net as easil y as r etailers and auctio neers c an co nnect
with o nline co nsumers.  As AppEx change  partners,  more than 150 co mpanies ar e already
participating in this ne w chapter of co mputing by making their off erings available o n The
Business Web via the AppEx change .The AppEx change  partner pr ogram makes it easy for
both ne w and established businesses to join this gr owing co mmunity of c loud co mputing
providers.V isit the P artner P rogram website at www.salesforce.com/partners/  and
join the Force.co mAppEx change  partner pr ogram toda y!
322Chapter 13:Learning Mor e
What Do You Think?
Well that about sums it up . Did y ou like what y ou've read? Has it inspir ed you to cr eate y our
own o n-demand apps and enter the wor ld of c loud co mputing? We certainly hope so! We
welco me an y comments y ou might hav e—indeed,  we count o n your f eedbac k and ideas.  Go
to the Developer F orce discussio n boar ds at
community.salesforce.com/sforce?category.id=developers  or email us at
developerforce@salesforce.com  and let us kno w what y ou think!
323Learning Mor e

Glossary
This glossar y defines ter ms that appear in this guide.
A
Act ivity (Calendar Ev ents/T asks)
Planned task or e vent, optio nally related to another t ype of r ecord suc h
as an account,  contact,  lead,  oppor tunit y, or case.
Administ rator (S ystem Administ rator)
One or mor e individuals in y our organiz ation who c an co nfigur e and
custo mize the applic ation. Users assigned to the S ystem A dministr ator
profile hav e administr ator pr ivileges.
Advanced F unct ion
A for mula functio n designed for use in custo m butto ns, links,  and
s-controls. For example , the INCLUDE  advanced functio n returns the
content fr om an s-co ntrol snippet.
Anal ytic S napshot
An analytic snapshot  lets y ou report on histor ical data.  Author ized users
can sav e tabular or summar y report results to fields o n a custo m object,
then map those fields to corr esponding fields o n a target object. They can
then sc hedule when to r un the r eport to load the custo m object's fields
with the r eport's data.
Anal ytic S napshot R unning U ser
The user whose secur ity settings deter mine the sour ce report's level of
access to data. This by passes al l secur ity settings,  giving al l users who c an
view the r esults of the sour ce report in the target object access to data the y
might not be able to see other wise.
Anal ytic S napshot S ource Repor t
The custo m report scheduled to r un and load data as r ecords into a custo m
object.
Anal ytic S napshot Target O bject
The custo m object that r eceiv es the r esults of the sour ce report as records.
Ape x
Force.co mApex code is a str ongly-typed, object-or iented pr ogramming
language that al lows de velopers to ex ecute flo w and tr ansactio n control
statements o n the Force.co m platfor m ser ver in co njunctio n with c alls to
the Force.co mAPI. Using sy ntax that loo ks like Java and acts like database
stored pr ocedur es,Apex code enables de velopers to add business logic to
most sy stem e vents, including butto n clicks, related r ecord updates,  and
325
Visualfor ce pages. Apex scripts c an be initiated by Web ser vice r equests
and fr om triggers o n objects.
Ape x Cont roller
See Controller,Visualfor ce.
Ape x Page
See Visualfor ce Page.
App
Short for “applic ation.” A collectio n of co mponents suc h as tabs,  reports,
dashboar ds, and Visualfor ce pages that addr ess a specific business need.
Salesfor ce provides standar d apps suc h as S ales and Cal l Center .You can
custo mize the standar d apps to matc h the wa y you wor k. In additio n, you
can pac kage an app and upload it to the AppEx change  along with r elated
components suc h as custo m fields,  custo m tabs,  and custo m objects. Then,
you can make the app available to other Salesfor ce users fr om the
AppEx change .
App Menu
See Force.co m App Menu .
AppEx change
The AppEx change  is a shar ing inter face fr om salesfor ce.co m that al lows
you to br owse and shar e apps and ser vices for the Force.co m platfor m.
Applic ation P rogramming Inter face ( API)
The inter face that a co mputer sy stem,  library, or applic ation provides to
allow other co mputer pr ograms to r equest ser vices fr om it and ex change
data.
Appr oval Act ion
See Workflow and A pproval A ctions.
Appr oval P rocess
An appr oval pr ocess is an auto mated pr ocess y our organiz ation can use to
approve records in Salesfor ce. An appr oval pr ocess specifies the steps
necessar y for a r ecord to be appr oved and who m ust appr ove it at eac h
step. A step c an appl y to al l records inc luded in the pr ocess,  or just r ecords
that hav e certain attr ibutes.  An appr oval pr ocess also specifies the actio ns
to take when a r ecord is appr oved, rejected,  recalled, or first submitted for
approval.
Auto N umber
A custo m field t ype that auto matic ally adds a unique sequential number
to eac h record.These fields ar e read o nly.
326Glossar y
B
Boolean Oper ators
You can use Boolean oper ators in r eport filters to specify the logic al
relatio nship bet ween t wo values.  For example , the AND oper ator bet ween
two values y ields sear ch results that inc lude both values.  Like wise, the OR
operator bet ween t wo values y ields sear ch results that inc lude either value.
C
Class, Ape x
A template or bluepr int fr om whic h Apex objects ar e created.  Classes
consist of other c lasses,  user-defined methods,  variables,  exceptio n types,
and static initializ ation code.  In most c ases, Apex classes ar e modeled o n
their counter parts in Java.
Clone
Clone is the name of a butto n or link that al lows you to cr eate a ne w item
by copy ing the infor matio n from an existing item,  for example , a contact
or oppor tunit y.
Cloud Comput ing
A model for sof tware development and distr ibutio n based o n the Inter net.
The tec hnolog y infr astructur e for a ser vice, including data,  is hosted o n
the Inter net.This al lows co nsumers to de velop and use ser vices with
browsers or other thin c lients instead of in vesting in har dwar e, software,
or maintenance.
Combinat ion C hart
A combinatio n chart plots m ultiple sets of data o n a single c hart. Each
set of data is based o n a diff erent field,  so values ar e easy to co mpar e.You
can also co mbine cer tain c hart types to pr esent data in diff erent wa ys on
a single c hart.
Component, Visualfor ce
Something that c an be added to a Visualfor ce page with a set of tags,  for
example ,<apex:detail> .Visualfor ce includes a number of standar d
components,  or you can cr eate y our o wn custo m co mponents.
Component Ref erence ,Visualfor ce
A descr iption of the standar d and custo m Visualfor ce components that
are available in y our organiz ation.You can access the co mponent libr ary
from the de velopment footer of an y Visualfor ce page or the Visualfor ce
Developer's G uide.
Cont roller,Visualfor ce
An Apex class that pr ovides a Visualfor ce page with the data and business
logic it needs to r un.Visualfor ce pages c an use the standar d controllers
327Glossar y
that co me by default with e very standar d or custo m object,  or the y can
use custo m co ntrollers.
Cont roller Extension
A controller extensio n is an Apex class that extends the functio nality of a
standar d or custo m co ntroller.
Cont rolling F ield
Any standar d or custo m pic klist or c heckbox field whose values co ntrol
the available values in o ne or mor e corr esponding dependent fields.
Custom App
See App.
Custom Cont roller
A custo m co ntroller is an Apex class that implements al l of the logic for
a page without le veraging a standar d controller. Use custo m co ntrollers
when y ou want y our Visualfor ce page to r un entir ely in sy stem mode ,
whic h does not enfor ce the pr ofile-based per missio ns and field-le vel
secur ity of the curr ent user .
Custom F ield
A field that c an be added in additio n to the standar d fields to custo mize
Salesfor ce for y our organiz ation’s needs.
Custom Help
Custo m text administr ators cr eate to pr ovide users with o n-scr een
infor matio n specific to a standar d field,  custo m field,  or custo m object.
Custom Links
Custo m URLs defined by administr ators to integr ate your Salesfor ce data
with exter nal websites and bac k-office sy stems.  Formerly kno wn as Web
links.
Custom O bject
Custo m records that al low you to stor e infor matio n unique to y our
organiz ation.
Custom Repor t Type
See Repor t Type.
Custom S ettings
Custo m settings ar e similar to custo m objects and enable applic ation
developers to cr eate custo m sets of data,  as wel l as cr eate and associate
custo m data for an organiz ation, profile, or specific user . All custo m
settings data is exposed in the applic ation cache, whic h enables efficient
access without the cost of r epeated quer ies to the database. This data c an
then be used by for mula fields,  validatio n rules, Apex, and the Web ser vices
API.
See also Hierarchy Custo m Settings  and List Custo m Settings .
328Glossar y
Custom View
A displa y featur e that lets y ou see a specific set of r ecords for a par ticular
object.
D
Dashboar d
A dashboar d shows data fr om sour ce reports as visual co mponents,  whic h
can be c harts, gauges,  tables,  metr ics, or Visualfor ce pages. They provide
a snapshot of ke y metr ics and per formance indic ators for y our organiz ation.
Each dashboar d can hav e up to 20 co mponents.
Database
An organiz ed col lectio n of infor matio n.The under lying ar chitectur e of
the Force.co m platfor m inc ludes a database wher e your data is stor ed.
Database Table
A list of infor matio n, presented with r ows and columns,  about the perso n,
thing , or co ncept y ou want to tr ack. See also Object .
Data L oader
A Force.co m platfor m tool used to impor t and expor t data fr om your
Salesfor ce organiz ation.
Decimal P laces
Parameter for number , currency, and per cent custo m fields that indic ates
the total number of digits y ou can enter to the r ight of a decimal point,
for example , 4.98 for an entr y of 2.  Note that the sy stem r ounds the
decimal numbers y ou enter , if necessar y. For example , if you enter 4.986
in a field with Decimal Places  of 2,  the number r ounds to 4.99.
Salesfor ce uses the r ound half-up r ounding alg orithm.  Half-wa y values
are always rounded up . For example , 1.45 is r ounded to 1.5.  –1.45 is
rounded to –1.5.
Deleg ated Administ ration
A secur ity model in whic h a gr oup of no n-administr ator users per form
administr ative tasks.
Deleg ated A uthent ication
A secur ity process wher e an exter nal author ity is used to authentic ate
Force.co m platfor m users.
Dependenc y
A relatio nship wher e one object's existence depends o n that of another .
Ther e are a number of diff erent kinds of dependencies inc luding mandator y
fields,  dependent objects (par ent-c hild),  file inc lusion (referenced images,
for example),  and or dering dependencies (when o ne object m ust be
deplo yed befor e another object).
329Glossar y
Dependent F ield
Any custo m pic klist or m ulti-select pic klist field that displa ys available
values based o n the value selected in its corr esponding co ntrolling field.
Detail
A page that displa ys infor matio n about a single object r ecord.The detail
page of a r ecord allows you to vie w the infor matio n, wher eas the edit page
allows you to modify it.
A ter m used in r eports to distinguish bet ween summar y infor matio n and
inclusion of al l column data for al l infor matio n in a r eport.You can toggle
the Show Details /Hide Details  butto n to vie w and hide r eport detail
infor matio n.
Developer Edit ion
A free, fully-functio nal Salesfor ce organiz ation designed for de velopers
to extend,  integr ate, and de velop with the Force.co m platfor m. Developer
Editio n accounts ar e available o n developer .force.co m.
Development as a S ervice (DaaS)
An applic ation development model wher e all development is o n the Web.
This means that sour ce code , compilatio n, and de velopment en vironments
are not o n loc al mac hines,  but ar e Web-based ser vices.
Development En vironment
A Salesfor ce organiz ation wher e you can make co nfigur ation changes that
will not aff ect users o n the pr oductio n organiz ation.Ther e are two kinds
of de velopment en vironments,  sandbo xes and De veloper Editio n
organiz ations.
Developer F orce
The Developer F orce website at developer .force.co m provides a ful l range
of resour ces for platfor m de velopers,  including sample code , toolkits,  an
online de veloper co mmunity, and the abilit y to obtain limited Force.co m
platfor m en vironments.
Document Libr ary
A place to stor e documents without attac hing them to accounts,  contacts,
oppor tunities,  or other r ecords.
E
Email Aler t
Email aler ts are wor kflow and appr oval actio ns that ar e gener ated using
an email template by a wor kflow rule or appr oval pr ocess and sent to
designated r ecipients,  either Salesfor ce users or others.
Email Template
A for m email that co mmunicates a standar d message , such as a welco me
letter to ne w emplo yees or an ac knowledgement that a custo mer ser vice
330Glossar y
request has been r eceiv ed. Email templates c an be perso nalized with merge
fields,  and c an be w ritten in text,  HTML, or custo m for mat.
Enter prise Applic ation
An applic ation that is designed to suppor t functio nality for an organiz ation
as a whole , rather than sol ving a specific pr oblem.
Enter prise Edit ion
A Salesfor ce editio n designed for larger , more complex businesses.
Ent ity Relat ionship Diag ram (E RD)
A data modeling tool that helps y ou organiz e your data into entities (or
objects,  as the y are called in the Force.co m platfor m) and define the
relatio nships bet ween them.  ERD diagr ams for ke y Salesfor ce objects ar e
published in the Web Services API De veloper's G uide.
Event
An event is an activit y that has a sc heduled time.  For example , a meeting ,
or a sc heduled p hone call.
F
Field
A par t of an object that holds a specific piece of infor matio n, such as a
text or curr ency value.
Field-L evel S ecur ity
Settings that deter mine whether fields ar e hidden,  visible , read o nly, or
editable for users based o n their pr ofiles.  Available in Enter prise,
Unlimited,  and De veloper Editio ns only.
Field Dependenc y
A filter that al lows you to c hange the co ntents of a pic klist based o n the
value of another field.
Field Update
Field updates ar e wor kflow and appr oval actio ns that specify the field y ou
want updated and the ne w value for it.  Depending o n the t ype of field,
you can choose to appl y a specific value , make the value blank,  or calculate
a value based o n a for mula you cr eate.
Filter Condit ion/Cr iteria
Conditio n on par ticular fields that qualifies items to be inc luded in a list
view or r eport, such as “State equals Califor nia.”
Folder
A folde r is a place wher e you can stor e reports, dashboar ds, documents,  or
email templates.  Folders c an be public,  hidden,  or shar ed, and c an be set
to read-o nly or r ead/w rite.You co ntrol who has access to its co ntents
based o n roles, permissio ns, public gr oups,  and license t ypes.
331Glossar y
Force.com
The salesfor ce.co m platfor m for building applic ations in the c loud.
Force.co m combines a po werful user inter face, oper ating sy stem,  and
database to al low you to custo mize and deplo y applic ations in the c loud
for your entir e enter prise.
Force.com  App Menu
A menu that enables users to switc h bet ween custo mizable applic ations
(or “apps”) with a single c lick.The Force.co m app menu displa ys at the
top of e very page in the user inter face.
Force.com IDE
An Ec lipse plug-in that al lows de velopers to manage , author , debug and
deplo y Force.co m applic ations in the Ec lipse de velopment en vironment.
Web S ervices API
A SO AP-based Web ser vices applic ation programming inter face that
provides access to y our Salesfor ce organiz ation's infor matio n. See also
Bulk AP I.
Foreign ke y
A field whose value is the same as the pr imary key of another table. You
can think of a for eign ke y as a copy of a pr imary key from another table.
A relatio nship is made bet ween t wo tables by matc hing the values of the
foreign ke y in o ne table with the values of the pr imary key in another .
Formula F ield
A type of custo m field.  Formula fields auto matic ally calculate their values
based o n the values of merge fields,  expr essions, or other values.
Funct ion
Built-in for mulas that y ou can custo mize with input par ameters.  For
example , the D ATE functio n creates a date field t ype from a giv en year,
month, and da y.
G
Global Variable
A special merge field that y ou can use to r eference data in y our
organiz ation.
A method access modifier for an y method that needs to be r eferenced
outside of the applic ation, either in the Web ser vices API or by other
Apex scripts.
Group
A groups is a set of users.  Groups c an co ntain individual users,  other
groups,  or the users in a r ole. Groups c an be used to help define shar ing
access to data or to specify whic h data to sy nchronize when using Connect
for O utloo k or Connect for L otus N otes.
332Glossar y
Users c an define their o wn perso nal gr oups.  Administr ators c an cr eate
public gr oups for use by e veryone in the organiz ation.
Group  Edit ion
A product designed for smal l businesses and wor kgroups with a limited
number of users.
H
Hier archy Custom S ettings
A type of custo m setting that uses a built-in hier archical logic that lets
you “perso naliz e” settings for specific pr ofiles or users. The hier archy logic
checks the organiz ation, profile, and user settings for the curr ent user and
returns the most specific,  or “lowest,”  value.  In the hier archy, settings for
an organiz ation are overridden by pr ofile settings,  whic h, in tur n, are
overridden by user settings.
Home Tab
Starting page fr om whic h users c an choose sidebar shor tcuts and optio ns,
view curr ent tasks and activities,  or select another tab .
Hover Detail
Hover details displa y an inter active overlay containing detailed infor matio n
about a r ecord when users ho ver the mouse o ver a link to that r ecord in
the Recent Items list o n the sidebar or in a loo kup field o n a record detail
page.  Users c an quic kly view infor matio n about a r ecord befor e clicking
View for the r ecord's detail page or Edit for the edit page. The fields
displa yed in the ho ver details ar e deter mined by the r ecord's mini page
layout.The fields that displa y in document ho ver details ar e not
custo mizable.
I
ID
See Salesfor ce Recor d ID .
Integ rated De velopment En vironment (IDE)
A sof tware applic ation that pr ovides co mprehensiv e facilities for sof tware
developers inc luding a sour ce code editor , testing and debugging tools,
and integr ation with sour ce code co ntrol systems.
Immediate Act ion
A wor kflow actio n that ex ecutes instantl y when the co nditio ns of a
workflow rule ar e met.
Impor t Wizard
A tool for impor ting data into y our Salesfor ce organiz ation, accessible
from Setup.
333Glossar y
Instance
The c luster of sof tware and har dwar e represented as a single logic al ser ver
that hosts an organiz ation's data and r uns their applic ations.The
Force.co m platfor m runs o n multiple instances,  but data for an y single
organiz ation is al ways consolidated o n a single instance.
J
Junct ion O bject
A custo m object with t wo master-detail r elatio nships.  Using a custo m
junctio n object,  you can model a “many-to-man y” relatio nship bet ween
two objects. For example , you ma y hav e a custo m object c alled “Bug” that
relates to the standar d case object suc h that a bug could be r elated to
multiple c ases and a c ase could also be r elated to m ultiple bugs.
K
No Glossar y items for this entr y.
L
Layout
See Page L ayout.
Length
Parameter for custo m text fields that specifies the maxim um number of
characters (up to 255) that a user c an enter in the field.
Parameter for number , currency, and per cent fields that specifies the
number of digits y ou can enter to the lef t of the decimal point,  for example ,
123.98 for an entr y of 3.
Letter head
Deter mines the basic attr ibutes of an H TML email template.  Users c an
create a letter head that inc ludes attr ibutes like bac kground color , logo,
font siz e, and fo nt color .
List View
A list displa y of items (for example , accounts or co ntacts) based o n specific
criteria.Salesfor ce provides so me pr edefined vie ws.
In the Co nsole tab , the list vie w is the top fr ame that displa ys a list vie w
of records based o n specific cr iteria.The list vie ws you can select to displa y
in the co nsole ar e the same list vie ws defined o n the tabs of other objects.
You cannot cr eate a list vie w within the co nsole.
Locale
The countr y or geogr aphic region in whic h the user is loc ated. The setting
affects the for mat of date and number fields,  for example , dates in the
334Glossar y
English (United S tates) loc ale displa y as 06/30/2000 and as 30/06/2000
in the English (United Kingdo m) loc ale.
In Professional, Enter prise, Unlimited,  and De veloper Editio n
organiz ations, a user ’s individual Locale  setting o verrides the
organiz ation’s Default Locale  setting . In Personal and Group Editio ns,
the organiz ation-level loc ale field is c alled Locale , not Default
Locale .
Long Text Ar ea
Data t ype of custo m field that al lows entr y of up to 32,000 c haracters o n
separ ate lines.
Lookup Dialog
Popup dialog available for so me fields that al lows you to sear ch for a ne w
item,  such as a co ntact,  account,  or user .
Lookup F ield
A type of field that co ntains a linkable value to another r ecord.You can
displa y loo kup fields o n page la youts wher e the object has a loo kup or
master-detail r elatio nship with another object.  For example , cases hav e a
lookup r elatio nship with assets that al lows users to select an asset using a
lookup dialog fr om the c ase edit page and c lick the name of the asset fr om
the c ase detail page.
Lookup Relat ionship
A relatio nship bet ween t wo records so y ou can associate r ecords with eac h
other . For example , cases hav e a loo kup r elatio nship with assets that lets
you associate a par ticular asset with a c ase. On o ne side of the r elatio nship ,
a lookup field al lows users to c lick a loo kup ico n and select another r ecord
from a popup windo w. On the associated r ecord, you can then displa y a
related list to sho w all of the r ecords that hav e been linked to it.  A loo kup
relatio nship has no eff ect on record deletio n or secur ity, and the loo kup
field is not r equir ed in the page la yout.
M
Manual S haring
Recor d-level access r ules that al low record owners to giv e read and edit
permissio ns to other users who might not hav e access to the r ecord any
other wa y.
Man y-to-Man y Relat ionship
A relatio nship wher e each side of the r elatio nship c an hav e man y childr en
on the other side.  Man y-to-man y relatio nships ar e implemented thr ough
the use of junctio n objects.
335Glossar y
Master-Detail Relat ionship
A relatio nship bet ween t wo diff erent types of r ecords that associates the
records with eac h other . For example , accounts hav e a master-detail
relatio nship with oppor tunities. This t ype of r elatio nship aff ects r ecord
deletio n, secur ity, and makes the loo kup r elatio nship field r equir ed on the
page la yout.
Master P icklist
A complete list of pic klist values available for a r ecord type or business
process.
Mat rix Repor t
Matr ix reports are similar to summar y reports but al low you to gr oup and
summar ize data by both r ows and columns. They can be used as the sour ce
report for dashboar d components.  Use this t ype for co mpar ing related
totals,  especial ly if y ou hav e large amounts of data to summar ize and y ou
need to co mpar e values in se veral diff erent fields,  or you want to loo k at
data by date and by pr oduct,  perso n, or geogr aphy.
Merge F ield
A field y ou can put in an email template , mail merge template , custo m
link, or for mula to incor porate values fr om a r ecord. For example ,Dear
{!Contact.FirstName},  uses a co ntact merge field to obtain the value
of a co ntact r ecord's FirstName  field to addr ess an email r ecipient by
his or her first name.
Metadata
Infor matio n about the str uctur e, appear ance, and functio nality of an
organiz ation and an y of its par ts.Force.co m uses XML to descr ibe
metadata.
Mini P age La yout
A subset of the items in a r ecord's existing page la yout that administr ators
choose to displa y in the Co nsole tab's Mini View and in Ho ver Details.
Mini page la youts inher it record type and pr ofile associatio ns, related lists,
fields,  and field access settings fr om the page la yout.
Mult itenanc y
An applic ation model wher e all users and apps shar e a single , commo n
infrastructur e and code base.
N
Notes
Miscel laneous infor matio n per taining to a specific r ecord.
336Glossar y
O
Object
An object al lows you to stor e infor matio n in y our Salesfor ce organiz ation.
The object is the o verall definitio n of the t ype of infor matio n you ar e
storing. For example , the c ase object al low you to stor e infor matio n
regarding custo mer inquir ies. For eac h object,  your organiz ation wil l have
multiple r ecords that stor e the infor matio n about specific instances of that
type of data.  For example , you might hav e a case record to stor e the
infor matio n about Joe S mith's tr aining inquir y and another c ase record
to stor e the infor matio n about Mar y Johnso n's co nfigur ation issue.
Object-L evel Help
Custo m help text that y ou can pr ovide for an y custo m object.  It displa ys
on custo m object r ecord home (o verview), detail,  and edit pages,  as wel l
as list vie ws and r elated lists.
Object-L evel S ecur ity
Settings that al low an administr ator to hide whole tabs and objects fr om
a user so that he or she does not kno w that t ype of data exists.  On the
platfor m you set object-le vel access r ules with object per missio ns on user
profiles.
One-to-Man y Relat ionship
A relatio nship in whic h a single object is r elated to man y other objects.
For example , an account ma y hav e one or mor e related co ntacts.
Org aniz ation
A deplo yment of Salesfor ce with a defined set of licensed users.  An
organiz ation is the vir tual space pr ovided to an individual custo mer of
salesfor ce.co m.Your organiz ation inc ludes al l of your data and applic ations,
and is separ ate fr om all other organiz ations.
Org aniz ation-W ide Defaults
Settings that al low you to specify the baseline le vel of data access that a
user has in y our organiz ation. For example , you can make it so that an y
user c an see an y record of a par ticular object that is enabled in their user
profile, but that the y need extr a per missio ns to edit o ne.
Outbound Message
An out bound message is a wor kflow, appr oval, or milesto ne actio n that
sends the infor matio n you specify to an endpoint y ou designate , such as
an exter nal ser vice. An out bound message sends the data in the specified
fields in the for m of a SO AP message to the endpoint.  Outbound
messaging is co nfigur ed in the Salesfor ce setup menu. Then y ou m ust
configur e the exter nal endpoint. You can cr eate a listener for the messages
using the Web ser vices API.
337Glossar y
Overlay
An overlay displa ys additio nal infor matio n when y ou ho ver your mouse
over cer tain user inter face elements.  Depending o n the o verlay, it wil l
close when y ou mo ve your mouse awa y, click outside of the o verlay, or
click a close butto n.
Owner
Individual user to whic h a record (for example , a contact or c ase) is
assigned.
P
Page La yout
The organiz ation of fields,  custo m links,  and r elated lists o n a record detail
or edit page.  Use page la youts pr imarily for organizing pages for y our
users.  In Enter prise, Unlimited,  and De veloper Editio ns, use field-le vel
secur ity to r estrict users’  access to specific fields.
Picklist
Selectio n list of optio ns available for specific fields in a Salesfor ce object,
for example , the Industry  field for accounts.  Users c an choose a single
value fr om a list of optio ns rather than make an entr y directly in the field.
See also Master P icklist.
Picklist Values
Selectio ns displa yed in dr op-do wn lists for par ticular fields.  Some values
come pr edefined,  and other values c an be c hanged or defined by an
administr ator.
Platform as a S ervice  (PaaS)
An environment wher e developers use pr ogramming tools off ered by a
service pr ovider to cr eate applic ations and deplo y them in a c loud. The
applic ation is hosted as a ser vice and pr ovided to custo mers via the Inter net.
The P aaS v endor pr ovides an API for cr eating and extending specializ ed
applic ations.The P aaS v endor also takes r esponsibilit y for the dail y
maintenance , oper ation, and suppor t of the deplo yed applic ation and eac h
custo mer's data. The ser vice al leviates the need for pr ogrammers to instal l,
configur e, and maintain the applic ations on their o wn har dwar e, software,
and r elated I T resour ces. Services c an be deliv ered using the P aaS
environment to an y mar ket segment.
Platform Edit ion
A Salesfor ce editio n based o n either Enter prise Editio n or Unlimited
Editio n that does not inc lude an y of the standar d Salesfor ce CRM apps,
such as S ales or S ervice & S uppor t.
338Glossar y
Primar y Ke y
A relatio nal database co ncept.  Each table in a r elatio nal database has a
field in whic h the data value uniquel y identifies the r ecord.This field is
called the pr imary key.The r elatio nship is made bet ween t wo tables by
matc hing the values of the for eign ke y in o ne table with the values of the
primary key in another .
Printable View
An optio n that displa ys a page in a pr int-ready for mat.
Private S haring
Private shar ing is the pr ocess of shar ing an uploaded pac kage by using the
URL y ou receiv e from Salesfor ce.This URL is not listed in the
AppEx change . Using the unlisted URL al lows you to shar e a pac kage
without g oing thr ough the listing pr ocess or making it public.
Process Visualiz er
A tool that displa ys a gr aphical version of an appr oval pr ocess. The
view-only diagr am is pr esented as a flo wchart.The diagr am and an
infor matio nal sidebar panel c an help y ou visualiz e and understand the
defined steps,  rule cr iteria, and actio ns that co mprise your appr oval pr ocess.
Product ion Org aniz ation
A Salesfor ce organiz ation that has liv e users accessing data.
Professional Edit ion
A Salesfor ce editio n designed for businesses who need ful l-featur ed CRM
functio nality.
Profile
Defines a user ’s permissio n to per form diff erent functio ns within
Salesfor ce. For example , the S olutio n Manager pr ofile giv es a user access
to create, edit,  and delete solutio ns.
Q
Queue
A holding ar ea for items befor e the y are processed. Salesfor ce uses queues
in a number of diff erent featur es and tec hnologies.
R
Read Onl y
One of the standar d profiles to whic h a user c an be assigned.  Read Onl y
users c an vie w and r eport on infor matio n based o n their r ole in the
organiz ation. (That is,  if the Read Onl y user is the CEO , they can vie w
all data in the sy stem.  If the Read Onl y user has the r ole of Western Rep ,
they can vie w all data for their r ole and an y role belo w them in the
hierarchy.)
339Glossar y
Recent Items
List of links in the sidebar for most r ecentl y accessed r ecords. Note that
not al l types of r ecords are listed in the r ecent items.
Recor d
A single instance of a Salesfor ce object.  For example ,“John Jo nes” might
be the name of a co ntact r ecord.
Recor d ID
See Salesfor ce Recor d ID .
Recor d-L evel S ecur ity
A method of co ntrolling data in whic h you can allow a par ticular user to
view and edit an object,  but then r estrict the r ecords that the user is al lowed
to see.
Recor d N ame
A standar d field o n all Salesfor ce objects. Whene ver a r ecord name is
displa yed in a Force.co m applic ation, the value is r epresented as a link to
a detail vie w of the r ecord. A record name c an be either fr ee-for m text or
an auto number field. RecordName  does not hav e to be a unique value.
Recor d Type
A field available for cer tain r ecords that c an inc lude so me or al l of the
standar d and custo m pic klist values for that r ecord. Recor d types ar e special
fields that y ou can associate with pr ofiles to make o nly the inc luded pic klist
values available to users with that pr ofile.
Rec ycle Bin
A page that lets y ou vie w and r estor e deleted infor matio n. Access the
Recycle Bin by using the link in the sidebar .
Related List
A sectio n of a r ecord or other detail page that lists items r elated to that
record. For example , the S tage Histor y related list of an oppor tunit y or
the Open A ctivities r elated list of a c ase.
Related List Ho ver Links
A type of link that al lows you to quic kly view infor matio n on a detail page
about r elated lists,  by ho vering y our mouse o ver the link. Your
administr ator m ust enable the displa y of ho ver links. The displa yed text
contains the corr esponding r elated list and its number of r ecords.You can
also c lick this t ype of link to jump to the co ntent of the r elated list without
having to scr oll down the page.
Related O bject
Objects c hosen by an administr ator to displa y in the Co nsole tab's mini
view when r ecords of a par ticular t ype ar e sho wn in the co nsole's detail
340Glossar y
view. For example , when a c ase is in the detail vie w, an administr ator c an
choose to displa y an associated account,  contact,  or asset in the mini vie w.
Relat ionship
A connectio n bet ween t wo objects,  used to cr eate r elated lists in page
layouts and detail le vels in r eports. Matc hing values in a specified field in
both objects ar e used to link r elated data;  for example , if one object stor es
data about co mpanies and another object stor es data about people , a
relatio nship al lows you to find out whic h people wor k at the co mpan y.
Repor t
A report returns a set of r ecords that meets cer tain cr iteria, and displa ys it
in organiz ed rows and columns.  Repor t data c an be filter ed, grouped,  and
displa yed gr aphically as a c hart. See Tabular Repor t,Summar y Repor t,
and Matr ix Repor t.
Repor t Type
A report type defines the set of r ecords and fields available to a r eport based
on the r elatio nships bet ween a pr imary object and its r elated objects.
Repor ts displa y only records that meet the cr iteria defined in the r eport
type.Salesfor ce provides a set of pr e-defined standar d report types;
administr ators c an cr eate custo m report types as wel l.
Role Hier archy
A record-level secur ity setting that defines diff erent le vels of users suc h
that users at higher le vels can vie w and edit infor matio n owned by or
shared with users beneath them in the r ole hier archy, regardless of the
organiz ation-wide shar ing model settings.
Rol l-Up S ummar y Field
A field t ype that auto matic ally provides aggr egate values fr om child r ecords
in a master-detail r elatio nship .
Running U ser
Each dashboar d has a running use r, whose secur ity settings deter mine
whic h data to displa y in a dashboar d. If the r unning user is a specific user ,
all dashboar d vie wers see data based o n the secur ity settings of that
user—r egardless of their o wn perso nal secur ity settings.  For dy namic
dashboar ds, you can set the r unning user to be the logged-in user , so that
each user sees the dashboar d accor ding to his or her o wn access le vel.
S
SaaS
See Software as a S ervice (S aaS).
Salesfor ce Recor d ID
A unique 15- or 18-c haracter alp hanumer ic str ing that identifies a single
record in Salesfor ce.
341Glossar y
Sandbo x Org aniz ation
A near ly identic al copy of a Salesfor ce productio n organiz ation.You can
create m ultiple sandbo xes in separ ate en vironments for a var iety of
purposes,  such as testing and tr aining , without co mpromising the data
and applic ations in y our pr oductio n environment.
Save As
Optio n on any standar d, public,  or custo m report to sav e the par ameters
of the r eport without alter ing the or iginal r eport. It cr eates a ne w custo m
report with y our sav ed changes.
Save & N ew
Alter nativ e “save” on most pages with whic h you can sav e your curr ent
changes and cr eate a ne w entr y.
Search
Featur e that lets y ou sear ch for infor matio n that matc hes specified
keywor ds. If you hav e Sidebar S earch, enter sear ch terms in the S earch
sectio n of the sidebar or c lick Advanced S earch... for mor e sear ch optio ns.
If you hav e Global S earch, enter sear ch terms in the sear ch box in the
header .
Search La yout
The organiz ation of fields inc luded in sear ch results,  in loo kup dialogs,
and in the ke y lists o n tab ho me pages.
Setup
An administr ation area wher e you can custo mize and define Force.co m
applic ations. Access S etup thr ough the YourName➤Setup link at the
top of Salesfor ce pages.
Sharing
Allowing other users to vie w or edit infor matio n you own.Ther e are
different wa ys to shar e data:
•Sharing Model—defines the default organiz ation-wide access le vels
that users hav e to eac h other ’s infor matio n and whether to use the
hierarchies when deter mining access to data.
•Role Hier archy—defines diff erent le vels of users suc h that users at
higher le vels can vie w and edit infor matio n owned by or shar ed with
users beneath them in the r ole hier archy, regardless of the
organiz ation-wide shar ing model settings.
•Sharing R ules—al low an administr ator to specify that al l infor matio n
created by users within a giv en gr oup or r ole is auto matic ally shar ed
to the members of another gr oup or r ole.
•Manual S haring—al lows individual users to shar e a specific account
or oppor tunit y with other users or gr oups.
342Glossar y
•Apex-Managed S haring—enables de velopers to pr ogrammatic ally
manipulate shar ing to suppor t their applic ation’s behavior . See
Apex-Managed S haring.
Sharing Model
Behavior defined by y our administr ator that deter mines default access by
users to diff erent types of r ecords.
Sharing R ule
Type of default shar ing cr eated by administr ators.  Allows users in a
specified gr oup or r ole to hav e access to al l infor matio n created by users
within a giv en gr oup or r ole.
Show/Hide Details
Optio n available for r eports that lets y ou sho w/hide the details of individual
column values in r eport results.
Sidebar
Column appear ing o n the lef t side of eac h page that pr ovides links to
recent items and other r esour ces.
Sites
Force.co m sites enables y ou to cr eate public websites and applic ations that
are directly integr ated with y our Salesfor ce organiz ation—without r equir ing
users to log in with a user name and passwor d.
SOAP (S imple O bject Access P rotocol)
A protocol that defines a unifor m wa y of passing XML-encoded data.
Software as a S ervice (S aaS)
A deliv ery model wher e a sof tware applic ation is hosted as a ser vice and
provided to custo mers via the Inter net.The S aaS v endor takes
responsibilit y for the dail y maintenance , oper ation, and suppor t of the
applic ation and eac h custo mer's data. The ser vice al leviates the need for
custo mers to instal l, configur e, and maintain applic ations with their o wn
hardwar e, software, and r elated I T resour ces. Services c an be deliv ered
using the S aaS model to an y mar ket segment.
Source Repor t
A custo m report scheduled to r un and load data as r ecords into a target
object for an analytic snapshot .
Standar d O bject
A built-in object inc luded with the Force.co m platfor m.You can also
build custo m objects to stor e infor matio n that is unique to y our app .
Summar y Repor t
Summar y reports are similar to tabular r eports, but also al low users to
group r ows of data,  view subtotals,  and cr eate c harts.They can be used as
the sour ce report for dashboar d components.  Use this t ype for a r eport to
343Glossar y
show subtotals based o n the value of a par ticular field or when y ou want
to create a hier archical list,  such as al l oppor tunities for y our team,
subtotaled by Stage  and Owner .
System Administ rator
See Administr ator (S ystem A dministr ator) .
T
Tab
A tab is an inter face co mponent that al lows you to navigate ar ound an
app. A tab ser ves as the star ting point for vie wing , editing , and enter ing
infor matio n for a par ticular object. When y ou click a tab at the top of the
page, the corr esponding tab ho me page for that object appears.  A tab c an
be associated with an object,  a Web page , or a Visualfor ce page.
Tabular Repor t
Tabular r eports are the simplest and fastest wa y to loo k at data.  Similar
to a spr eadsheet,  they consist simpl y of an or dered set of fields in columns,
with eac h matc hing r ecord listed in a r ow.Tabular r eports are best for
creating lists of r ecords or a list with a single gr and total. They can't be
used to cr eate gr oups of data or c harts, and c an't be used in dashboar ds
unless r ows ar e limited.  Examples inc lude co ntact mailing lists and activit y
reports.
Task
Assigns a task to a user y ou specify .You can specify the Subject ,
Status ,Priority , and DueDate  of the task. Tasks ar e wor kflow and
approval actio ns that ar e trigger ed by wor kflow rules or appr oval pr ocesses.
For Calender-r elated tasks,  see Activit y (Calendar Ev ents/T asks) .
Text
Data t ype of a custo m field that al lows entr y of an y combinatio n of letters,
numbers,  or sy mbols,  up to a maxim um length of 255 c haracters.
Text Ar ea
A custo m field data t ype that al lows entr y of up to 255 c haracters o n
separ ate lines.
Text Ar ea (L ong)
See Long Text Ar ea.
Time-Dependent Workflo w Act ion
A wor kflow actio n that ex ecutes when the co nditio ns of a wor kflow rule
and an associated time tr igger ar e met.
Time Trigger
An event that star ts accor ding to a specified time thr eshold,  such as se ven
days befor e an oppor tunit y close date.  For example , you might define a
344Glossar y
time-based wor kflow actio n that sends email to the account manager when
a scheduled milesto ne wil l occur in se ven da ys.
U
Unlimited Edit ion
Unlimited Editio n is salesfor ce.co m's flagship solutio n for maximizing
CRM success and extending that success acr oss the entir e enter prise
through the Force.co m platfor m.
URL (Unifor m Resour ce L ocator)
The global addr ess of a website , document,  or other r esour ce on the
Inter net. For example , http://www .salesfor ce.co m.
User Inter face
The la youts that specify ho w a data model should be displa yed.
V
Validat ion R ule
A rule that pr events a r ecord from being sav ed if it does not meet the
standar ds that ar e specified.
Visualfor ce
A simple , tag-based mar kup language that al lows de velopers to easil y
define custo m pages and co mponents for apps built o n the platfor m. Each
tag corr esponds to a coarse or fine-gr ained co mponent,  such as a sectio n
of a page , a related list,  or a field. The co mponents c an either be co ntrolled
by the same logic that is used in standar d Salesfor ce pages,  or de velopers
can associate their o wn logic with a co ntroller w ritten in Apex.
Visualfor ce Cont roller
See Controller,Visualfor ce.
Visualfor ce Page
A web page cr eated using Visualfor ce.Typically,Visualfor ce pages pr esent
infor matio n relevant to y our organiz ation, but the y can also modify or
captur e data. They can be r ender ed in se veral wa ys, such as a PDF
document or an email attac hment,  and c an be associated with a CSS st yle.
W
Web Links
See Custo m Links .
Web S ervice
A mec hanism by whic h two applic ations can easil y exchange data o ver
the Inter net, even if the y run on diff erent platfor ms, are written in diff erent
languages,  or ar e geogr aphically remote fr om eac h other .
345Glossar y
Web Tab
A custo m tab that al lows your users to use exter nal websites fr om within
the applic ation.
Wizard
A user inter face that leads a user thr ough a co mplex task in m ultiple steps.
Workflo w and Appr oval Act ions
Workflow and appr oval actio ns co nsist of email aler ts, tasks,  field updates,
and out bound messages that c an be tr igger ed by a wor kflow rule or
approval pr ocess.
Workflo w Act ion
An email aler t, field update , outbound message , or task that fir es when
the co nditio ns of a wor kflow rule ar e met.
Workflo w Email Aler t
A wor kflow actio n that sends an email when a wor kflow rule is tr igger ed.
Unlike wor kflow tasks,  whic h can only be assigned to applic ation users,
workflow aler ts can be sent to an y user or co ntact,  as lo ng as the y hav e a
valid email addr ess.
Workflo w F ield Update
A wor kflow actio n that c hanges the value of a par ticular field o n a record
when a wor kflow rule is tr igger ed.
Workflo w O utbound Message
A wor kflow actio n that sends data to an exter nal Web ser vice, such as
another c loud co mputing applic ation. Outbound messages ar e used
primarily with co mposite apps.
Workflo w Q ueue
A list of wor kflow actio ns that ar e scheduled to fir e based o n wor kflow
rules that hav e one or mor e time-dependent wor kflow actio ns.
Workflo w R ule
A wor kflow rule sets wor kflow actio ns into motio n when its designated
conditio ns are met. You can co nfigur e wor kflow actio ns to ex ecute
immediatel y when a r ecord meets the co nditio ns in y our wor kflow rule,
or set time tr iggers that ex ecute the wor kflow actio ns on a specific da y.
Workflo w Task
A wor kflow actio n that assigns a task to an applic ation user when a
workflow rule is tr igger ed.
346Glossar y
X
XML (Extensible Mar kup Language)
A mar kup language that enables the shar ing and tr anspor tation of
structur ed data.  All Force.co m components that ar e retrieved or deplo yed
through the Metadata AP I are represented by XML definitio ns.
Y
No Glossar y items for this entr y.
Z
Zip F ile
A data co mpression and ar chive format.
A col lectio n of files r etrieved or deplo yed by the Metadata AP I. See also
Local Project.
347Glossar y

Inde x
__c suffix 36,47
* sear ch wildc ard116
&& functio n73
|| functio n73
A
About this boo k2
Actions, appr oval
See Approval actio ns235
Actions, workflow
See Workflow actio ns201
Activating
approval pr ocesses 238
time-dependent wor kflow217
workflow rules208
Activities,  enabling for custo m objects 38
Administr ation
delegating 184
setup ar ea31
Administr ative per missio ns
global 184
Advanced for mula editor 65
Alerts, workflow
See Workflow email aler ts202
Amazon.com2
Analytics
See Repor ts244
AND() functio n73
Apex
about 14,285
API
__c suffix 36,47
about 13,283
documentatio n320
field labels v s. names 47
labels v s. names,  field 47
labels v s. names,  object 36
name 63
object labels v s. names 36
App setup ar ea31
AppEx change 16
partner pr ogram322Approval actio ns
about 235
creating 236
See also Workflow actio ns235
Approval Histor y related list 231,240
Approval pr ocesses 10,224
actio ns224
activating 238
approving and r ejecting r ecords241
creating 227
delegate appr overs232
histor y infor matio n230
Items to A pprove related list 241
jump-star t vs. standar d setup 227
multiple appr overs234
page la youts 229
planning 226
record editabilit y228
Recruiting app 20
related users 234
Submit for A pproval butto n239
testing 238
visualiz er238
wireless de vices 230
Approval steps
about 231
approval and r ejectio n actio ns233
creating 232
designating an appr over232
ordering232
Approving r ecords241
Apps
about 31
basic elements 8
benefits 9
building iter atively34
cloud co mputing 1
collabor ative10
creating 32
custo m app wiz ard32
data-centr ic9
databases 23
debugging 34
default tab displa y143
detail pages 8349Index
Apps (continued)
distributing o n AppEx change 16
edit pages 8
fields 26
forms8
logos33
metadata-dr iven12
multitenant 11
navigatio n8
objects 24
profiles and 33
setting a default 143
tabs8,33,39
Architectur e, multitenant 11
Areas, page la yout field 78
Assigning page la youts 179
Attachments,  enabling for custo m objects 38
Attributes, Visualfor ce289
Audience , book3
Auto-number data t ypes37
Averages,  report259
B
Blank spaces,  page la youts 80
Blog, Developer F orce321
Boar ds, Developer F orce discussio n321
Business logic 200,224
Butto n layout, list vie w102
Butto ns
adding to page la youts 304
creating custo m list 302
Submit for A pproval239
C
Candidate custo m object 90
creating 90
Candidate Map
adding to page la youts 292
code 291
creating 287
testing 294
Case queues 211
Channel,  Force.co m iT unes 322
Char ts
dashboar d269,270
See Repor ts244
Chatter
about 192Chatter  (continued)
adding elements to Visualfor ce pages 301
feed tr acking 195
following 195
workboo k320
Chatter Desktop 196
Chatter mobile app 196
Chec kbox fields 49
Child r elatio nship 98
Cleansing data 69
Cloning pr ofiles 142
Cloud co mputing
apps 1
databases and 23
platfor ms2
Code
Apex
about 14
Force.co m platfor m281
Code , Candidate Map 291
Collabor ative apps 10
Colors,  tab40
Combinatio n chart262
Communication templates 219
Compan y Dashboar ds folder 269
Components,  dashboar d269
Concatenate 110
Conditio nal highlighting 262
Conditio ns, validatio n rule err or71
Consider ations, recruiting app 18
Contents,  book3
Context 295
Contract Manager pr ofile 140
Controllers,Visualfor ce289
Controlling pic klist fields 57
Crawlers, Web311
Create N ew drop-do wn list 42
Cross-object for mula fields 107
Curr ency fields 49
Custo m app wiz ard32
Custo m email templates 220
Custo m for mula fields
See Formula fields 62
Custo m objects 25
detail page 44
Grant access using hier archies164
queues 211
See also O bjects 19,35
Custo m tab wiz ard38
350Index
D
Dashboar d tab 267
Dashboar ds
about 264
adding a c hart component 270
adding a gauge co mponent 270
adding a metr ic component 272
adding a table co mponent 271
adding to the Ho me tab 272
components 269
creating 267
Recruiting app 22
refreshing 273
running user 268
scheduling 273
secur ity268
Data c leansing 69
Data integr ity175
Data t ypes45
auto-number 37
changing field 47
text37
Data values 26
restricting with page la youts 76
short cut for enter ing numbers 234
Data-centr ic apps 9
Data,  impor ting127
Database co ncepts 28
Databases 23
data values 26
definitio n24
entities 24
fields 26
foreign ke ys28
objects 24
primary keys28
records25
relatio nal26
tables 24
Date fields 50
Days Open field,  calculating the 63
Debugging apps 34
Default app , setting a 143
Default field values 68
Default wor kflow user 217
Defaults,  organiz ation-wide 157
Delegated administr ation groups 186
defining 187
verifying188
Delegates,  appr oval pr ocess 232Delegating administr ation
about 184
groups 186
groups,  defining 187
groups,  verifying188
object-le vel per missio ns185
Demoing apps 16
Dependenc y matr ix, field 58
Dependent loo kup r elatio nship fields
creating 89
Dependent pic klist fields 57
creating 58
Deplo yment status 38
Detail pages 8,43
Developer Editio n5,320
Developer F orce320
about 5
blog 321
discussio n boar ds321
events321
wiki 320
Developer r esour ces319
Development mode ,Visualfor ce286
Development,  metadata-dr iven12
Director y, AppEx change 16
Discussio n boar ds, Developer F orce321
Documentatio n, Force.co m platfor m320,321
Dreamfor ce event320
E
eBay2,12
Edit pages 8,43
Editabilit y, record228
Editor , advanced for mula65
Educ ation ser vices,  Force.co m platfor m321
Email aler ts, workflow
See Workflow email aler ts202
Email templates 219
creating 219,226
merge fields 219
naming 221
selecting merge field t ype221
types220
Emplo yment Website custo m object 118
Entities,  database 24
Entit y relatio nship diagr am, Recr uiting app 125
Error checking r ecords69
Error co nditio ns, validatio n rule71
351Index
Events
enabling for custo m objects 38
Exercises,  book5
Exter nal ID fields 91
F
Favorite ico ns, site311
Feedbac k, sending boo k5
Feeds 311
Field accessibilit y151
defining field-le vel secur ity in154
Field dependenc y matr ix58
Field histor y tracking
enabling for custo m objects 38
Field updates,  workflow
See Workflow field updates 202
Field-le vel secur ity138,149
defining in pr ofiles 151
defining in the F ield A ccessibilit y area154
vs. page la youts 150
Fields
__c suffix 47
adding to loo kup dialogs 102
adding to r elated lists 102
adding to r elated lists o n objects without a tab
115
adding to sear ch results 102
adding to tab ho me pages 102
advanced 54
changing data t ypes47
creating c heckbox49
creating curr ency49
creating date 50
creating dependent loo kup r elatio nship 89
creating dependent pic klist 58
creating for mulas64
creating loo kup r elatio nship 88
creating master-detail r elatio nship 106
creating m ultile vel master-detail r elatio nships
107
creating pic klist 54
creating text 46
data t ype45
default values 68
definitio n26,45
dependent pic klist 57
exter nal ID 91
foreign ke ys28
formula62Fields  (continued)
hierarchical relatio nship 228
index ed91
lookup r elatio nship 87
master-detail r elatio nship 87
merge 62,219
Owner 42
page la youts 76
picklist,  multi-select 54
picklist,  standar d54
primary keys28
properties81
read-o nly81
requir ed32,81
restricting with page la youts 76
searchable 91
standar d vs. custo m26
summar y report259
validatio n rules69
Filters
adding fields to sear ch102
lookup90
setting r eport255,262
Folders
Compan y Dashboar ds269
report248,249
Unfiled P ublic Email Templates 221
Force.co m
cookboo k320
developer c heat sheets 321
workboo k320
Force.co m platfor m
domain name r egister ing307
about 15
API13
app menu 34
AppEx change dir ector y16
checkout 31
coding o n281
collabor ative apps 10
data-centr ic apps 9
databases 23
documentatio n320
domain name 307
help and tr aining 321
integr ating with 283
introductio n7
Metadata AP I13
metadata-dr iven de velopment 12
mobile 14
multitenanc y11352Index
Force.co m platfor m (continued)
objects 24
partners 322
podc asts322
records25
setup ar ea30
structur ed infor matio n9
suppor ting tec hnologies 10
videos 322
Force.co m Platfor m Fundamentals boo k
audience 3
contents 3
following ex ercises in 5
online v ersion3
screenshots 4
sending f eedbac k5
Foreign ke ys28,118
Forms8
Formula fields
about 62
advanced editor 65
checking sy ntax 67
creating 64
custo m report summar y260
IF() functio n64
ISBL ANK() functio n64
merge fields in 62
sample for mulas63
TODAY() functio n63
Formulas
cross-object 107
default value 68
spanning 107
Functio nality, recruiting app 18
Functio ns
&&73
||73
AND() 73
HYP ERLINK 109
IF()64
ISBL ANK() 64,72
ISPICKV AL() 72
OR() 73
TODAY()63
G
Gauges,  dashboar d269,270
Google 2,12
Google A nalytics311Grant A ccess U sing Hier archies c heckbox164
Graphs
See Repor ts244
Grouping r eport records253,259
Groupings,  page la yout field 78
Groups,  public 170
H
Help and tr aining optio ns321
Hierarchical relatio nship fields 228
Hierarchies, role
See Role hier archies138
Highlighting , conditio nal
See Co nditio nal highlighting 262
Hiring Manager pr ofile 146
Histor y tracking, field
enabling for custo m objects 38
Histor y, appr oval pr ocess 230
Home tab 33,264
adding a dashboar d272
HTML email templates 220
HYP ERLINK 109
Hyperlinks
See Links 8
I
Icons
lookup88
site favor ite311
tab40
ID fields,  exter nal91
IF() functio n64
Impor ting data 127
viewing the impor t queue 129
Index ed fields 91
Infor matio n, structur ed9
Instal ling apps 16
Introductor y splash pages 32
ISBL ANK() functio n64,72
ISPICKV AL() functio n72
Items to A pprove related list 241
iTunes,  Force.co m platfor m podc asts o n322
J
JavaScr ipt, with Visualfor ce291
Job A pplic ation custo m object 95
creating 96353Index
Job applic ations
Mass Update S tatus page 297
Mass Update S tatus,  about 295
Job P osting custo m object 117,120
Junctio n objects 117
K
Keys
foreign 118
primary and for eign 28
L
Labels v s. names
field 36,47
object 36,47
Layout, list vie w butto n102
Layouts, page
See Page la youts 76
Layouts, search
See Search layouts 100
Lead queues 211
Links 8
List Butto ns
creating custo m302
List pages 32,43
List vie w butto n layout102
List vie w, role hier archy166
List vie ws8
Lists,  related 44,86
Locked r ecords240
Logic, business 200
Logos, app 33
Lookup dialogs
* sear ch wildc ard116
adding fields to 102
Lookup filters 90
Lookup r elatio nship fields 87
creating 88
icon88
M
Manager field 228
Manual shar ing139,174
defining 174
Man y-to-man y relatio nships 117
Map f eatur e, Recr uiting app
creating 287Marketing U ser pr ofile 140
Markup,Visualfor ce284
using 288
Mash-ups
about 2,283
implementing 287
Mass Update S tatus
about 295
page 297
planning 295
testing 305
Master-detail r elatio nship
primary121
secondary122
secondary, shar ing implic ations173
Master-detail r elatio nship fields 87
creating 106
creating m ultile vel107
organiz ation-wide defaults 162
Matr ix reports247
Matr ix, field dependenc y58
Menu,  Force.co m platfor m
about 34
Merge fields 62,219
name 63
Messages,  workflow out bound
See Workflow out bound messages 202
Metadata AP I13
about 13
Metadata-dr iven de velopment 12
Metr ics, dashboar d269,272
Micr osoft9
Mobile app , Chatter 196
Mobile , Force.co m platfor m14
Model,  metadata-dr iven de velopment 12
Models,  shar ing
See Organiz ation-wide defaults 157
Monitor ing the wor kflow queue 218
Multi-select pic klist fields 54
Multiple users,  suppor ting10
Multitenant ar chitectur e11
N
Names v s. labels
field 36,47
object 36,47
Navigatio n8,39
Notes, enabling for custo m objects 38
Number values,  shor t cut for enter ing234
354Index
O
Object-le vel per missio ns185
Object-le vel secur ity138,140
vs. field-le vel secur ity145
Objects 24
__c suffix 36
about 35
adding c heckbox fields 49
adding curr ency fields 49
adding date fields 50
adding dependent loo kup fields 89
adding dependent pic klist fields 58
adding for mula fields 64
adding loo kup fields 88
adding master-detail fields 106
adding m ultile vel master-detail fields 107
adding pic klist fields 54
adding text fields 46
auto-number ed37
creating 35
creating a tab 39
custo m19
deplo yment status 38
enabling activities 38
enabling field histor y tracking 38
enabling notes and attac hments 38
enabling r eports38
junctio n117
labels v s. names 37
page la youts 76
queues 211
related lists 44,86
relatio nships 20,27,86,117
reporting o n251
setting object-le vel per missio ns145
standar d User88
standar d vs. custo m25,35
validatio n rules69
workflow actio ns and 206
workflow and 204
One-to-man y relatio nships 117
Online boo k version3
Oper ators
Concatenate 110
OR() functio n73
Oracle9
Organiz ation-wide defaults 138,157
deter mining 158
master-detail r elatio nship fields 162
setting 161Organiz ations32
Organizing fields o n pages 76
Other Repor ts category251
Outbound messages,  workflow
See Workflow out bound messages 202
Owner default field 42
P
Page editor ,Visualfor ce286
Page la youts 76
adding custo m list butto ns304
adding Visualfor ce page 292
Approver229
Assigning 179
blank spaces 80
Candidate Map 292
creating 178
Edit L ayout link 94
editor 76
palette 77
quick sav e81
Read-o nly fields 81
related list pr operties115
Requir ed fields 81
restricting field access with 76
saving 81
sectio ns78
vs. field-le vel secur ity150
Pages
detail v s. edit 43
list32,43
page la yout editor 76
Sharing S ettings 161
splash 32
Palette , page la yout77
Partner pr ogram322
Permissio ns
administr ative184
object- v s. record-level145
Personal setup ar ea31
Picklist fields 54
creating 54
creating dependent 58
dependent v s. controlling57
Planning , Mass Update S tatus f eatur e295
Platfor m, Salesfor ce
See Force.co m platfor m7
Platfor ms, cloud co mputing 2
Podcasts322
355Index
Positio n custo m object 35
Primary keys28
Process Visualiz er238
Processes,  appr oval
See Approval pr ocesses 224
Profiles
about 140
apps and 33
cloning 142
creating 142
defining field-le vel secur ity in151
field-le vel secur ity138,149
object-le vel secur ity138,140
setting a default app 143
standar d140
tabs and 41
vs. roles164
Properties, field 81
Public access
about 15
settings 316
Public gr oups 170
Public Jobs page 313
Q
Questio ns to deter mine org-wide defaults 158
Queues 210
about 211
creating 211
impor t129
notify ing members 211
time-dependent wor kflow218
viewing 217
R
Read Onl y profile 140
Read-o nly fields 81
Recor d ID 110
Recor d type field 179
Recor d types
about 176
creating 176
Recor d-level secur ity138
about 157
vs. object-le vel secur ity145
Recor ds25
approving and r ejecting 241
editabilit y in appr oval pr ocesses 228Recor ds (continued)
grouping in a r eport253,259
locked240
submitting for appr oval239
validating befor e saving 69
viewing in queues 217
Recruiter pr ofile 142
Recruiting app
calculating the Da ys Open field 63
Candidate Map 287
Candidate object 90
coding for 281
controlling data access 132
custo m objects 19
custo m pr ofiles 141
design o verview19
Emplo yment Website object 118
entity relatio nship diagr am125
Hiring Manager pr ofile 146
impor ting sample data 127
introductio n17
Job A pplic ation object 95
Job P osting custo m object 117
Job P osting object 120
objects 24
Positio n custo m object 35
reports and dashboar ds22
requir ements 18
Review object 104
role hier archy163
secur ity and shar ing rules20
Standar d Emplo yee pr ofile 146
tabs19
Visualfor ce22
workflow and appr ovals20
Refreshing dashboar ds273
Register ing a F orce.co m do main name 307
Rejecting r ecords241
Related lists 44,86,97
adding fields to 102
adding fields to objects without a tab 115
Approval Histor y231,240
Items to A pprove241
properties115
Relatio nal databases 26
Relatio nship fields 87
Relatio nship , child98
Relatio nships 20,27
about 86
hierarchical228
junctio n objects 117356Index
Relatio nships  (continued)
lookup custo m fields 87
many-to-man y117
master-detail custo m fields 87
overview87
Recruiting app entit y relatio nship diagr am125
reporting o n251
Repor t builder
custo m report251
Repor t types, custo m
about 274
creating 274
Repor ts
about 244
charts256,262
Combinatio n chart262
conditio nal highlighting 262
creating matr ix257
creating summar y251
dashboar ds264
enabling for custo m objects 38
filtering data 255,262
folders 248,249
formats 246
grouping r ecords253,259
objects in 251
Other Repor ts category251
Recruiting app 22
summar y fields 259
tab244,248,249
Requir ed fields 32,81
Requir ements,  recruiting app 18
Resour ces, developer 319
Restr icting fields with page la youts 76
Review custo m object 104
creating 105
Reviewing apps 16
Role hier archies138
about 163
defining 165
Recruiting app 163
views166
vs. an org c hart163
vs. profiles 164
Roles
assigning to wor kflow tasks 207
Roll-up summar y fields
about 112
creating 112
Rules, shar ing
See Sharing rules139Rules, validatio n
See Validatio n rules69
Rules, workflow
See Workflow rules201
Running user , dashboar d268
S
Salesfor ce Mobile 14
salesfor ce.co m
Training & Cer tification6
Sample for mulas63
Sandbo x5
Scheduling dashboar ds273
Screenshots,  book4
Search layouts 100
adding fields to 101
Searchable fields 91
Searching r ecords in loo kups 116
Sectio ns, page la yout78
Security
criteria based shar ing173
Security and shar ing10
designing for y our organiz ation137
field-le vel secur ity138,149
manual shar ing139,174
object-le vel secur ity138,140
organiz ation-wide defaults 138,157
overview138
profiles v s. roles164
record types176
record-level secur ity138,157
Recruiting app 20
role hier archies138,163
setting object-le vel per missio ns145
sharing rules139,168
single sign-o n189
Sending boo k feedbac k5
Services, Web
See Web ser vices 283
Setup ar ea30
detail pages v s. edit pages 43
Field accessibilit y151
Sharing
criteria-based 173
overriding 185
Sharing apps 16
Sharing models
See Organiz ation-wide defaults 157
357Index
Sharing rules139
about 168
creating 171
public gr oups 170
Sharing settings page 161
Sharing, manual
See Manual shar ing139
Short cut for enter ing number values 234
Site templates 310
Sites
about 306
active site ho me page 316
creating 309
favor ite ico n311
Force.co m do main names,  about 307
public access settings 316
Public Jobs page 313
register ing a F orce.co m do main name 307
See Sites306
testing 317
Sites, Force.co m platfor m15
Solutio n Manager pr ofile 140
Sorted list vie w, role hier archy166
Spanning for mula fields 107
Specific ations, recruiting app 18
Splash pages 32
Standar d Emplo yee pr ofile 146
Standar d objects 25,35
User88
Standar d pic klist fields 54
Standar d profiles 140
editing 141
Standar d User pr ofile 140
Status
Mass Update S tatus page 297
Mass Update S tatus,  about 295
Structur ed infor matio n9
Styles, tab40
Submit for A pproval butto n239
Suffix,  __c 36,47
Summar y fields,  report
about 259
creating custo m260
Summar y reports246
Sums, report259
Syndication feeds 311
Syntax,  checking for mula67
System A dministr ator pr ofile 140
permissio ns184
System L og Co nsole 224T
Tab bar 31
Tables
dashboar d269,271
database 24
Tabs
about 39
adding fields to tab ho me pages 102
appending to users' custo mizations41
creating 39
Dashboar d267
displa y defaults 143
Home33,264
introductio n8
launc hing custo m tab wiz ard38
profiles and 41
recruiting app 19
Repor ts244,248,249
setting default 249
style40
Tabular r eports246
Tags,Visualfor ce284
Tasks
enabling for custo m objects 38
Tasks, workflow
See Workflow tasks 201
Technologies,  suppor ting10
Templates,  email
See Email templates 219
Templates,  site310
Testing
Mass Update S tatus f eatur e305
Text data t ypes37
Text email templates 220
Text fields 46
Time-dependent wor kflow206
about 215
activating 217
creating 215
default wor kflow user 217
queue 218
time tr iggers 216
TODAY() functio n63
Tracking, field histor y
enabling for custo m objects 38
Training & Cer tification6
Training optio ns321
Tree vie w, role hier archy166
Triggers
time-dependent wor kflow216358Index
Triggers  (continued)
workflow rule204
U
Unfiled P ublic Email Templates folder 221
Univ ersal Co ntainers,  about 18
Updates,  workflow field
See Workflow field updates 202
URL Re writer311
Usabilit y175
User inter face design
Visualfor ce14
User object
Manager field 228
User standar d object 88
User, default wor kflow217
Users
dashboar d running user 268
defining 181
hierarchical relatio nship fields 228
suppor ting m ultiple 10
V
Validatio n rules69
&& functio n73
|| functio n73
AND() functio n73
creating 70
error co nditio ns71
ISBL ANK() functio n72
ISPICKV AL() functio n72
OR() functio n73
sample 70
testing 74
Values,  data 26
Videos 322
Viewing queue co ntents 217
Views, defining 182
Visualfor ce14
about 284
adding to page la youts 292
attributes 289
controllers289
creating custo m butto ns302
creating pages 287
dashboar d269
development mode 286
JavaScr ipt291Visualfor ce (continued)
markup284
markup, using 288
page editor 286
page editor , displa ying288
Page tag 289
Recruiting app 22
workboo k320
Visualfor ce email templates 220
Visualfor ce pages
Mass Update S tatus page 297
Public Jobs page 313
W
Web cr awlers 311
Web ser vices
about 283
Web ser vices AP I
See AP I13
Wiki, Developer F orce320
Wildcard, * sear ch116
Wireless de vices,  appr oval pr ocesses and 230
Wizards
approval pr ocess jump-star t227
approval pr ocess standar d setup 227
custo m app 32
custo m for mula field 64
custo m tab 38,39
impor t128
new appr oval step 232
workflow rule203
Workflow
about 200
Recruiting app 20
Workflow actio ns201
objects and 206
time tr iggers 216
time-dependent 206,215
Workflow email aler ts202,218
creating 222
Workflow field updates 202
creating 210,214,237
Workflow out bound messages 202
Workflow queue , time-dependent 218
Workflow rules10
about 201
activating 208
activating time-dependent 217
creating 203,214,222
359Index
Workflow rules (continued)
default wor kflow user 217
evaluatio n criteria204
objects and 204
Workflow tasks 201
assigning to r oles207
creating 205
testing 209Workflow tasks  (continued)
time-dependent 216
Y
Yahoo! 2,12
Yahoo! Maps
integr ating with 283,287
360Index



