6.087 Lecture 1 â€“ January 11, 2010
Introduction to C 
Writing C Programs 
Our First C Program 
1 
1 What is
C?
Dennis Ritchie â€“ AT&T Bell
Laboratories â€“ 1972
16-bit DEC PDP-11
computer (right)
Widely used today
extends to newer system
architectures
efï¬ciency/performance
low-level access
Features of C
C features: 
â€¢ Few keywords 
â€¢ Structures, unions â€“ compound data types 
â€¢ Pointers â€“ memory, arrays 
â€¢ External standard library â€“ I/O, other facilities 
â€¢ Compiles to native code 
â€¢ Macro preprocessor 
2 
Versions of C
Evolved over the years: 
1972 â€“ C invented â€¢ 
â€¢	1978 â€“ The C Programming Language published; ï¬rst 
speciï¬cation of language 
â€¢	1989 â€“ C89 standard (known as ANSI C or Standard C) 
â€¢	1990 â€“ ANSI C adopted by ISO, known as C90
1999 â€“ C99 standard
â€¢ 
â€¢	mostly backward-compatible 
â€¢ not completely implemented in many compilers 
2007 â€“ work on new C standard C1X announced â€¢ 
In this course: ANSI/ISO C (C89/C90) 
3 
What is C used for?
Systems programming: 
â€¢	OSes, like Linux 
â€¢	microcontrollers: automobiles and airplanes 
â€¢	embedded processors: phones, portable electronics, etc. 
â€¢	DSP processors: digital audio and TV systems
. . .
â€¢ 
4 
C vs. related languages
â€¢	More recent derivatives: C++, Objective C, C# 
â€¢	Inï¬‚uenced: Java, Perl, Python (quite different) 
C lacks: â€¢ 
â€¢	exceptions 
â€¢	range-checking 
â€¢ garbage collection
â€¢ object-oriented programming
â€¢	polymorphism
. . .
â€¢ 
Low-level language faster code (usually) â€¢	 â‡’ 
5 
Warning: low-level language!
Inherently unsafe: 
â€¢	No range checking 
â€¢	Limited type safety at compile time 
â€¢	No type checking at runtime 
Handle with care. 
â€¢	Always run in a debugger like gdb (more later. . . ) 
Never run as rootâ€¢ 
Never test code on the Athena servers â€¢ 
Athena is MIT's UNIX-based computing environment. OCW does not provide access to it. 
6 11
6.087 Lecture 1 â€“ January 11, 2010
Introduction to C 
Writing C Programs 
Our First C Program 
7 
Editing C code
.c extension â€¢ 
â€¢ Editable directly 
More later. . . â€¢ 
7 
Compiling a program
â€¢	gcc (included with most Linux distributions): compiler 
.o extension â€¢ 
â€¢	omitted for common programs like gcc 
8 
More about gcc
â€¢ Run gcc: 
athena% gcc -Wall infilename.c -o 
outfilename.o 
â€¢ -Wall enables most compiler warnings 
â€¢ More complicated forms exist 
â€¢ multiple source ï¬les 
â€¢ auxiliary directories
â€¢ optimization, linking
â€¢ Embed debugging info and disable optimization: 
athena% gcc -g -O0 -Wall infilename.c -o 
outfilename.o 
Athena is MIT's UNIX-based computing environment. OCW does not provide access to it. 
9 11
Debugging
Figure: gdb: command-line debugger 
10 
Using gdb
Some useful commands: 
â€¢	break linenumber â€“ create breakpoint at speciï¬ed line 
â€¢	break file:linenumber â€“ create breakpoint at line in 
ï¬le 
â€¢	run â€“ run program
c â€“ continue execution
â€¢ 
next â€“ execute next line â€¢ 
â€¢	step â€“ execute next line or step into function 
â€¢	quit â€“ quit gdb 
â€¢	print expression â€“ print current value of the speciï¬ed 
expression 
â€¢	help command â€“ in-program help 
11 
Memory debugging
Figure: valgrind: diagnose memory-related problems 
12 
The IDE â€“ all-in-one solution
â€¢	Popular IDEs: Eclipse (CDT), Microsoft Visual C++ 
(Express Edition), KDevelop, Xcode, . . . 
â€¢	Integrated editor with compiler, debugger 
â€¢	Very convenient for larger programs 
Courtesy of The Eclipse Foundation. Used with permission. 
13 
Using Eclipse
â€¢	Need Eclipse CDT for C programs (see 
http://www.eclipse.org/cdt/) 
â€¢	Use New > C Project 
â€¢	choose â€œHello World ANSI C Projectâ€ for simple project 
â€¢	â€œLinux GCC toolchainâ€ sets up gcc and gdb (must be 
installed separately) 
â€¢	Recommended for ï¬nal project 
14 
6.087 Lecture 1 â€“ January 11, 2010
Introduction to C 
Writing C Programs 
Our First C Program 
15 
Hello, 6.087 students
â€¢	In style of â€œHello, world!â€ 
.c ï¬le structure â€¢ 
â€¢	Syntax: comments, macros, basic declarations 
â€¢	The main() function and function structure 
â€¢	Expressions, order-of-operations 
â€¢	Basic console I/O (puts(), etc.) 
15 
Structure of a .c ï¬le
/* Begin with comments about file contents */ 
Insert #include  statements and preprocessor 
definitions 
Function prototypes and variable declarations 
Define main() function 
{ 
Function body  
} 
Define other  function 
{ 
Function body  
} 
.
 . . 
16 
Comments
â€¢	Comments: /âˆ— this is a simple comment âˆ—/ 
â€¢	Can span multiple lines 
/ âˆ—	This comment
spans
m u l t i p l e l i n e s âˆ— /
â€¢	Completely ignored by compiler 
â€¢	Can appear almost anywhere 
/ âˆ—	h e l l o . c âˆ’âˆ’ our f i r s t C program 
Created by Daniel Weller , 01/11/2010 âˆ— / 
17 
The #include macro
â€¢	Header ï¬les: constants, functions, other declarations 
#include <stdio.h> â€“ read the contents of the header ï¬le â€¢ 
stdio.h 
â€¢ stdio.h: standard I/O functions for console, ï¬les 
/ âˆ— h e l l o . c âˆ’âˆ’ our f i r s t C program 
Created by Daniel Weller , 01/11/2010 âˆ— / 
#include < s t d i o . h> / âˆ— basic I /O f a c i l i t i e s âˆ— / 
18 
More about header ï¬les
â€¢	stdio.h â€“ part of the C Standard Library 
â€¢	other important header ï¬les: ctype.h, math.h, 
stdlib.h, string.h, time.h 
â€¢	For the ugly details: visit http: 
//www.unix.org/single_unix_specification/ 
(registration required) 
â€¢	Included ï¬les must be on include path 
â€¢	-Idirectory with gcc: specify additional include 
directories 
â€¢	standard include directories assumed by default 
â€¢	#include "stdio.h" â€“ searches ./ for stdio.h ï¬rst 
19 
Declaring variables
Must declare variables before use â€¢ 
Variable declaration: â€¢ 
int n;
ï¬‚oat phi;
â€¢ int - integer data type 
â€¢ float - ï¬‚oating-point data type 
â€¢ Many other types (more next lecture. . . ) 
20 
Initializing variables
â€¢	Uninitialized, variable assumes a default value 
â€¢	Variables initialized via assignment operator: 
n = 3;
Can also initialize at declaration:
â€¢ 
ï¬‚oat phi = 1.6180339887; 
â€¢	Can declare/initialize multiple variables at once: 
int a, b, c = 0, d = 4; 
21 
Arithmetic expressions
Suppose x and y are variables 
â€¢	x+y, x-y, x *y, x/y, x%y: binary arithmetic 
â€¢	A simple statement:
y = x+3âˆ—x/(yâˆ’4);
â€¢	Numeric literals like 3 or 4 valid in expressions 
â€¢	Semicolon ends statement (not newline) 
â€¢	x += y, x -= y, x *= y, x /= y, x %= y: arithmetic 
and assignment 
22 
Order of operations
â€¢ Order of operations: 
Operator Evaluation direction 
+,-(sign) right-to-left 
*,/,%
 left-to-right 
+,- left-to-right 
=,+=,-=, *=,/=,%= right-to-left 
â€¢ Use parentheses to override order of evaluation 
23 
2. Evaluate multiplies and divides, from left-to-right
ï¬‚oat z = x+3âˆ—x/2.0;â†’ï¬‚oat z = x+6.0/2.0;â†’ï¬‚oat z = x+3.0;
3. Evaluate addition
ï¬‚oat z = x+3.0;â†’ï¬‚oat z = 5.0;
4. Perform initialization with assignment
Now, z= 5.0.
How do I insert parentheses to get z= 4.0?
ï¬‚oat z = (x+3âˆ—x)/(yâˆ’4);
Order of operations
Assume x = 2.0 and y = 6.0. Evaluate the statement 
ï¬‚oat z = x+3 âˆ—x/(yâˆ’4); 
1. Evaluate expression in parentheses
ï¬‚oat z = x+3âˆ—x/(yâˆ’4); ï¬‚oat z = x+3 âˆ—x/2.0;
â†’ 
24 
3. Evaluate addition
ï¬‚oat z = x+3.0;â†’ï¬‚oat z = 5.0;
4. Perform initialization with assignment
Now, z= 5.0.
How do I insert parentheses to get z= 4.0?
ï¬‚oat z = (x+3âˆ—x)/(yâˆ’4);
Order of operations
Assume x = 2.0 and y = 6.0. Evaluate the statement 
ï¬‚oat z = x+3 âˆ—x/(yâˆ’4); 
1. Evaluate expression in parentheses
ï¬‚oat z = x+3âˆ—x/(yâˆ’4); ï¬‚oat z = x+3 âˆ—x/2.0;
â†’ 
2. Evaluate multiplies and divides, from left-to-right 
ï¬‚oat z = x+3âˆ—x/2.0; ï¬‚oat z = x+6.0/2.0; ï¬‚oat z = x+3.0; â†’ â†’ 
24 
4. Perform initialization with assignment
Now, z= 5.0.
How do I insert parentheses to get z= 4.0?
ï¬‚oat z = (x+3âˆ—x)/(yâˆ’4);
Order of operations
Assume x = 2.0 and y = 6.0. Evaluate the statement 
ï¬‚oat z = x+3 âˆ—x/(yâˆ’4); 
1. Evaluate expression in parentheses
ï¬‚oat z = x+3âˆ—x/(yâˆ’4); ï¬‚oat z = x+3 âˆ—x/2.0;
â†’ 
2. Evaluate multiplies and divides, from left-to-right 
ï¬‚oat z = x+3âˆ—x/2.0; ï¬‚oat z = x+6.0/2.0; ï¬‚oat z = x+3.0; â†’ â†’ 
3. Evaluate addition
ï¬‚oat z = x+3.0; ï¬‚oat z = 5.0;
â†’ 
24 
How do I insert parentheses to get z= 4.0?
ï¬‚oat z = (x+3âˆ—x)/(yâˆ’4);
Order of operations
Assume x = 2.0 and y = 6.0. Evaluate the statement 
ï¬‚oat z = x+3 âˆ—x/(yâˆ’4); 
1. Evaluate expression in parentheses
ï¬‚oat z = x+3âˆ—x/(yâˆ’4); ï¬‚oat z = x+3 âˆ—x/2.0;
â†’ 
2. Evaluate multiplies and divides, from left-to-right 
ï¬‚oat z = x+3âˆ—x/2.0; ï¬‚oat z = x+6.0/2.0; ï¬‚oat z = x+3.0; â†’ â†’ 
3. Evaluate addition
ï¬‚oat z = x+3.0; ï¬‚oat z = 5.0;
â†’ 
4. Perform initialization with assignment
Now, 
z = 5.0.
24 
ï¬‚oat z = (x+3âˆ—x)/(yâˆ’4);
Order of operations
Assume x = 2.0 and y = 6.0. Evaluate the statement 
ï¬‚oat z = x+3 âˆ—x/(yâˆ’4); 
1. Evaluate expression in parentheses
ï¬‚oat z = x+3âˆ—x/(yâˆ’4); ï¬‚oat z = x+3 âˆ—x/2.0;
â†’ 
2. Evaluate multiplies and divides, from left-to-right 
ï¬‚oat z = x+3âˆ—x/2.0; ï¬‚oat z = x+6.0/2.0; ï¬‚oat z = x+3.0; â†’ â†’ 
3. Evaluate addition
ï¬‚oat z = x+3.0; ï¬‚oat z = 5.0;
â†’ 
4. Perform initialization with assignment
Now, 
z = 5.0.
How do I insert parentheses to get z = 4.0? 
24 
Order of operations
Assume x = 2.0 and y = 6.0. Evaluate the statement 
ï¬‚oat z = x+3 âˆ—x/(yâˆ’4); 
1. Evaluate expression in parentheses
ï¬‚oat z = x+3âˆ—x/(yâˆ’4); ï¬‚oat z = x+3 âˆ—x/2.0;
â†’ 
2. Evaluate multiplies and divides, from left-to-right 
ï¬‚oat z = x+3âˆ—x/2.0; ï¬‚oat z = x+6.0/2.0; ï¬‚oat z = x+3.0; â†’ â†’ 
3. Evaluate addition
ï¬‚oat z = x+3.0; ï¬‚oat z = 5.0;
â†’ 
4. Perform initialization with assignment
Now, 
z = 5.0.
How do I insert parentheses to get z = 4.0? 
ï¬‚oat z = (x+3âˆ—x)/(yâˆ’4); 
24 
Function prototypes
Functions also must be declared before use â€¢ 
â€¢	Declaration called function prototype 
â€¢	Function prototypes: 
int factorial ( int ); or int factorial ( int n); 
â€¢	Prototypes for many common functions in header ï¬les for 
C Standard Library 
25 
Function prototypes
General form: â€¢ 
return_type function_name(arg1,arg2,...); 
â€¢	Arguments: local variables, values passed from caller 
â€¢	Return value: single value returned to caller when function 
exits 
â€¢	void â€“ signiï¬es no return value/arguments 
int rand(void); 
26 
The main() function
â€¢	main(): entry point for C program 
â€¢	Simplest version: no inputs, outputs 0 when successful, 
and nonzero to signal some error 
int main(void); 
â€¢	Two-argument form of main(): access command-line 
arguments 
int main(int argc, char âˆ—âˆ—argv); 
â€¢	More on the char **argv notation later this week. . . 
27 
Function deï¬nitions
Function declaration 
{ 
declare
 variables; 
program statements; 
} 
â€¢	Must match prototype (if there is one)
variable names donâ€™t have to match
â€¢ 
no semicolon at end â€¢ 
â€¢ Curly braces deï¬ne a block â€“ region of code 
â€¢ Variables declared in a block exist only in that block 
â€¢ Variable declarations before any other statements 
28 
Our main() function
/ âˆ— The main ( ) f u n c t i o n âˆ— / 
i n t main ( void )/ âˆ— entry p oi n t âˆ— / 
{ 
/ âˆ— w r i t e message to console âˆ— / 
puts ( "hello,  6.087 students" ) ; 
return 0; / âˆ— e x i t (0 => success ) âˆ— / 
} 
â€¢	puts(): output text to console window (stdout) and end 
the line 
â€¢	String literal: written surrounded by double quotes 
â€¢	return 0;
exits the function, returning value 0 to caller
29 
Alternative main() function
â€¢	Alternatively, store the string in a variable ï¬rst: 
i n t main ( void )/ âˆ— entry p o in t âˆ— /
{
const char msg [ ] = "hello,
 6.087 students" ;
/ âˆ— w r i t e message to console âˆ— / 
puts (msg ) ; 
â€¢	const keyword: qualiï¬es variable as constant 
â€¢	char: data type representing a single character; written in 
quotes: â€™aâ€™, â€™3â€™, â€™nâ€™ 
â€¢	const char msg[]: a constant array of characters 
30 
More about strings
â€¢	Strings stored as character array 
â€¢	Null-terminated (last character in array is â€™\0â€™ null) 
â€¢	Not written explicitly in string literals 
â€¢	Special characters speciï¬ed using \ (escape character): 
â€¢	\\ â€“ backslash, \â€™ â€“ apostrophe, \â€ â€“ quotation mark 
â€¢	\b, \t, \r, \n â€“ backspace, tab, carriage return, linefeed 
â€¢	\ooo, \xhh â€“ octal and hexadecimal ASCII character 
codes, 
e.g. \x41 â€“ â€™Aâ€™, \060 â€“ â€™0â€™ 
31 
Console I/O
â€¢	stdout, stdin: console output and input streams 
â€¢	puts(string): print string to stdout 
â€¢	putchar(char): print character to stdout 
â€¢	char = getchar(): return character from stdin 
â€¢	string = gets(string): read line from stdin into 
string 
â€¢	Many others - later this week 
32 
Preprocessor macros
â€¢	Preprocessor macros begin with # character 
#include <stdio.h> 
â€¢	#deï¬ne msg "hello, 6.087 students" 
deï¬nes msg as â€œhello, 6.087 studentsâ€ throughout 
source ï¬le 
â€¢	many constants speciï¬ed this way 
33 
Deï¬ning expression macros
â€¢	#deï¬ne can take arguments and be treated like a function 
#deï¬ne add3(x,y,z) ((x)+(y)+(z)) 
â€¢	parentheses ensure order of operations 
â€¢	compiler performs inline replacement; not suitable for 
recursion 
34 
Conditional preprocessor macros
â€¢	#if, #ifdef , #ifndef , #else, #elif , #endif 
conditional preprocessor macros, can control which lines 
are compiled 
â€¢	evaluated before code itself is compiled, so conditions must 
be preprocessor deï¬nes or literals 
â€¢	the gcc option -Dname=value sets a preprocessor deï¬ne 
that can be used 
â€¢	Used in header ï¬les to ensure declarations happen only once 
35 
Conditional preprocessor macros
â€¢	#pragma 
preprocessor directive 
â€¢	#error , #warning 
trigger a custom compiler error/warning 
â€¢	#undef msg 
remove the deï¬nition of msg at compile time 
36 
Compiling our code
After we save our code, we run gcc: 
athena% gcc -g -O0 -Wall hello.c -o 
hello.o 
Assuming that we have made no errors, our compiling is 
complete. 
Athena is MIT's UNIX-based computing environment. OCW does not provide access to it. 
37 1
1
Running our code
Or, in gdb, 
athena% gdb hello.o
.
. . 
Reading
 symbols from hello.o...done. 
(gdb) run 
Starting program: hello.o 
hello, 6.087 students 
Program exited  normally.
(gdb) quit
athena%
Athena is MIT's UNIX-based computing environment. OCW does not provide access to it. 
38 1
1
Summary
Topics covered: 
â€¢ How to edit, compile, and debug C programs 
â€¢	C programming fundamentals:
comments
â€¢ 
â€¢ preprocessor macros, including #include 
â€¢ the main() function 
â€¢ declaring and initializing variables, scope 
â€¢ using puts() â€“ calling a function and passing an argument 
â€¢ returning from a function 
39 
For information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms. 
MIT OpenCourseWare
http://ocw.mit.edu  
6.087 Practical Programming in C
IAP 2010
For information about citing these materials or our Terms of Use,visit: http://ocw.mit.edu/terms.  
